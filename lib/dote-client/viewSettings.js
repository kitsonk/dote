//>>built
require({cache:{"dote-client/fade":function(){define(["dojo/_base/fx","dojo/dom","dojo/dom-style"],function(d,f,h){return{show:function(e,b,p){"string"===typeof e&&(e=f.byId(e));h.set(e,"opacity","0");h.set(e,"display","block");d.fadeIn({node:e,duration:b||500}).play();p&&p.focus()}}})},"dojo/request":function(){define(["./request/default!"],function(d){return d})},"dojo/request/default":function(){define(["exports","require","../has"],function(d,f,h){var e=h("config-requestProvider");e||(e="./xhr");
d.getPlatformDefaultId=function(){return"./xhr"};d.load=function(b,p,d,c){f(["platform"==b?"./xhr":e],function(c){d(c)})}})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html".split(" "),function(d,f,h,e,b,p,m,c,l,a){return f("dijit.form.Button",[c,l],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",
templateString:a,_setValueAttr:"valueNode",_onClick:function(a){var c=this.inherited(arguments);c&&this.valueNode&&(this.valueNode.click(),a.preventDefault(),a.stopPropagation());return c},_fillContent:function(a){if(a&&(!this.params||!("label"in this.params)))if(a=p.trim(a.innerHTML))this.label=a},_setShowLabelAttr:function(a){this.containerNode&&h.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){b.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.",
"","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=p.trim(this.containerNode.innerText||this.containerNode.textContent||""))}})})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/has dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(d,f,h,e,b,p,m,c){return d("dijit.form._FormWidget",[b,m,p,c],{setDisabled:function(c){h.deprecated("setDisabled("+
c+") is deprecated. Use set('disabled',"+c+") instead.","","2.0");this.set("disabled",c)},setValue:function(c){h.deprecated("dijit.form._FormWidget:setValue("+c+") is deprecated.  Use set('value',"+c+") instead.","","2.0");this.set("value",c)},getValue:function(){h.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':
"";this.inherited(arguments)},_setTypeAttr:null})})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/sniff dojo/window ../a11y".split(" "),function(d,f,h,e,b,p,m,c,l){return f("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(a){this._set("disabled",
a);h.set(this.focusNode,"disabled",a);this.valueNode&&h.set(this.valueNode,"disabled",a);this.focusNode.setAttribute("aria-disabled",a?"true":"false");a?(this._set("hovering",!1),this._set("active",!1),a="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",d.forEach(b.isArray(a)?a:[a],function(a){a=this[a];m("webkit")||l.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",
this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var g=this.connect(this.focusNode,"onfocus",function(){this.disconnect(b);this.disconnect(g)}),b=this.connect(this.ownerDocumentBody,"onmouseup",function(){this.disconnect(b);this.disconnect(g);this.focused&&this.focus()});this.scrollOnFocus&&this.defer(function(){c.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=e.get(this.domNode,"display")},focus:function(){if(!this.disabled&&
this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,g){return"number"==typeof a&&"number"==typeof g?isNaN(a)&&isNaN(g)?0:a-g:a>g?1:a<g?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,g){if(void 0==this._lastValueReported&&(null===g||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||
g||void 0===g)&&this._pendingOnChange)this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare",
"dojo/dom","dojo/_base/event","../registry"],function(d,f,h,e){return d("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(b){if(this.disabled)return h.stop(b),!1;var d=!1===this.onClick(b);if(!d&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var f=this.domNode;f.parentNode;f=f.parentNode){var c=e.byNode(f);if(c&&"function"==typeof c._onSubmit){c._onSubmit(b);d=!0;break}}d&&b.preventDefault();return!d},postCreate:function(){this.inherited(arguments);f.setSelectable(this.focusNode,
!1)},onClick:function(){return!0},_setLabelAttr:function(b){this._set("label",b);(this.containerNode||this.focusNode).innerHTML=b}})})},"dijit/form/CheckBox":function(){define("require dojo/_base/declare dojo/dom-attr dojo/has dojo/query dojo/ready ./ToggleButton ./_CheckBoxMixin dojo/text!./templates/CheckBox.html dojo/NodeList-dom".split(" "),function(d,f,h,e,b,p,m,c,l){return f("dijit.form.CheckBox",[m,c],{templateString:l,baseClass:"dijitCheckBox",_setValueAttr:function(a,g){"string"==typeof a&&
(this.inherited(arguments),a=!0);this._created&&this.set("checked",a,g)},_getValueAttr:function(){return this.checked?this.value:!1},_setIconClassAttr:null,postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=this.checked?"checked":""},_fillContent:function(){},_onFocus:function(){this.id&&b("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&b("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");
this.inherited(arguments)}})})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(d,f,h,e){return d("dijit.form.ToggleButton",[h,e],{baseClass:"dijitToggleButton",setChecked:function(b){f.deprecated("setChecked("+b+") is deprecated. Use set('checked',"+b+") instead.","","2.0");this.set("checked",b)}})})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(d,f){return d("dijit.form._ToggleButtonMixin",
null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(d){var e=this.checked;this._set("checked",!e);var b=this.inherited(arguments);this.set("checked",b?this.checked:e);return b},_setCheckedAttr:function(d,e){this._set("checked",d);var b=this.focusNode||this.domNode;f.set(b,"checked",!!d);d?b.setAttribute("checked",""):b.removeAttribute("checked");b.setAttribute(this._aria_attr,String(d));this._handleOnChange(d,e)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||
!1)}})})},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/_base/event"],function(d,f,h){return d("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(d){this._set("readOnly",d);f.set(this.focusNode,"readOnly",d)},_setLabelAttr:void 0,_getSubmitValue:function(d){return!d&&0!==d?"on":d},_setValueAttr:function(d){d=this._getSubmitValue(d);this._set("value",d);f.set(this.focusNode,"value",
d)},reset:function(){this.inherited(arguments);this._set("value",this.params.value||"on");f.set(this.focusNode,"value",this.value)},_onClick:function(d){return this.readOnly?(h.stop(d),!1):this.inherited(arguments)}})})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),function(d,f,h,e,b,p,m,c,l){function a(a){return function(g,c,d){return 2==arguments.length?a["string"==typeof c?
"get":"set"](g,c):a.set(g,c,d)}}var g=function(a){return 1==a.length&&"string"==typeof a[0]},v=function(a){var g=a.parentNode;g&&g.removeChild(a)},n=f.NodeList,u=n._adaptWithCondition,k=n._adaptAsForEach,y=n._adaptAsMap;e.extend(n,{_normalize:function(a,g){var c=!0===a.parse;if("string"==typeof a.template){var b=a.templateFunc||d.string&&d.string.substitute;a=b?b(a.template,a):a}b=typeof a;"string"==b||"number"==b?(a=p.toDom(a,g&&g.ownerDocument),a=11==a.nodeType?e._toArray(a.childNodes):[a]):e.isArrayLike(a)?
e.isArray(a)||(a=e._toArray(a)):a=[a];c&&(a._runParse=!0);return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,g,c,b){if(!(1!=g.nodeType&&"only"==c))for(var q,l=a.length,n=l-1;0<=n;n--){var v=b?this._cloneNode(a[n]):a[n];if(a._runParse&&d.parser&&d.parser.parse){q||(q=g.ownerDocument.createElement("div"));q.appendChild(v);d.parser.parse(q);for(v=q.firstChild;q.firstChild;)q.removeChild(q.firstChild)}n==l-1?p.place(v,g,c):g.parentNode.insertBefore(v,g);g=v}},position:y(m.position),
attr:u(a(c),g),style:u(a(l),g),addClass:k(b.add),removeClass:k(b.remove),toggleClass:k(b.toggle),replaceClass:k(b.replace),empty:k(p.empty),removeAttr:k(c.remove),marginBox:y(m.getMarginBox),place:function(a,g){var c=f(a)[0];return this.forEach(function(a){p.place(a,c,g)})},orphan:function(a){return(a?f._filterResult(this,a):this).forEach(v)},adopt:function(a,g){return f(a).place(this[0],g)._stash(this)},query:function(a){if(!a)return this;var g=new n;this.map(function(c){f(a,c).forEach(function(a){void 0!==
a&&g.push(a)})});return g._stash(this)},filter:function(a){var g=arguments,c=this,b=0;if("string"==typeof a){c=f._filterResult(this,g[0]);if(1==g.length)return c._stash(this);b=1}return this._wrap(h.filter(c,g[b],g[b+1]),this)},addContent:function(a,g){a=this._normalize(a,this[0]);for(var c=0,b;b=this[c];c++)this._place(a,b,g,0<c);return this}});return n})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main".split(" "),
function(d,f,h,e,b,p,m,c,l,a){d=d("dijit.form.TextBox",[m,c],{templateString:l,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',_buttonInputDisabled:p("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==a||"file"==a)&&this.templateString==
this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>p("ie")&&this.defer(function(){try{var a=h.getComputedStyle(this.domNode);if(a){var c=a.fontFamily;if(c){var b=this.domNode.getElementsByTagName("INPUT");if(b)for(a=0;a<b.length;a++)b[a].style.fontFamily=c}}}catch(d){}})},_onInput:function(a){this.inherited(arguments);this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),
!1)})},_setPlaceHolderAttr:function(a){this._set("placeHolder",a);this._phspan||(this._attachPoints.push("_phspan"),this._phspan=f.create("span",{onmousedown:function(a){a.preventDefault()},className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"));this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(a));this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&(this._phspan.style.display=this.placeHolder&&!this.focused&&!this.textbox.value?
"":"none")},_setValueAttr:function(a,c,b){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){e.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(a){e.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",a)},_onBlur:function(a){this.disabled||(this.inherited(arguments),
this._updatePlaceHolder(),p("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.inherited(arguments),this._updatePlaceHolder())}});p("ie")&&(d.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},a._setSelectionRange=c._setSelectionRange=function(a,c,b){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),
a.moveStart("character",-99999),a.moveStart("character",c),a.moveEnd("character",b-c),a.select())});return d})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(d,f,h,e){return d("dijit.form._FormValueWidget",[h,e],{_layoutHackIE7:function(){if(7==f("ie"))for(var b=this.domNode,d=b.parentNode,e=b.firstChild||b,c=e.style.filter,l=this;d&&0==d.clientHeight;)(function(){var a=l.connect(d,"onscroll",function(){l.disconnect(a);
e.style.filter=(new Date).getMilliseconds();l.defer(function(){e.style.filter=c})})})(),d=d.parentNode}})})},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/sniff","./_FormWidgetMixin"],function(d,f,h,e,b){return d("dijit.form._FormValueMixin",b,{readOnly:!1,_setReadOnlyAttr:function(b){f.set(this.focusNode,"readOnly",b);this._set("readOnly",b)},postCreate:function(){this.inherited(arguments);e("ie")&&this.connect(this.focusNode||this.domNode,
"onkeydown",this._onKeyDown);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(b,d){this._handleOnChange(b,d)},_handleOnChange:function(b,d){this._set("value",b);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)},_onKeyDown:function(b){if(b.keyCode==h.ESCAPE&&(!b.ctrlKey&&!b.altKey&&!b.metaKey)&&(9>e("ie")||e("ie")&&0)){b.preventDefault();
var d=b.srcElement,c=d.ownerDocument.createEventObject();c.keyCode=h.ESCAPE;c.shiftKey=b.shiftKey;d.fireEvent("onkeypress",c)}}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/_base/event dojo/keys dojo/_base/lang dojo/on ../main".split(" "),function(d,f,h,e,b,p,m,c){var l=f("dijit.form._TextBoxMixin",null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),
this.constraints)},_setValueAttr:function(a,c,b){var d;void 0!==a&&(d=this.filter(a),"string"!=typeof b&&(b=null!==d&&("number"!=typeof d||!isNaN(d))?this.filter(this.format(d,this.constraints)):""));if(null!=b&&("number"!=typeof b||!isNaN(b))&&this.textbox.value!=b)this.textbox.value=b,this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,b);this.inherited(arguments,[d,c])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},
_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=String(a));this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,a)},format:function(a){return null==a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(a){"auto"==this.textDir&&this.applyTextDir(this.focusNode,this.focusNode.value);
this._processInput(a)},_processInput:function(a){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(m(this.textbox,"keydown, keypress, paste, cut, input, compositionend",p.hitch(this,function(a){var c;if("keydown"==a.type){c=a.keyCode;switch(c){case b.SHIFT:case b.ALT:case b.CTRL:case b.META:case b.CAPS_LOCK:case b.NUM_LOCK:case b.SCROLL_LOCK:return}if(!a.ctrlKey&&
!a.metaKey&&!a.altKey){switch(c){case b.NUMPAD_0:case b.NUMPAD_1:case b.NUMPAD_2:case b.NUMPAD_3:case b.NUMPAD_4:case b.NUMPAD_5:case b.NUMPAD_6:case b.NUMPAD_7:case b.NUMPAD_8:case b.NUMPAD_9:case b.NUMPAD_MULTIPLY:case b.NUMPAD_PLUS:case b.NUMPAD_ENTER:case b.NUMPAD_MINUS:case b.NUMPAD_PERIOD:case b.NUMPAD_DIVIDE:return}if(65<=c&&90>=c||48<=c&&57>=c||c==b.SPACE)return;c=!1;for(var d in b)if(b[d]===a.keyCode){c=!0;break}if(!c)return}}(c=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||
(c=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==b.SPACE?String.fromCharCode(a.keyCode):a.keyCode);c||(c=229);if("keypress"==a.type){if("string"!=typeof c)return;if("a"<=c&&"z">=c||"A"<=c&&"Z">=c||"0"<=c&&"9">=c||" "===c)if(a.ctrlKey||a.metaKey||a.altKey)return}if("input"==a.type){if(this.__skipInputEvent){this.__skipInputEvent=!1;return}}else this.__skipInputEvent=!0;var l={faux:!0},e;for(e in a)"layerX"!=e&&"layerY"!=e&&(d=a[e],"function"!=typeof d&&"undefined"!=typeof d&&
(l[e]=d));p.mixin(l,{charOrCode:c,_wasConsumed:!1,preventDefault:function(){l._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});!1===this.onInput(l)&&(l.preventDefault(),l.stopPropagation());l._wasConsumed||this.defer(function(){this._onInput(l)})})))},_blankValue:"",filter:function(a){if(null===a)return this._blankValue;if("string"!=typeof a)return a;this.trim&&(a=p.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&
(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.selectOnClick&&"mouse"==a&&(this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);
this._selectOnClickHandle=null;this._isTextSelected()||l.selectInputText(this.textbox)}),this.defer(function(){this._selectOnClickHandle&&(this.disconnect(this._selectOnClickHandle),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value="";this.inherited(arguments)},_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.applyTextDir(this.focusNode,this.focusNode.value)}});l._setSelectionRange=
c._setSelectionRange=function(a,c,b){a.setSelectionRange&&a.setSelectionRange(c,b)};l.selectInputText=c.selectInputText=function(a,c,b){a=h.byId(a);isNaN(c)&&(c=0);isNaN(b)&&(b=a.value?a.value.length:0);try{a.focus(),l._setSelectionRange(a,c,b)}catch(d){}};return l})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),function(d,f,h,e,b,p){var m;return m=
d("dijit.form.ValidationTextBox",e,{templateString:p,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(c,b){b!=m.prototype[c]&&(f.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+c+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",b))},_setRegExpGenAttr:function(c){this._deprecateRegExp("regExpGen",
c);this.regExpGen=this._getPatternAttr},_setRegExpAttr:function(c){this._deprecateRegExp("regExp",c)},_setValueAttr:function(){this.inherited(arguments);this.validate(this.focused)},validator:function(c,b){return RegExp("^(?:"+this._getPatternAttr(b)+")"+(this.required?"":"?")+"$").test(c)&&(!this.required||!this._isEmpty(c))&&(this._isEmpty(c)||void 0!==this.parse(c,b))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,
this.constraints)},_isEmpty:function(c){return(this.trim?/^\s*$/:/^$/).test(c)},getErrorMessage:function(){var c="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage,b="$_unset_$"==this.missingMessage?this.messages.missingMessage:!this.missingMessage?c:this.missingMessage;return this.required&&this._isEmpty(this.textbox.value)?b:c},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(c){var b=
"",a=this.disabled||this.isValid(c);a&&(this._maskValidSubsetError=!0);var d=this._isEmpty(this.textbox.value),e=!a&&c&&this._isValidSubset();this._set("state",a?"":((!this._hasBeenBlurred||c)&&d||e)&&(this._maskValidSubsetError||e&&!this._hasBeenBlurred&&c)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid",a?"false":"true");"Error"==this.state?(this._maskValidSubsetError=c&&e,b=this.getErrorMessage(c)):"Incomplete"==this.state?(b=this.getPromptMessage(c),this._maskValidSubsetError=
!this._hasBeenBlurred||c):d&&(b=this.getPromptMessage(c));this.set("message",b);return a},displayMessage:function(c){c&&this.focused?b.show(c,this.domNode,this.tooltipPosition,!this.isLeftToRight()):b.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(c){this.constraints={};this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(c){!c.locale&&
this.lang&&(c.locale=this.lang);this._set("constraints",c);this._refreshState()},_setPatternAttr:function(c){this._set("pattern",c)},_getPatternAttr:function(c){var b=this.pattern;"function"==(typeof b).toLowerCase()&&(b=this.pattern(c||this.constraints));if(b!=this._lastRegExp){var a="";this._lastRegExp=b;".*"!=b&&b.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(c){switch(c.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":a+=c;break;case ")":a+=
"|$)";break;default:a+="(?:"+c+"|$)"}});try{"".search(a)}catch(d){a=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre="^(?:"+a+")$"}return b},postMixInProperties:function(){this.inherited(arguments);this.messages=h.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(c){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(c){this._set("required",c);this.focusNode.setAttribute("aria-required",
c);this._refreshState()},_setMessageAttr:function(c){this._set("message",c);this.displayMessage(c)},reset:function(){this._maskValidSubsetError=!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)}})})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),
function(d,f,h,e,b,p,m,c,l,a,g,v,n,u,k,y,x,w){var A=f("dijit._MasterTooltip",[u,k],{duration:v.defaultDuration,templateString:x,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new y(this.domNode);this.fadeIn=h.fadeIn({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,"_onShow")});this.fadeOut=h.fadeOut({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,"_onHide")})},show:function(a,b,d,g,e){if(!this.aroundNode||!(this.aroundNode===b&&this.containerNode.innerHTML==
a))if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=a;e&&this.set("textDir",e);this.containerNode.align=g?"right":"left";var l=n.around(this.domNode,b,d&&d.length?d:r.defaultPosition,!g,c.hitch(this,"orient")),f=l.aroundNodePos;"M"==l.corner.charAt(0)&&"M"==l.aroundCorner.charAt(0)?(this.connectorNode.style.top=f.y+(f.h-this.connectorNode.offsetHeight>>1)-l.y+"px",this.connectorNode.style.left=""):"M"==l.corner.charAt(1)&&"M"==l.aroundCorner.charAt(1)?this.connectorNode.style.left=
f.x+(f.w-this.connectorNode.offsetWidth>>1)-l.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");m.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=b}},orient:function(a,c,b,d,e){this.connectorNode.style.top="";var l=d.h;d=d.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft",
"BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[c+"-"+b];this.domNode.style.width="auto";var f=p.position(this.domNode);9==g("ie")&&(f.w+=2);var n=Math.min(Math.max(d,1),f.w);p.setMarginBox(this.domNode,{w:n});"B"==b.charAt(0)&&"B"==c.charAt(0)?(a=p.position(a),c=this.connectorNode.offsetHeight,a.h>l?(this.connectorNode.style.top=l-(e.h+c>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=
Math.min(Math.max(e.h/2-c/2,0),a.h-c)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,f.w-d)},_onShow:function(){g("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play())},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,
this._onDeck),this._onDeck=null)},_setAutoTextDir:function(a){this.applyTextDir(a,g("ie")?a.outerText:a.textContent);d.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",a);"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});w.showTooltip=function(a,c,b,e,l){b&&(b=d.map(b,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));r._masterTT||(w._masterTT=r._masterTT=new A);return r._masterTT.show(a,
c,b,e,l)};w.hideTooltip=function(a){return r._masterTT&&r._masterTT.hide(a)};var r=f("dijit.Tooltip",u,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(b){d.forEach(this._connections||[],function(a){d.forEach(a,function(a){a.remove()})},this);this._connectIds=d.filter(c.isArrayLike(b)?b:b?[b]:[],function(a){return e.byId(a,this.ownerDocument)},this);this._connections=d.map(this._connectIds,function(b){b=e.byId(b,this.ownerDocument);var d=this.selector,g=d?function(b){return a.selector(d,
b)}:function(a){return a},f=this;return[a(b,g(l.enter),function(){f._onHover(this)}),a(b,g("focusin"),function(){f._onHover(this)}),a(b,g(l.leave),c.hitch(f,"_onUnHover")),a(b,g("focusout"),c.hitch(f,"_onUnHover"))]},this);this._set("connectId",b)},addTarget:function(a){a=a.id||a;-1==d.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=d.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},
buildRendering:function(){this.inherited(arguments);b.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;d.forEach(c.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},_onHover:function(a){this._showTimer||(this._showTimer=this.defer(function(){this.open(a)},this.showDelay))},_onUnHover:function(){this._showTimer&&(this._showTimer.remove(),delete this._showTimer);this.close()},open:function(a){this._showTimer&&
(this._showTimer.remove(),delete this._showTimer);var b=this.getContent(a);b&&(r.show(b,a,this.position,!this.isLeftToRight(),this.textDir),this._connectNode=a,this.onShow(a,this.position))},close:function(){this._connectNode&&(r.hide(this._connectNode),delete this._connectNode,this.onHide());this._showTimer&&(this._showTimer.remove(),delete this._showTimer)},onShow:function(){},onHide:function(){},destroy:function(){this.close();d.forEach(this._connections||[],function(a){d.forEach(a,function(a){a.remove()})},
this);this.inherited(arguments)}});r._MasterTooltip=A;r.show=w.showTooltip;r.hide=w.hideTooltip;r.defaultPosition=["after-centered","before-centered"];return r})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window dojo/window ./main".split(" "),function(d,f,h,e,b,p,m){function c(c,a,g,e){var n=p.getBox(c.ownerDocument);(!c.parentNode||"body"!=String(c.parentNode.tagName).toLowerCase())&&b.body(c.ownerDocument).appendChild(c);var h=
null;d.some(a,function(a){var b=a.corner,d=a.pos,k=0,p={w:{L:n.l+n.w-d.x,R:d.x-n.l,M:n.w}[b.charAt(1)],h:{T:n.t+n.h-d.y,B:d.y-n.t,M:n.h}[b.charAt(0)]},q=c.style;q.left=q.right="auto";g&&(k=g(c,a.aroundCorner,b,p,e),k="undefined"==typeof k?0:k);var m=c.style,s=m.display,t=m.visibility;"none"==m.display&&(m.visibility="hidden",m.display="");q=f.position(c);m.display=s;m.visibility=t;s={L:d.x,R:d.x-q.w,M:Math.max(n.l,Math.min(n.l+n.w,d.x+(q.w>>1))-q.w)}[b.charAt(1)];t={T:d.y,B:d.y-q.h,M:Math.max(n.t,
Math.min(n.t+n.h,d.y+(q.h>>1))-q.h)}[b.charAt(0)];d=Math.max(n.l,s);m=Math.max(n.t,t);s=Math.min(n.l+n.w,s+q.w);t=Math.min(n.t+n.h,t+q.h);s-=d;t-=m;k+=q.w-s+(q.h-t);if(null==h||k<h.overflow)h={corner:b,aroundCorner:a.aroundCorner,x:d,y:m,w:s,h:t,overflow:k,spaceAvailable:p};return!k});h.overflow&&g&&g(c,h.aroundCorner,h.corner,h.spaceAvailable,e);a=f.isBodyLtr(c.ownerDocument);var k=c.style;k.top=h.y+"px";k[a?"left":"right"]=(a?h.x:n.w-h.x-h.w)+"px";k[a?"right":"left"]="auto";return h}return m.place=
{at:function(b,a,e,f){e=d.map(e,function(b){var c={corner:b,pos:{x:a.x,y:a.y}};f&&(c.pos.x+="L"==b.charAt(1)?f.x:-f.x,c.pos.y+="T"==b.charAt(0)?f.y:-f.y);return c});return c(b,e)},around:function(b,a,g,p,n){function m(a,b){B.push({aroundCorner:a,corner:b,pos:{x:{L:q,R:q+s,M:q+(s>>1)}[a.charAt(1)],y:{T:z,B:z+t,M:z+(t>>1)}[a.charAt(0)]}})}var k="string"==typeof a||"offsetWidth"in a?f.position(a,!0):a;if(a.parentNode){var y="absolute"==h.getComputedStyle(a).position;for(a=a.parentNode;a&&1==a.nodeType&&
"BODY"!=a.nodeName;){var x=f.position(a,!0),w=h.getComputedStyle(a);/relative|absolute/.test(w.position)&&(y=!1);if(!y&&/hidden|auto|scroll/.test(w.overflow)){var A=Math.min(k.y+k.h,x.y+x.h),r=Math.min(k.x+k.w,x.x+x.w);k.x=Math.max(k.x,x.x);k.y=Math.max(k.y,x.y);k.h=A-k.y;k.w=r-k.x}"absolute"==w.position&&(y=!0);a=a.parentNode}}var q=k.x,z=k.y,s="w"in k?k.w:k.w=k.width,t="h"in k?k.h:(e.deprecated("place.around: dijit/place.__Rectangle: { x:"+q+", y:"+z+", height:"+k.height+", width:"+s+" } has been deprecated.  Please use { x:"+
q+", y:"+z+", h:"+k.height+", w:"+s+" }","","2.0"),k.h=k.height),B=[];d.forEach(g,function(a){var b=p;switch(a){case "above-centered":m("TM","BM");break;case "below-centered":m("BM","TM");break;case "after-centered":b=!b;case "before-centered":m(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":m(b?"TL":"TR",b?"TR":"TL");m(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":m(b?"BL":"BR",b?"TL":"TR");m(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":m(b?
"TL":"TR",b?"BL":"BR");m(b?"TR":"TL",b?"BR":"BL");break;default:m(a.aroundCorner,a.corner)}});b=c(b,B,n,{w:s,h:t});b.aroundNodePos=k;return b}}})},"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:_onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\ttabIndex\x3d"-1" role\x3d"presentation" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n',
"url:dijit/form/templates/CheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cinput\n\t \t${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" aria-checked\x3d"false" ${checkedAttrSetting}\n\t\tclass\x3d"dijitReset dijitCheckBoxInput"\n\t\tdata-dojo-attach-point\x3d"focusNode"\n\t \tdata-dojo-attach-event\x3d"onclick:_onClick"\n/\x3e\x3c/div\x3e\n',"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip"\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"*now":function(d){d(['dojo/i18n!*preload*dote-client/nls/viewSettings*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define("dote-client/viewSettings","./fade ./userControls dojo/_base/array dojo/dom dojo/json dojo/on dojo/ready dojo/request dojo/store/JsonRest dijit/form/Button dijit/form/CheckBox dijit/form/TextBox dijit/form/ValidationTextBox dijit/registry ./widgetModules".split(" "),function(d,f,h,e,b,p,m,c,l,a,g,v,n,u){new l({target:"/users/"});m(function(){f.start();var k=[];k.push(new a({id:"save",type:"submit",label:"Save"},"save"));k.push(new n({id:"email",name:"email",type:"text",promptMessage:"This is the e-mail address e-mails will be sent to.",
invalidMessage:"Not a valid e-mail address",pattern:"[A-Za-z0-9!#$%\x26'*+/\x3d?^_`{|}~-]+(?:\\.[A-Za-z0-9!#$%\x26'*+/\x3d?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\\.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?",placeholder:"name@example.com"},"email"));k.push(new n({id:"fromaddress",name:"fromaddress",type:"text",promptMessage:"E-mails from this address are matched to your\x3cbr\x3eusername for creating posts and voting. This will\x3cbr\x3edefault to the \x3cstrong\x3eSend to Address\x3c/strong\x3e.",
invalidMessage:"Not a valid e-mail address",pattern:"[A-Za-z0-9!#$%\x26'*+/\x3d?^_`{|}~-]+(?:\\.[A-Za-z0-9!#$%\x26'*+/\x3d?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\\.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?",placeholder:"name@example.com"},"fromaddress"));k.push(new v({id:"ontags",name:"ontags",type:"text",placeholder:"Comma seperated list"},"ontags"));h.forEach("onnew onwatched onparticipate onown onassigned excreated optout".split(" "),function(a){k.push(new g({id:a,name:a},a))});
var l=e.byId("userSettings");p(l,"submit",function(a){a&&a.preventDefault();u.byId("save").set("disabled",!0);var d={};h.forEach(l.elements,function(a){a.name&&"checkbox"!==a.type?d[a.name]=a.value:a.name&&(d[a.name]=a.checked)});d.ontags=d.ontags.split(/\s*,\s*/);c.post("/userSettings",{data:{settings:b.stringify(d)}}).always(function(){u.byId("save").set("disabled",!1)})});u.byId("optout").on("change",function(a){h.forEach("onnew onwatched onparticipate onown onassigned ontags excreated email".split(" "),
function(b){u.byId(b).set("disabled",a)})});h.forEach(k,function(a){a.startup()});c.get("/userSettings",{handleAs:"json"}).then(function(a){var b,c,e;for(b in a)if(c=u.byId(b))e=a[b],"checkbox"===c.get("type")?c.set("checked",e):e instanceof Array?c.set("value",e.join(", ")):c.set("value",e);d.show(l,500,u.byId("email"))})});return{}});
//@ sourceMappingURL=viewSettings.js.map