//>>built
require({cache:{"dote-client/fade":function(){define("dote-client/fade",["dojo/_base/fx","dojo/dom","dojo/dom-style"],function(e,d,g){return{show:function(f,i,m){"string"===typeof f&&(f=d.byId(f));g.set(f,"opacity","0");g.set(f,"display","block");e.fadeIn({node:f,duration:i||500}).play();m&&m.focus()}}})},"dote/util":function(){define("dote/util",[],function(){return{hex2b64:function(e){var d,g,f="";for(d=0;d+3<=e.length;d+=3)g=parseInt(e.substring(d,d+3),16),f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>
6)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g&63);d+1==e.length?(g=parseInt(e.substring(d,d+1),16),f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g<<2)):d+2==e.length&&(g=parseInt(e.substring(d,d+2),16),f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>2)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((g&3)<<4));for(;0<(f.length&3);)f+="=";return f},b64tohex:function(e){var d="",
g,f=0,i;for(g=0;g<e.length&&!("="==e.charAt(g));++g){v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(g));0>v||(0===f?(d+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(v>>2),i=v&3,f=1):1==f?(d+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(i<<2|v>>4),i=v&15,f=2):2==f?(d+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(i),d+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(v>>2),i=v&3,f=3):(d+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(i<<2|v>>4),d+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(v&
15),f=0))}1==f&&(d+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(i<<2));return d}}})},"dojox/encoding/crypto/RSAKey":function(){define("dojox/encoding/crypto/RSAKey",["dojo/_base/kernel","dojo/_base/declare","../../math/BigInteger","../../math/random/Simple"],function(e,d,g,f){e.experimental("dojox.encoding.crypto.RSAKey");var i=function(){return new f};return d(null,{constructor:function(f){this.rngf=f||i;this.e=0;this.n=this.d=this.p=this.q=this.dmp1=this.dmq1=this.coeff=null},setPublic:function(f,
d){if(f&&d&&f.length&&d.length)this.n=new g(f,16),this.e=parseInt(d,16);else throw Error("Invalid RSA public key");},encrypt:function(f){var d;d=this.n.bitLength()+7>>3;var e=this.rngf;if(d<f.length+11)throw Error("Message too long for RSA");for(var i=Array(d),n=f.length;n&&d;)i[--d]=f.charCodeAt(--n);i[--d]=0;f=e();for(e=[0];2<d;){for(e[0]=0;0==e[0];)f.nextBytes(e);i[--d]=e[0]}i[--d]=2;i[--d]=0;f.destroy();d=new g(i);if(!d)return null;d=d.modPowInt(this.e,this.n);if(!d)return null;d=d.toString(16);
return d.length%2?"0"+d:d}})})},"dojox/math/BigInteger":function(){define("dojox/math/BigInteger",["dojo/_base/kernel","dojo/_base/lang","dojo/sniff"],function(e,d,g){function f(a,b,c){null!=a&&("number"==typeof a?this._fromNumber(a,b,c):!b&&"string"!=typeof a?this._fromString(a,256):this._fromString(a,b))}function i(){return new f(null)}function m(a,b,c,h,d,f){for(;0<=--f;){var k=b*this[a++]+c[h]+d,d=Math.floor(k/67108864);c[h++]=k&67108863}return d}function x(a,b,c,h,d,f){for(var k=b&32767,b=b>>
15;0<=--f;){var e=this[a]&32767,g=this[a++]>>15,i=b*e+g*k,e=k*e+((i&32767)<<15)+c[h]+(d&1073741823),d=(e>>>30)+(i>>>15)+b*g+(d>>>30);c[h++]=e&1073741823}return d}function u(a,b,c,h,d,f){for(var k=b&16383,b=b>>14;0<=--f;){var e=this[a]&16383,g=this[a++]>>14,i=b*e+g*k,e=k*e+((i&16383)<<14)+c[h]+d,d=(e>>28)+(i>>14)+b*g;c[h++]=e&268435455}return d}function p(a){var b=i();b._fromInt(a);return b}function n(a){var b=1,c;if(c=a>>>16)a=c,b+=16;if(c=a>>8)a=c,b+=8;if(c=a>>4)a=c,b+=4;if(c=a>>2)a=c,b+=2;a>>1&&
(b+=1);return b}function w(a){this.m=a}function o(a){this.m=a;this.mp=a._invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<a._DB-15)-1;this.mt2=2*a.t}e.experimental("dojox.math.BigInteger");g("ie")?(f.prototype.am=x,e=30):g("moz")?(f.prototype.am=u,e=28):(f.prototype.am=m,e=26);var q=[],l,g=48;for(l=0;9>=l;++l)q[g++]=l;g=97;for(l=10;36>l;++l)q[g++]=l;g=65;for(l=10;36>l;++l)q[g++]=l;d.extend(w,{convert:function(a){return 0>a.s||0<=a.compareTo(this.m)?a.mod(this.m):a},revert:function(a){return a},
reduce:function(a){a._divRemTo(this.m,null,a)},mulTo:function(a,b,c){a._multiplyTo(b,c);this.reduce(c)},sqrTo:function(a,b){a._squareTo(b);this.reduce(b)}});dojo.extend(o,{convert:function(a){var b=i();a.abs()._dlShiftTo(this.m.t,b);b._divRemTo(this.m,null,b);0>a.s&&0<b.compareTo(f.ZERO)&&this.m._subTo(b,b);return b},revert:function(a){var b=i();a._copyTo(b);this.reduce(b);return b},reduce:function(a){for(;a.t<=this.mt2;)a[a.t++]=0;for(var b=0;b<this.m.t;++b){var c=a[b]&32767,h=c*this.mpl+((c*this.mph+
(a[b]>>15)*this.mpl&this.um)<<15)&a._DM,c=b+this.m.t;for(a[c]+=this.m.am(0,h,a,b,0,this.m.t);a[c]>=a._DV;)a[c]-=a._DV,a[++c]++}a._clamp();a._drShiftTo(this.m.t,a);0<=a.compareTo(this.m)&&a._subTo(this.m,a)},mulTo:function(a,b,c){a._multiplyTo(b,c);this.reduce(c)},sqrTo:function(a,b){a._squareTo(b);this.reduce(b)}});d.extend(f,{_DB:e,_DM:(1<<e)-1,_DV:1<<e,_FV:Math.pow(2,52),_F1:52-e,_F2:2*e-52,_copyTo:function(a){for(var b=this.t-1;0<=b;--b)a[b]=this[b];a.t=this.t;a.s=this.s},_fromInt:function(a){this.t=
1;this.s=0>a?-1:0;0<a?this[0]=a:-1>a?this[0]=a+_DV:this.t=0},_fromString:function(a,b){var c;if(16==b)c=4;else if(8==b)c=3;else if(256==b)c=8;else if(2==b)c=1;else if(32==b)c=5;else if(4==b)c=2;else{this._fromRadix(a,b);return}this.s=this.t=0;for(var h=a.length,d=!1,j=0;0<=--h;){var k;8==c?k=a[h]&255:(k=q[a.charCodeAt(h)],k=null==k?-1:k);0>k?"-"==a.charAt(h)&&(d=!0):(d=!1,0==j?this[this.t++]=k:j+c>this._DB?(this[this.t-1]|=(k&(1<<this._DB-j)-1)<<j,this[this.t++]=k>>this._DB-j):this[this.t-1]|=k<<
j,j+=c,j>=this._DB&&(j-=this._DB))}if(8==c&&0!=(a[0]&128))this.s=-1,0<j&&(this[this.t-1]|=(1<<this._DB-j)-1<<j);this._clamp();d&&f.ZERO._subTo(this,this)},_clamp:function(){for(var a=this.s&this._DM;0<this.t&&this[this.t-1]==a;)--this.t},_dlShiftTo:function(a,b){var c;for(c=this.t-1;0<=c;--c)b[c+a]=this[c];for(c=a-1;0<=c;--c)b[c]=0;b.t=this.t+a;b.s=this.s},_drShiftTo:function(a,b){for(var c=a;c<this.t;++c)b[c-a]=this[c];b.t=Math.max(this.t-a,0);b.s=this.s},_lShiftTo:function(a,b){var c=a%this._DB,
h=this._DB-c,d=(1<<h)-1,f=Math.floor(a/this._DB),k=this.s<<c&this._DM,e;for(e=this.t-1;0<=e;--e)b[e+f+1]=this[e]>>h|k,k=(this[e]&d)<<c;for(e=f-1;0<=e;--e)b[e]=0;b[f]=k;b.t=this.t+f+1;b.s=this.s;b._clamp()},_rShiftTo:function(a,b){b.s=this.s;var c=Math.floor(a/this._DB);if(c>=this.t)b.t=0;else{var h=a%this._DB,d=this._DB-h,f=(1<<h)-1;b[0]=this[c]>>h;for(var e=c+1;e<this.t;++e)b[e-c-1]|=(this[e]&f)<<d,b[e-c]=this[e]>>h;0<h&&(b[this.t-c-1]|=(this.s&f)<<d);b.t=this.t-c;b._clamp()}},_subTo:function(a,
b){for(var c=0,h=0,d=Math.min(a.t,this.t);c<d;)h+=this[c]-a[c],b[c++]=h&this._DM,h>>=this._DB;if(a.t<this.t){for(h-=a.s;c<this.t;)h+=this[c],b[c++]=h&this._DM,h>>=this._DB;h+=this.s}else{for(h+=this.s;c<a.t;)h-=a[c],b[c++]=h&this._DM,h>>=this._DB;h-=a.s}b.s=0>h?-1:0;-1>h?b[c++]=this._DV+h:0<h&&(b[c++]=h);b.t=c;b._clamp()},_multiplyTo:function(a,b){var c=this.abs(),d=a.abs(),e=c.t;for(b.t=e+d.t;0<=--e;)b[e]=0;for(e=0;e<d.t;++e)b[e+c.t]=c.am(0,d[e],b,e,0,c.t);b.s=0;b._clamp();this.s!=a.s&&f.ZERO._subTo(b,
b)},_squareTo:function(a){for(var b=this.abs(),c=a.t=2*b.t;0<=--c;)a[c]=0;for(c=0;c<b.t-1;++c){var d=b.am(c,b[c],a,2*c,0,1);if((a[c+b.t]+=b.am(c+1,2*b[c],a,2*c+1,d,b.t-c-1))>=b._DV)a[c+b.t]-=b._DV,a[c+b.t+1]=1}0<a.t&&(a[a.t-1]+=b.am(c,b[c],a,2*c,0,1));a.s=0;a._clamp()},_divRemTo:function(a,b,c){var d=a.abs();if(!(0>=d.t)){var e=this.abs();if(e.t<d.t)null!=b&&b._fromInt(0),null!=c&&this._copyTo(c);else{null==c&&(c=i());var j=i(),k=this.s,a=a.s,g=this._DB-n(d[d.t-1]);0<g?(d._lShiftTo(g,j),e._lShiftTo(g,
c)):(d._copyTo(j),e._copyTo(c));d=j.t;e=j[d-1];if(0!=e){var l=e*(1<<this._F1)+(1<d?j[d-2]>>this._F2:0),o=this._FV/l,l=(1<<this._F1)/l,q=1<<this._F2,s=c.t,m=s-d,r=null==b?i():b;j._dlShiftTo(m,r);0<=c.compareTo(r)&&(c[c.t++]=1,c._subTo(r,c));f.ONE._dlShiftTo(d,r);for(r._subTo(j,j);j.t<d;)j[j.t++]=0;for(;0<=--m;){var p=c[--s]==e?this._DM:Math.floor(c[s]*o+(c[s-1]+q)*l);if((c[s]+=j.am(0,p,c,m,0,d))<p){j._dlShiftTo(m,r);for(c._subTo(r,c);c[s]<--p;)c._subTo(r,c)}}null!=b&&(c._drShiftTo(d,b),k!=a&&f.ZERO._subTo(b,
b));c.t=d;c._clamp();0<g&&c._rShiftTo(g,c);0>k&&f.ZERO._subTo(c,c)}}}},_invDigit:function(){if(1>this.t)return 0;var a=this[0];if(0==(a&1))return 0;var b=a&3,b=b*(2-(a&15)*b)&15,b=b*(2-(a&255)*b)&255,b=b*(2-((a&65535)*b&65535))&65535,b=b*(2-a*b%this._DV)%this._DV;return 0<b?this._DV-b:-b},_isEven:function(){return 0==(0<this.t?this[0]&1:this.s)},_exp:function(a,b){if(4294967295<a||1>a)return f.ONE;var c=i(),d=i(),e=b.convert(this),g=n(a)-1;for(e._copyTo(c);0<=--g;)if(b.sqrTo(c,d),0<(a&1<<g))b.mulTo(d,
e,c);else var k=c,c=d,d=k;return b.revert(c)},toString:function(a){if(0>this.s)return"-"+this.negate().toString(a);if(16==a)a=4;else if(8==a)a=3;else if(2==a)a=1;else if(32==a)a=5;else if(4==a)a=2;else return this._toRadix(a);var b=(1<<a)-1,c,d=!1,e="",f=this.t,g=this._DB-f*this._DB%a;if(0<f--){if(g<this._DB&&0<(c=this[f]>>g))d=!0,e="0123456789abcdefghijklmnopqrstuvwxyz".charAt(c);for(;0<=f;)g<a?(c=(this[f]&(1<<g)-1)<<a-g,c|=this[--f]>>(g+=this._DB-a)):(c=this[f]>>(g-=a)&b,0>=g&&(g+=this._DB,--f)),
0<c&&(d=!0),d&&(e+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(c))}return d?e:"0"},negate:function(){var a=i();f.ZERO._subTo(this,a);return a},abs:function(){return 0>this.s?this.negate():this},compareTo:function(a){var b=this.s-a.s;if(b)return b;var c=this.t;if(b=c-a.t)return b;for(;0<=--c;)if(b=this[c]-a[c])return b;return 0},bitLength:function(){return 0>=this.t?0:this._DB*(this.t-1)+n(this[this.t-1]^this.s&this._DM)},mod:function(a){var b=i();this.abs()._divRemTo(a,null,b);0>this.s&&0<b.compareTo(f.ZERO)&&
a._subTo(b,b);return b},modPowInt:function(a,b){var c;c=256>a||b._isEven()?new w(b):new o(b);return this._exp(a,c)}});d.mixin(f,{ZERO:p(0),ONE:p(1),_nbi:i,_nbv:p,_nbits:n,_Montgomery:o});return f})},"dojox/math/random/Simple":function(){define("dojox/math/random/Simple",["dojo/_base/declare"],function(e){return e(null,{destroy:function(){},nextBytes:function(d){for(var e=0,f=d.length;e<f;++e)d[e]=Math.floor(256*Math.random())}})})}}});
define("dote-client/login","./fade,dote/util,dojo/_base/array,dojo/_base/window,dojo/dom,dojo/on,dojo/ready,dojo/request,dijit/form/Button,dijit/form/TextBox,dojox/encoding/crypto/RSAKey".split(","),function(e,d,g,f,i,m,x,u,p,n,w){var o=[],q=!1,l=new w;x(function(){function a(a){a.preventDefault();t.set("disabled",!0);u.get("/pubKey",{handleAs:"json"}).then(function(a){l.setPublic(a.n,a.e);u.post("/users/"+c.get("value")+"/auth/",{data:{password:d.hex2b64(l.encrypt(h.get("value")))},handleAs:"json"}).then(function(a){t.set("disabled",
!1);if(a&&a.href)f.global.location.href=a.href},function(){q?b.innerHTML="Invalid username or password.":(b.innerHTML="Invalid username or password.",e.show(b,750),q=!0);t.set("disabled",!1)})})}var b=i.byId("warn"),c=new n({id:"username"},"username");o.push(c);var h=new n({id:"password",type:"password"},"password");o.push(h);var t=new p({id:"submit",type:"submit"},"submit");t.on("click",a);m(i.byId("loginForm"),"submit",a);o.push(t);g.forEach(o,function(a){a.startup()});c.focus()});return{}});