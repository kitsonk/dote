//>>built
require({cache:{"dojo/store/Cache":function(){define("dojo/store/Cache",["../_base/lang","../_base/Deferred"],function(m,l){var k=function(i,h,d){d=d||{};return m.delegate(i,{query:function(a,b){var g=i.query(a,b);g.forEach(function(a){(!d.isLoaded||d.isLoaded(a))&&h.put(a)});return g},queryEngine:i.queryEngine||h.queryEngine,get:function(a,b){return l.when(h.get(a),function(g){return g||l.when(i.get(a,b),function(b){b&&h.put(b,{id:a});return b})})},add:function(a,b){return l.when(i.add(a,b),function(g){h.add("object"==
typeof g?g:a,b);return g})},put:function(a,b){h.remove(b&&b.id||this.getIdentity(a));return l.when(i.put(a,b),function(g){h.put("object"==typeof g?g:a,b);return g})},remove:function(a,b){return l.when(i.remove(a,b),function(){return h.remove(a,b)})},evict:function(a){return h.remove(a)}})};m.setObject("dojo.store.Cache",k);return k})},"dojo/store/Memory":function(){define("dojo/store/Memory",["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(m,l,k){return m("dojo.store.Memory",
null,{constructor:function(i){for(var h in i)this[h]=i[h];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:k,get:function(i){return this.data[this.index[i]]},getIdentity:function(i){return i[this.idProperty]},put:function(i,h){var d=this.data,a=this.index,b=this.idProperty,b=i[b]=h&&"id"in h?h.id:b in i?i[b]:Math.random();if(b in a){if(h&&!1===h.overwrite)throw Error("Object already exists");d[a[b]]=i}else a[b]=d.push(i)-1;return b},add:function(i,h){(h=h||{}).overwrite=
!1;return this.put(i,h)},remove:function(i){var h=this.index,d=this.data;if(i in h)return d.splice(h[i],1),this.setData(d),!0},query:function(i,h){return l(this.queryEngine(i,h)(this.data))},setData:function(i){var a;i.items?(this.idProperty=i.identifier,a=this.data=i.items,i=a):this.data=i;this.index={};for(var h=0,d=i.length;h<d;h++)this.index[i[h][this.idProperty]]=h}})})},"dojo/store/util/QueryResults":function(){define("dojo/store/util/QueryResults",["../../_base/array","../../_base/lang","../../_base/Deferred"],
function(m,l,k){var i=function(h){function d(a){h[a]||(h[a]=function(){var b=arguments;return k.when(h,function(g){Array.prototype.unshift.call(b,g);return i(m[a].apply(m,b))})})}if(!h)return h;h.then&&(h=l.delegate(h));d("forEach");d("filter");d("map");if(!h.total)h.total=k.when(h,function(a){return a.length});return h};l.setObject("dojo.store.util.QueryResults",i);return i})},"dojo/store/util/SimpleQueryEngine":function(){define("dojo/store/util/SimpleQueryEngine",["../../_base/array"],function(m){return function(l,
k){function i(d){var d=m.filter(d,l),a=k&&k.sort;a&&d.sort("function"==typeof a?a:function(b,s){for(var j,c=0;j=a[c];c++){var o=b[j.attribute],f=s[j.attribute];if(o!=f)return!!j.descending==(null==o||o>f)?-1:1}return 0});if(k&&(k.start||k.count)){var b=d.length,d=d.slice(k.start||0,(k.start||0)+(k.count||Infinity));d.total=b}return d}switch(typeof l){default:throw Error("Can not query with a "+typeof l);case "object":case "undefined":var h=l,l=function(d){for(var a in h){var b=h[a];if(b&&b.test){if(!b.test(d[a],
d))return!1}else if(b!=d[a])return!1}return!0};break;case "string":if(!this[l])throw Error("No filter function "+l+" was found in store");l=this[l];case "function":}i.matches=l;return i}})},"dgrid/OnDemandGrid":function(){define("dgrid/OnDemandGrid",["dojo/_base/declare","./Grid","./OnDemandList"],function(m,l,k){return m([l,k],{})})},"dgrid/Grid":function(){define("dgrid/Grid","dojo/_base/kernel,dojo/_base/declare,dojo/on,dojo/has,put-selector/put,./List,dojo/_base/sniff".split(","),function(m,l,
k,i,h,d){function a(a,b){b&&b.nodeType&&a.appendChild(b)}var b=8>i("ie")&&!0,g=/[^\._a-zA-Z0-9-]/g,l=l(d,{columns:null,cellNavigation:!0,tabableHeader:!0,showHeader:!0,column:function(a){return"string"==typeof a?this.columns[a]:this.cell(a).column},listType:"grid",cell:function(a,b){if(a.row&&a.row instanceof this._Row)return a;if(a.target&&a.target.nodeType)a=a.target;var c;if(a.nodeType){do{if(this._rowIdToObject[a.id])break;var g=a.columnId;if(g){b=g;c=a;break}a=a.parentNode}while(a&&a!=this.domNode)
}if(!c&&"undefined"!=typeof b){var f=this.row(a);if(g=f.element)for(var g=g.getElementsByTagName("td"),e=0;e<g.length;e++)if(g[e].columnId==b){c=g[e];break}}if(null!=a)return{row:f||this.row(a),column:b&&this.column(b),element:c}},_columnsCss:function(a){a.fullSelector=function(){return this.parent.fullSelector()+" .dgrid-cell"};for(var b=0;b<a.children.length;b++){var c=a.children[b];c.field=c.className=c.selector.substring(1)}return a.children},createRowCells:function(a,j,c){var o=h("table.dgrid-row-table[role=presentation]"),
f=9>i("ie")?h(o,"tbody"):o,e,d,q,w,v,t,n,p,x,u,c=c||this.subRows;for(d=0,q=c.length;d<q;d++){t=c[d];e=1==q&&!i("ie")?f:h(f,"tr");t.className&&h(e,"."+t.className);for(w=0,v=t.length;w<v;w++){n=t[w];p=n.id;x=n.className||n.field&&"field-"+n.field;x=h(a+(".dgrid-cell.dgrid-cell-padding"+(p?".dgrid-column-"+p:"")+(x?"."+x:"")).replace(g,"-")+"[role="+("th"===a?"columnheader":"gridcell")+"]");x.columnId=p;b?(p=h(x,"!dgrid-cell-padding div.dgrid-cell-padding"),x.contents=p):p=x;if(u=n.colSpan)x.colSpan=
u;if(u=n.rowSpan)x.rowSpan=u;j(p,n);e.appendChild(x)}}return o},left:function(a,b){return this.cell(this._move(a,-(b||1),"dgrid-cell"))},right:function(a,b){return this.cell(this._move(a,b||1,"dgrid-cell"))},renderRow:function(b,j){var c=this.createRowCells("td",function(c,f){var e=b;f.get?e=f.get(b):"field"in f&&"_item"!=f.field&&(e=e[f.field]);f.formatter?c.innerHTML=f.formatter(e):f.renderCell?a(c,f.renderCell(b,e,c,j)):null!=e&&c.appendChild(document.createTextNode(e))},j&&j.subRows);return h("div[role=row]>",
c)},renderHeader:function(){var g=this,j=this.headerNode,c=j.childNodes.length;for(j.setAttribute("role","row");c--;)h(j.childNodes[c],"!");c=this.createRowCells("th",function(c,f){var e=f.headerNode=c;if(b)c=c.parentNode;var g=f.field;if(g)c.field=g;if(f.renderHeaderCell)a(e,f.renderHeaderCell(e));else if(f.label||f.field)e.appendChild(document.createTextNode(f.label||f.field));if(!1!==f.sortable&&g&&"_item"!=g)c.sortable=!0,c.className+=" dgrid-sortable"},this.subRows&&this.subRows.headerRows);
this._rowIdToObject[c.id=this.id+"-header"]=this.columns;j.appendChild(c);k(c,"click,keydown",function(a){if("click"==a.type||32==a.keyCode||13==a.keyCode){var a=a.target,b,c;do if(a.sortable)return g._sortNode=a,a=a.field||a.columnId,b=(c=g._sort[0])&&c.attribute==a&&!c.descending,g.set("sort",a,b);while((a=a.parentNode)&&a!=j)}})},resize:function(){var a=this.headerNode.firstChild,b=this.contentNode,c;this.inherited(arguments);if(!i("ie")||7<i("ie"))if(b.style.width="",b&&a&&(c=a.offsetWidth)!=
b.offsetWidth)b.style.width=c+"px"},destroy:function(){this._destroyColumns();this.inherited(arguments)},_setSort:function(a,b){this.inherited(arguments);this._lastSortedArrow&&(h(this._lastSortedArrow,"<!dgrid-sort-up!dgrid-sort-down"),h(this._lastSortedArrow,"!"),delete this._lastSortedArrow);if(this._sort[0]){var c=this._sort[0].attribute,g=this._sort[0].descending,f=this._sortNode,e,d,i;delete this._sortNode;if(!f)for(i in e=this.columns,e)if(d=e[i],d.field==c){f=d.headerNode;break}if(f)f=f.contents||
f,this._lastSortedArrow=h(f.firstChild,"-div.dgrid-sort-arrow.ui-icon[role=presentation]"),this._lastSortedArrow.innerHTML="&nbsp;",h(f,g?".dgrid-sort-down":".dgrid-sort-up"),this.resize()}},styleColumn:function(a,b){return this.addCssRule("#"+this.domNode.id+" .dgrid-column-"+a,b)},_configColumns:function(a,b){var c=[],g=b instanceof Array,f,e;for(f in b){e=b[f];"string"==typeof e&&(b[f]=e={label:e});if(!g&&!e.field)e.field=f;f=e.id=e.id||(isNaN(f)?f:a+f);a&&(this.columns[f]=e);this._configColumn&&
this._configColumn(e,f,b,a);e.grid=this;"function"===typeof e.init&&e.init();c.push(e)}return g?b:c},_destroyColumns:function(){var a=this.subRows.length,b,c,g,f;this.cleanup();for(b=0;b<a;b++)for(c=0,f=this.subRows[b].length;c<f;c++)g=this.subRows[b][c],"function"===typeof g.destroy&&g.destroy()},configStructure:function(){var a=this.subRows;if(a){this.columns={};for(var b=0;b<a.length;b++)a[b]=this._configColumns(b+"-",a[b])}else this.subRows=[this._configColumns("",this.columns)]},_setColumns:function(a){this._destroyColumns();
this.subRows=null;this.columns=a;this._updateColumns()},_setSubRows:function(a){this._destroyColumns();this.subRows=a;this._updateColumns()},setColumns:function(a){m.deprecated("setColumns(...)",'use set("columns", ...) instead',"dgrid 1.0");this.set("columns",a)},setSubRows:function(a){m.deprecated("setSubRows(...)",'use set("subRows", ...) instead',"dgrid 1.0");this.set("subRows",a)},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);
this.resize()}});l.appendIfNode=a;l.defaultRenderCell=function(a,b,c){null!=b&&c.appendChild(document.createTextNode(b))};return l})},"put-selector/put":function(){(function(m){var l,k=/[-+,> ]/;m("put-selector/put",[],l=function(i,h){function d(g){function h(){e&&f&&e!=f&&(f==g&&(j||(j=k.test(v)&&i.createDocumentFragment()))||f).insertBefore(e,o||null)}for(var j,c,o,f,e,r=arguments,q=r[0],w=0;w<r.length;w++){var v=r[w];if("object"==typeof v){c=!1;if(v instanceof Array){e=i.createDocumentFragment();
for(var t=0;t<v.length;t++)e.appendChild(d(v[t]));v=e}if(v.nodeType)e=v,h(),f=v,o=0;else for(t in v)e[t]=v[t]}else if(c)c=!1,e.appendChild(i.createTextNode(v));else{1>w&&(g=null);c=!0;if(q=v.replace(a,function(a,c,j,t,q,k){if(c){h();if("-"==c||"+"==c){if(f=(o=e||f).parentNode,e=null,"+"==c)o=o.nextSibling}else"<"==c?f=e=(e||f).parentNode:(","==c?f=g:e&&(f=e),e=null),o=0;e&&(f=e)}if((a=!j&&t)||!e&&(j||q))"$"==a?(a=r[++w],f.appendChild(i.createTextNode(a))):(a=a||d.defaultTag,(c=b&&r[w+1]&&r[w+1].name)&&
(a="<"+a+' name="'+c+'">'),e=i.createElement(a));if(j)if("$"==t&&(t=r[++w]),"#"==j)e.id=t;else if(c=(a=e.className)&&(" "+a+" ").replace(" "+t+" "," "),"."==j)e.className=a?(c+t).substring(1):t;else if("!"==v)d("div",e,"<").innerHTML="";else if(c=c.substring(1,c.length-1),c!=a)e.className=c;if(q)if("$"==k&&(k=r[++w]),"style"==q)e.style.cssText=k;else e["!"==q.charAt(0)?(q=q.substring(1))&&"removeAttribute":"setAttribute"](q,""===k?q:k);return""}))throw new SyntaxError("Unexpected char "+q+" in "+
v);h();f=q=e||f}}g&&j&&g.appendChild(j);return q}k=h||k;var a=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w%$]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,i=i||document,b="object"==typeof i.createElement;d.defaultTag="div";d.forDocument=l;return d})})("undefined"==typeof define?function(m,l){"undefined"==typeof window?require("./node-html")(module,l):put=l()}:define)},"dgrid/List":function(){define("dgrid/List","dojo/_base/array,dojo/_base/kernel,dojo/_base/declare,dojo/on,dojo/has,./util/misc,dojo/has!touch?./TouchScroll,xstyle/has-class,put-selector/put,dojo/_base/sniff,xstyle/css!./css/dgrid.css".split(","),
function(m,l,k,i,h,d,a,b,g){function s(a){var b=a?"."+a.replace(r,"."):"";this._class&&(b="!"+this._class.replace(r,"!")+b);g(this.domNode,b);this._class=a}function j(){return this._class}b("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var c,o=g(document.getElementsByTagName("head")[0],"style"),f=[],o=o.sheet||o.styleSheet,e=0,r=/ +/g,q=7>h("ie")?function(){var a,b,c;if(this._started&&(a=document.documentElement,b=a.clientWidth,a=a.clientHeight,c=this._prevWinDims||
[],c[0]!==b||c[1]!==a))this.resize(),this._prevWinDims=[b,a]}:function(){this._started&&this.resize()};return k(a?a:null,{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,postscript:function(a,b){var c=this;(this._Row=function(a,b,c){this.id=a;this.data=b;this.element=c}).prototype.remove=function(){c.removeRow(this.element)};if(b)this.srcNodeRef=b=b.nodeType?b:document.getElementById(b);this.create(a,b)},listType:"list",create:function(a,b){var c=this.domNode=b||g("div"),n;a?(this.params=
a,k.safeMixin(this,a),n=a["class"]||a.className||c.className,this._sort=a.sort||[],delete this.sort):this._sort=[];this.observers=[];this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=c.id=c.id||this.id||"dgrid_"+e++;this.buildRendering();n&&s.call(this,n);this.postCreate&&this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var a=this.domNode,b=this,c,n,f,e;e=this.isRTL="rtl"==(document.body.dir||
document.documentElement.dir||document.body.style.direction).toLowerCase();a.className="";g(a,"[role=grid].ui-widget.dgrid.dgrid-"+this.listType);c=this.headerNode=g(a,"div.dgrid-header.dgrid-header-row.ui-widget-header"+(this.showHeader?"":".dgrid-header-hidden"));8>h("ie")&&g(a,"div.dgrid-spacer");n=this.bodyNode=g(a,"div.dgrid-scroller");n.tabIndex=-1;this.headerScrollNode=g(a,"div.dgrid-header-scroll.dgrid-scrollbar-width.ui-widget-header");f=this.footerNode=g("div.dgrid-footer"+(this.showFooter?
"":".dgrid-footer-hidden"));g(a,f);e&&(a.className+=" dgrid-rtl"+(h("webkit")?"":" dgrid-rtl-nonwebkit"));i(n,"scroll",function(f){if(b.showHeader)c.scrollLeft=f.scrollLeft||n.scrollLeft;f.stopPropagation();i.emit(a,"scroll",{scrollTarget:n})});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=g(this.bodyNode,"div.dgrid-content.ui-widget-content");this._listeners.push(this._resizeHandle=i(window,"resize",d.throttleDelayed(q,this)))},startup:function(){this.inherited(arguments);
if(!this._started)this._started=!0,this.resize(),this.set("sort",this._sort)},configStructure:function(){},resize:function(){var a=this.bodyNode,b=this.headerNode,f=this.footerNode,n=b.offsetHeight,e=this.showFooter?f.offsetHeight:0,d=7>h("ie");this.headerScrollNode.style.height=a.style.marginTop=n+"px";a.style.marginBottom=e+"px";if(d&&(a.style.height="",a.style.height=Math.max(this.domNode.offsetHeight-n-e,0)+"px",e))f.style.bottom="1px",setTimeout(function(){f.style.bottom=""},0);c||(n=g(document.body,
"div.dgrid-scrollbar-measure"),c=n.offsetWidth-n.clientWidth,g(n,"!"),7===h("ie")&&c++,this.addCssRule(".dgrid-scrollbar-width","width: "+c+"px"),this.addCssRule(".dgrid-scrollbar-height","height: "+c+"px"),17!=c&&!d&&(this.addCssRule(".dgrid-header","right: "+c+"px"),this.addCssRule(".dgrid-rtl-nonwebkit .dgrid-header","left: "+c+"px")));if(d)b.style.width=a.clientWidth+"px",setTimeout(function(){b.scrollLeft=a.scrollLeft},0)},addCssRule:function(a,b){var c=f.length;f[c]=(o.cssRules||o.rules).length;
o.addRule?o.addRule(a,b):o.insertRule(a+"{"+b+"}",f[c]);return{remove:function(){var a=f[c],b,g=f.length;if(void 0!==a){o.deleteRule?o.deleteRule(a):o.removeRule(a);f[c]=void 0;for(b=c;b<g;b++)f[b]>a&&f[b]--}}}},on:function(a,b){var c=i(this.domNode,a,b);h("dom-addeventlistener")||this._listeners.push(c);return c},cleanup:function(){var a=this.observers,b;for(b in this._rowIdToObject)if(this._rowIdToObject[b]!=this.columns){var c=document.getElementById(b);c&&this.removeRow(c,!0)}for(b=0;b<a.length;b++)(c=
a[b])&&c.cancel();this.observers=[];this.preload=null},destroy:function(){if(this._listeners){for(var a=this._listeners.length;a--;)this._listeners[a].remove();delete this._listeners}this.cleanup();g(this.domNode,"!")},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0})},newRow:function(a,b,c,n){if(!b||b.parentNode){var f=this.insertRow(a,b?b.parentNode:this.contentNode,b,n.start+c,n);g(f,".ui-state-highlight");setTimeout(function(){g(f,
"!ui-state-highlight")},250);return f}},adjustRowIndices:function(a){if(this.maintainOddEven){var b=a.rowIndex;if(-1<b){do if(-1<a.rowIndex)-1<(a.className+" ").indexOf("dgrid-row ")&&g(a,"."+(1==b%2?"dgrid-row-odd":"dgrid-row-even")+"!"+(0==b%2?"dgrid-row-odd":"dgrid-row-even")),a.rowIndex=b++;while((a=a.nextSibling)&&a.rowIndex!=b)}}},renderArray:function(a,b,c){function n(a){k=g.insertRow(a,r,null,e++,c);k.observerIndex=i;return k}function f(a){if(h=b?b.parentNode:g.contentNode)h.insertBefore(r,
b||null),(k=a[a.length-1])&&g.adjustRowIndices(k);return j=a}var c=c||{},g=this,e=c.start||0,d,j,h;if(!b)this._lastCollection=a;if(a.observe)var i=this.observers.push(a.observe(function(a,b,n){var f,e;if(-1<b&&j[b]){d=j.splice(b,1)[0];if(d.parentNode==h)(f=d.nextSibling)&&b!=n&&f.rowIndex--,g.removeRow(d);g._processScroll&&g._processScroll()}if(-1<n){e=j[n];if(!e&&(e=j[n-1]))e=(e.connected||e).nextSibling;if(d=g.newRow(a,e,n,c))if(d.observerIndex=i,j.splice(n,0,d),!f||n<b)a=d.previousSibling,f=!a||
a.rowIndex+1==d.rowIndex||0==d.rowIndex?d:a;c.count++}b!=n&&f&&g.adjustRowIndices(f)},!0))-1;var r=document.createDocumentFragment();if(a.map){if(j=a.map(n,console.error),j.then)return j.then(f)}else{j=[];for(var q=0,o=a.length;q<o;q++)j[q]=n(a[q])}var k;return f(j)},renderHeader:function(){},_autoId:0,insertRow:function(a,b,c,n,f){var g=f.parentId,g=this.id+"-row-"+(g?g+"-":"")+(this.store&&this.store.getIdentity?this.store.getIdentity(a):this._autoId++),e=document.getElementById(g),d=e&&e.previousSibling;
if(!e||c&&e.parentNode!=c.parentNode)e&&this.removeRow(e),e=this.renderRow(a,f),e.className=(e.className||"")+" ui-state-default dgrid-row "+(1==n%2?"dgrid-row-odd":"dgrid-row-even"),this._rowIdToObject[e.id=g]=a;b.insertBefore(e,c||null);d&&this.adjustRowIndices(d);e.rowIndex=n;return e},renderRow:function(a){return g("div",""+a)},removeRow:function(a,b){a=a.element||a;delete this._rowIdToObject[a.id];b||g(a,"!")},row:function(a){var b;if(a instanceof this._Row)return a;if(a.target&&a.target.nodeType)a=
a.target;if(a.nodeType){do{var c=a.id;if(b=this._rowIdToObject[c])return new this._Row(c.substring(this.id.length+5),b,a);a=a.parentNode}while(a&&a!=this.domNode)}else return"object"==typeof a?b=this.store.getIdentity(a):(b=a,a=this._rowIdToObject[this.id+"-row-"+b]),new this._Row(b,a,document.getElementById(this.id+"-row-"+b))},cell:function(a){return{row:this.row(a)}},_move:function(a,b,c,n){var f,e;e=f=a.element;b=b||1;do if(a=f[0>b?"previousSibling":"nextSibling"]){do if((f=a)&&-1<(f.className+
" ").indexOf(c+" ")){e=f;b+=0>b?1:-1;break}while(a=(!n||!f.hidden)&&f[0>b?"lastChild":"firstChild"])}else if(f=f.parentNode,f===this.bodyNode||f===this.headerNode)break;while(b);return e},up:function(a,b,c){return this.row(this._move(a,-(b||1),"dgrid-row",c))},down:function(a,b,c){return this.row(this._move(a,b||1,"dgrid-row",c))},scrollTo:h("touch")?function(){return this.inherited(arguments)}:function(a){if("undefined"!==typeof a.x)this.bodyNode.scrollLeft=a.x;if("undefined"!==typeof a.y)this.bodyNode.scrollTop=
a.y},getScrollPosition:h("touch")?function(){return this.inherited(arguments)}:function(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}},get:function(a){var b="_get"+a.charAt(0).toUpperCase()+a.slice(1);return"function"===typeof this[b]?this[b].apply(this,[].slice.call(arguments,1)):this[a]},set:function(a,b){if("object"===typeof a)for(var c in a)this.set(c,a[c]);else c="_set"+a.charAt(0).toUpperCase()+a.slice(1),"function"===typeof this[c]?this[c].apply(this,[].slice.call(arguments,
1)):this[a]=b;return this},_getClass:j,_setClass:s,_getClassName:j,_setClassName:s,_setSort:function(a,b){this._sort="string"!=typeof a?a:[{attribute:a,descending:b}];this.refresh();if(this._lastCollection){if(a.length){if("string"!=typeof a)b=a[0].descending,a=a[0].attribute;this._lastCollection.sort(function(c,f){var e=c[a],g=f[a];void 0===e&&(e="");void 0===g&&(g="");return e==g?0:e>g==!b?1:-1})}this.renderArray(this._lastCollection)}},sort:function(a,b){l.deprecated("sort(...)",'use set("sort", ...) instead',
"dgrid 1.0");this.set("sort",a,b)},_getSort:function(){return this._sort},_setShowHeader:function(a){var b=this.headerNode;this.showHeader=a;g(b,(a?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();if(a)b.scrollLeft=this.getScrollPosition().x},setShowHeader:function(a){l.deprecated("setShowHeader(...)",'use set("showHeader", ...) instead',"dgrid 1.0");this.set("showHeader",a)},_setShowFooter:function(a){this.showFooter=a;g(this.footerNode,(a?"!":".")+"dgrid-footer-hidden");this.resize()}})})},
"dgrid/util/misc":function(){define("dgrid/util/misc",[],function(){var m={defaultDelay:15,throttle:function(l,k,i){var h=!1,i=i||m.defaultDelay;return function(){h||(h=!0,l.apply(k,arguments),setTimeout(function(){h=!1},i))}},throttleDelayed:function(l,k,i){var h=!1,i=i||m.defaultDelay;return function(){if(!h){h=!0;var d=arguments;setTimeout(function(){h=!1;l.apply(k,d)},i)}}},debounce:function(l,k,i){var h,i=i||m.defaultDelay;return function(){h&&(clearTimeout(h),h=null);var d=arguments;h=setTimeout(function(){l.apply(k,
d)},i)}}};return m})},"xstyle/has-class":function(){define("xstyle/has-class",["dojo/has"],function(m){var l={};return function(){for(var k,i=arguments,h=0;h<i.length;h++)if(k=i[h],!l[k]){l[k]=!0;var d=k.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),a=m(d[2]),b=-d[4];if((0<b?b<=a&&(-d[5]||b)>=a:!!a)==!d[1])document.documentElement.className+=" has-"+k}}})},"xstyle/css":function(){define("xstyle/css",["require"],function(m){var l=window.cssCache||(window.cssCache={});return{load:function(k,i,h){var d=
i.toUrl(k);if(l[d])return createStyleSheet(l[d]);var a=document.documentElement,b=a.insertBefore(document.createElement("div"),a.firstChild);b.id=i.toAbsMid(k).replace(/\//g,"-").replace(/\..*/,"")+"-loaded";k=(b.currentStyle||getComputedStyle(b,null)).display;a.removeChild(b);if("none"==k)return h();m(["./load-css"],function(a){a(d,h)})},pluginBuilder:"xstyle/css-builder"}})},"dgrid/OnDemandList":function(){define("dgrid/OnDemandList","./List,./_StoreMixin,dojo/_base/declare,dojo/_base/lang,dojo/_base/Deferred,dojo/on,./util/misc,put-selector/put".split(","),
function(m,l,k,i,h,d,a,b){return k([m,l],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2E3,rowHeight:22,queryRowsOverlap:1,pagingDelay:a.defaultDelay,postCreate:function(){this.inherited(arguments);var b=this;d(this.bodyNode,"scroll",a.throttleDelayed(function(a){b._processScroll(a)},null,this.pagingDelay))},renderQuery:function(a,d,j){var c={query:a,count:0,node:d,options:j};if(!d){var o={node:b(this.contentNode,"div.dgrid-preload",{rowIndex:0}),count:0,
query:a,next:c,options:j};c.node=d=b(this.contentNode,"div.dgrid-preload");c.previous=o}d.rowIndex=this.minRowsPerPage;(o=this.preload)?((c.next=o.next)&&this.bodyNode.scrollTop>=o.node.offsetTop?c.previous=o:(c.next=o,c.previous=o.previous),c.previous.next=c,c.next.previous=c):this.preload=c;var f=b(d,"-div.dgrid-loading");b(f,"div.dgrid-below").innerHTML=this.loadingMessage;var j=i.mixin(this.get("queryOptions"),j,{start:0,count:this.minRowsPerPage,query:a}),e=a(j),r=this;h.when(this.renderArray(e,
d,j),function(a){return h.when(e.total||e.length,function(e){b(f,"!");var g=a.length,e=e||g;if(!e)r.noDataNode=b(r.contentNode,"div.dgrid-no-data"),r.noDataNode.innerHTML=r.noDataMessage;for(var j=0,n=0;n<g;n++)j+=r._calcRowHeight(a[n]);if(g&&j)r.rowHeight=j/g;e-=g;c.count=e;d.rowIndex=g;e?d.style.height=Math.min(e*r.rowHeight,r.maxEmptySpace)+"px":d.style.display="none";r._processScroll();return a})});return e},refresh:function(){this.inherited(arguments);if(this.store){var a=this;this._trackError(function(){return a.renderQuery(function(b){return a.store.query(a.query,
b)})})}},_calcRowHeight:function(a){var b=a.previousSibling;return b&&b.offsetTop!=a.offsetTop?a.offsetHeight:0},lastScrollTop:0,_processScroll:function(a){function d(a,e,f,n){var g=c.farOffRemoval,h=a.node;if(e>2*g){for(var i,p=h[f],r=0,o=0,q=[];i=p;){var k=c._calcRowHeight(i);if(r+k+g>e||0>p.className.indexOf("dgrid-row")&&0>p.className.indexOf("dgrid-loading"))break;var p=i[f],l,m=i.observerIndex;if(m!=l&&-1<l){var x=c.observers,s=x[l];s&&s.cancel();x[l]=0}r+=k;o+=i.count||1;l=m;c.removeRow(i,
!0);q.push(i)}a.count+=o;n?(h.rowIndex-=o,j(a)):h.style.height=h.offsetHeight+r+"px";for(var u=b("div"),a=0;a<q.length;a++)b(u,q[a]);setTimeout(function(){b(u,"!")},1)}}function j(a,b){a.node.style.height=Math.min(a.count*c.rowHeight,b?Infinity:c.maxEmptySpace)+"px"}var c=this,o=c.bodyNode,a=a&&a.scrollTop||o.scrollTop,f=o.offsetHeight+a,e,r,q=c.preload,k=c.lastScrollTop,l=c.bufferRows*c.rowHeight,m=l-c.rowHeight;for(c.lastScrollTop=a;q&&!q.node.offsetWidth;)q=q.previous;for(;q&&q!=e;){e=c.preload;
c.preload=q;r=q.node;var n=r.offsetTop;if(f+1+m<n){do q=q.previous;while(q&&!q.node.offsetWidth)}else if(a-1-m>n+r.offsetHeight){do q=q.next;while(q&&!q.node.offsetWidth)}else{var p=((r.rowIndex?a-l:f)-n)/c.rowHeight,n=(f-a+2*l)/c.rowHeight,x=Math.max(Math.min((a-k)*c.rowHeight,c.maxRowsPerPage/2),c.maxRowsPerPage/-2),n=n+Math.min(Math.abs(x),10);0==r.rowIndex&&(p-=n);p=Math.max(p,0);10>p&&0<p&&n+p<c.maxRowsPerPage&&(n+=Math.max(0,p),p=0);n=Math.min(Math.max(n,c.minRowsPerPage),c.maxRowsPerPage,q.count);
if(0==n)break;var n=Math.ceil(n),p=Math.min(Math.floor(p),q.count-n),u=i.mixin(c.get("queryOptions"),q.options);q.count-=n;var A=r,B,F=c.queryRowsOverlap;if(x=0<r.rowIndex&&q){var y=q.previous;y&&(d(y,a-(y.node.offsetTop+y.node.offsetHeight),"nextSibling"),0<p&&y.node==r.previousSibling?(p=Math.min(q.count,p),q.previous.count+=p,j(q.previous,!0),q.count-=p,r.rowIndex+=p,F=0):n+=p);u.start=r.rowIndex-F;r.rowIndex+=n}else{if(q.next)d(q.next,q.next.node.offsetTop-f,"previousSibling",!0),A=r.nextSibling,
A==q.next.node?(q.next.count+=q.count-p,q.next.node.rowIndex=p+n,j(q.next),q.count=p,F=0):B=!0;u.start=q.count}u.count=Math.min(n+F,c.maxRowsPerPage);if(B)B=A.offsetTop;j(q);r=b(A,"-div.dgrid-loading[style=height:"+n*c.rowHeight+"px]");b(r,"div.dgrid-"+(x?"below":"above")).innerHTML=c.loadingMessage;r.count=n;u.query=q.query;var G=q.query(u);if(void 0===c._trackError(function(){return G}))break;(function(a,e,f,n,g){h.when(c.renderArray(g,a,u),function(){A=a.nextSibling;b(a,"!");if(n&&A){var e=c.getScrollPosition();
c.scrollTo({x:e.x,y:e.y+A.offsetTop-n,preserveMomentum:!0})}f&&h.when(g.total||g.length,function(a){f.count=a-f.node.rowIndex;j(f)});c._processScroll()})}).call(this,r,o,x,B,G);q=q.previous}}}})})},"dgrid/_StoreMixin":function(){define("dgrid/_StoreMixin","dojo/_base/kernel,dojo/_base/declare,dojo/_base/lang,dojo/_base/Deferred,dojo/on,put-selector/put".split(","),function(m,l,k,i,h,d){function a(a){"object"!==typeof a&&(a=Error(a));a.grid=this;h.emit(this.domNode,"dgrid-error",{grid:this,error:a,
cancelable:!0,bubbles:!0})&&console.error(a)}return l(null,{store:null,query:null,queryOptions:null,getBeforePut:!0,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={}},_configColumn:function(a){if(a.set){if(!this._columnsWithSet)this._columnsWithSet={};this._columnsWithSet[a.field]=a}},_configColumns:function(){this._columnsWithSet=null;return this.inherited(arguments)},_setStore:function(a,g,d){this.store=a;this.dirty={};this.set("query",
g,d)},_setQuery:function(a,g){var d=g&&g.sort;this.query=void 0!==a?a:this.query;this.queryOptions=g||this.queryOptions;d?this.set("sort",d):this.refresh()},setStore:function(a,g,d){m.deprecated("setStore(...)",'use set("store", ...) instead',"dgrid 1.0");this.set("store",a,g,d)},setQuery:function(a,d){m.deprecated("setQuery(...)",'use set("query", ...) instead',"dgrid 1.0");this.set("query",a,d)},_getQueryOptions:function(){var a=k.delegate(this.queryOptions,{});if(this._sort.length)a.sort=this._sort;
return a},_getQuery:function(){var a=this.query;return"object"==typeof a&&null!=a?k.delegate(a,{}):a},_setSort:function(a,d){if(this.store)this._lastCollection=null;this.inherited(arguments)},insertRow:function(a,d,i,j,c){var h=this.store,f=this.dirty,h=h&&h.getIdentity(a),e;h in f&&!(h in this._updating)&&(e=f[h]);e&&(a=k.delegate(a,e));return this.inherited(arguments)},updateDirty:function(a,d,h){var j=this.dirty,c=j[a];c||(c=j[a]={});c[d]=h},setDirty:function(a,d,h){m.deprecated("setDirty(...)",
"use updateDirty() instead","dgrid 1.0");this.updateDirty(a,d,h)},save:function(){function a(b,c){return function(a){var f=d._columnsWithSet,e=d._updating,p,r;for(p in c)a[p]=c[p];if(f)for(p in f)r=f[p].set(a),void 0!==r&&(a[p]=r);e[b]=!0;return i.when(h.put(a),function(){delete j[b];delete e[b]})}}var d=this,h=this.store,j=this.dirty,c=new i,o=c.promise,f=function(a){var b;return d.getBeforePut||!(b=d.row(a).data)?function(){return h.get(a)}:function(){return b}},e;for(e in j)var r=a(e,j[e]),o=o.then(f(e)).then(r);
c.resolve();return o},revert:function(){this.dirty={};this.refresh()},_trackError:function(b){var d;"string"==typeof b&&(b=k.hitch(this,b));try{d=b()}catch(h){a.call(this,h)}return i.when(d,null,k.hitch(this,a))},newRow:function(){this.noDataNode&&(d(this.noDataNode,"!"),delete this.noDataNode);return this.inherited(arguments)},removeRow:function(a,g){var h={element:a};if(!g&&this.noDataMessage&&this.up(h).element===a&&this.down(h).element===a)this.noDataNode=d(this.contentNode,"div.dgrid-no-data"),
this.noDataNode.innerHTML=this.noDataMessage;return this.inherited(arguments)}})})},"dgrid/Keyboard":function(){define("dgrid/Keyboard","dojo/_base/declare,dojo/aspect,dojo/on,./List,dojo/_base/lang,dojo/has,put-selector/put,dojo/_base/Deferred,dojo/_base/sniff".split(","),function(m,l,k,i,h,d,a,b){var g={checkbox:1,radio:1,button:1},s=/\bdgrid-cell\b/,j=/\bdgrid-row\b/;d.add("dom-contains",function(){return!!document.createElement("a").contains});return m(null,{pageSkip:10,tabIndex:0,postCreate:function(){function c(a){var b=
a.target;return b.type&&(!g[b.type]||32==a.keyCode)}function i(e){function g(b,c,e){var j=f.cellNavigation?"cell":"row",i=f[j](b);if(b=i&&i.element){c=h.mixin({grid:f},c);if(c.type)c.parentType=c.type;if(!c.bubbles)c.bubbles=!0;a(o,"!dgrid-focus[!tabIndex]");if(o){if(8>d("ie"))o.style.position="";c[j]=f[j](o);k.emit(b,"dgrid-cellfocusout",c)}o=b;c[j]=i;if(!e){if(8>d("ie"))b.style.position="relative";b.tabIndex=f.tabIndex;b.focus()}a(b,".dgrid-focus");k.emit(o,"dgrid-cellfocusin",c)}}for(var q=f.cellNavigation?
s:j,o=e,m;(m=o.firstChild)&&!q.test(m.className);)o=m;m&&(o=m);if(e===f.contentNode)l.after(f,"renderArray",function(a){return b.when(a,function(a){if(q.test(o.className)&&(d("dom-contains")?e.contains(o):e.compareDocumentPosition(o)&8))return a;for(var b=0,c=e.getElementsByTagName("*"),g;g=c[b];++b)if(q.test(g.className)){o=g;break}o.tabIndex=f.tabIndex;return a})});else if(q.test(o.className))o.tabIndex=f.tabIndex;k(e,"mousedown",function(a){c(a)||g(a.target,a)});k(e,"keydown",function(a){if(!a.metaKey&&
!a.altKey){var b=a.keyCode;if(!c(a)){var e={32:0,33:-f.pageSkip,34:f.pageSkip,37:-1,38:-1,39:1,40:1,35:1E4,36:-1E4}[b];if(!isNaN(e)){var h,j=f.cell(o);if(37==b||39==b){if(!f.cellNavigation)return;b="right"}else b="down",h=j&&j.column&&j.column.id,j=f.row(o);e&&(j=j&&f[b](j,e,!0));if(e=j&&j.element){if(h)e=f.cell(e,h).element;if(f.cellNavigation){h=e.getElementsByTagName("input");for(var i,j=0;j<h.length;j++)if(b=h[j],(-1!=b.tabIndex||"lastValue"in b)&&!b.disabled){if(8>d("ie"))b.style.position="relative";
b.focus();if(8>d("ie"))b.style.position="";i=!0;break}}g(e,a,i)}a.preventDefault()}}}});return function(a){a=a||o;g(a,{target:a})}}this.inherited(arguments);var f=this;if(this.tabableHeader)this.focusHeader=i(this.headerNode);this.focus=i(this.contentNode)}})})},"dgrid/Selection":function(){define("dgrid/Selection","dojo/_base/kernel,dojo/_base/declare,dojo/_base/Deferred,dojo/on,dojo/has,dojo/aspect,./List,dojo/has!touch?./util/touch,put-selector/put,dojo/query".split(","),function(m,l,k,i,h,d,a,
b,g){var s=h("mac")?"metaKey":"ctrlKey";return l(null,{selectionDelegate:".dgrid-row",selectionEvents:"mousedown,mouseup,dgrid-cellfocusin",deselectOnRefresh:!0,allowSelectAll:!1,create:function(){this.selection={};return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._initSelectionEvents()},selection:{},selectionMode:"extended",_setSelectionMode:function(a){if(a!=this.selectionMode)this.clearSelection(),this.selectionMode=a},setSelectionMode:function(a){m.deprecated("setSelectionMode(...)",
'use set("selectionMode", ...) instead',"dgrid 1.0");this.set("selectionMode",a)},_handleSelect:function(a,b){if(!("none"==this.selectionMode||"dgrid-cellfocusin"==a.type&&"mousedown"==a.parentType||"mouseup"==a.type&&b!=this._waitForMouseUp)){this._waitForMouseUp=null;this._selectionTriggerEvent=a;var d=!a.keyCode?a[s]:a.ctrlKey;if(!a.keyCode||!a.ctrlKey||32==a.keyCode){var f=this.selectionMode,e=this.row(b),g=this._lastSelected;if("single"==f)g===b?this.select(b,null,!d||!this.isSelected(b)):(this.clearSelection(),
this.select(b),this._lastSelected=b);else if(this.selection[e.id]&&!a.shiftKey&&"mousedown"==a.type)this._waitForMouseUp=b;else{var h;(2!=a.button&&"extended"==f&&!d||2==a.button&&!this.selection[e.id])&&this.clearSelection(e.id,!0);a.shiftKey||(g=h=d?null:void 0);this.select(b,g,h);if(!g)this._lastSelected=b}!a.keyCode&&(a.shiftKey||d)&&a.preventDefault()}this._selectionTriggerEvent=null}},_initSelectionEvents:function(){function a(b){c._handleSelect(b,this)}var c=this,g=this.selectionDelegate;i(this.domNode,
"selectstart",function(a){var b=a.target&&a.target.tagName;"INPUT"!=b&&"TEXTAREA"!=b&&a.preventDefault()});h("touch")?i(this.contentNode,b.selector(g,b.tap),function(a){c._handleSelect(a,this)}):i(this.contentNode,i.selector(g,this.selectionEvents),a);if(this.allowSelectAll)this.on("keydown",function(a){a[s]&&65==a.keyCode&&(a.preventDefault(),c[c.allSelected?"clearSelection":"selectAll"]())});d.before(this,"removeRow",function(a,b){var c;b||(c=this.row(a))&&c.id in this.selection&&this.deselect(a)})},
allowSelect:function(){return!0},_selectionEventQueue:function(a,b){var d=this,f="dgrid-"+(a?"select":"deselect"),e=this[f],g=this._selectionTriggerEvent;if(g)g=g.type;if(e)return e;setTimeout(this._fireSelectionEvent=function(){if(e){var a={bubbles:!0,grid:d};if(g)a.parentType=g;a[b]=e;i.emit(d.contentNode,f,a);e=null;delete d[f]}},0);return e=this[f]=[]},select:function(a,b,d){void 0===d&&(d=!0);a.element||(a=this.row(a));if(this.allowSelect(a)){var f=this.selection,e=f[a.id];null===d&&(d=!e);var h=
a.element;!d&&!this.allSelected?delete this.selection[a.id]:f[a.id]=d;h&&(d?g(h,".dgrid-selected.ui-state-active"):g(h,"!dgrid-selected!ui-state-active"));d!=e&&h&&this._selectionEventQueue(d,"rows").push(a);if(b){b.element||(b=this.row(b));b=b.element;d=a.element;for(d=b&&(b.compareDocumentPosition?2==b.compareDocumentPosition(d):b.sourceIndex>d.sourceIndex)?"down":"up";a.element!=b&&(a=this[d](a));)this.select(a)}}},deselect:function(a,b){this.select(a,b,!1)},clearSelection:function(a,b){this.allSelected=
!1;for(var d in this.selection)a!==d&&this.deselect(d);if(!b)this._lastSelected=null},selectAll:function(){this.allSelected=!0;this.selection={};for(var a in this._rowIdToObject)this.select(this.row(this._rowIdToObject[a]).id)},isSelected:function(a){if(!a)return!1;a.element||(a=this.row(a));return!!this.selection[a.id]},refresh:function(){this.deselectOnRefresh&&(this.clearSelection(),this._fireSelectionEvent&&this._fireSelectionEvent());this._lastSelected=null;this.inherited(arguments)},renderArray:function(){var a=
this,b=this.inherited(arguments);k.when(b,function(b){var c=a.selection,e,d,g;for(e=0;e<b.length;e++)d=a.row(b[e]),(g=d.id in c?c[d.id]:a.allSelected)&&a.select(d,null,g)});return b}})})},"dgrid/editor":function(){define("dgrid/editor","dojo/_base/kernel,dojo/_base/lang,dojo/_base/array,dojo/_base/Deferred,dojo/on,dojo/aspect,dojo/has,./Grid,put-selector/put,dojo/_base/sniff".split(","),function(m,l,k,i,h,d,a,b,g){function s(a,b){a.value=b;if("radio"==a.type||"checkbox"==a.type)a.checked=!!b}function j(a,
b){if("number"==typeof b)a=isNaN(a)?a:parseFloat(a);else if("boolean"==typeof b)a="true"==a?!0:"false"==a?!1:a;else if(b instanceof Date)var c=new Date(a),a=isNaN(c.getTime())?a:c;return a}function c(a,b,c,d,e){var f,g,i;if(!(c>=d&&c<=d)&&(f=a.cell(b),g=f.row,i=f.column,i.field&&g)){f={grid:a,cell:f,rowId:g.id,oldValue:c,value:d,bubbles:!0,cancelable:!0};if(e&&e.type)f.parentType=e.type;if(h.emit(b,"dgrid-datachange",f))a.updateDirty&&(a.updateDirty(g.id,i.field,d),i.autoSave&&setTimeout(function(){a._trackError("save")},
0));else{var j;(j=b.widget)?(j._dgridIgnoreChange=!0,j.set("value",c),setTimeout(function(){j._dgridIgnoreChange=!1},0)):(j=b.input)&&s(j,c);return c}}return d}function o(a,b,d,e){if(!d.isValid||d.isValid())a=c(a,(d.domNode||d).parentNode,w?v:d._dgridLastValue,"function"==typeof d.get?j(d.get("value")):j(d["checkbox"==d.type||"radio"==d.type?"checked":"value"]),e),w?v=a:d._dgridLastValue=a}function f(b){var c=b.editor,d=b.editOn,e=b.grid,f="string"!=typeof c,i,j,k;i=b.editorArgs||{};"function"==typeof i&&
(i=i.call(e,b));if(f)j=new c(i),f=j.focusNode||j.domNode,f.className+=" dgrid-input",j.connect(j,d?"onBlur":"onChange",function(){j._dgridIgnoreChange||o(e,b,this,{type:"widget"})});else{k=function(a){var c=a.target;"_dgridLastValue"in c&&-1<c.className.indexOf("dgrid-input")&&o(e,b,c,a)};if(!b.grid._hasInputListener)e._hasInputListener=!0,e.on("change",function(a){k(a)});j=f=g(("textarea"==c?"textarea":"input[type="+c+"]")+".dgrid-input",l.mixin({name:b.field,tabIndex:isNaN(b.tabIndex)?-1:b.tabIndex},
i));if(9>a("ie")||a("ie")&&0)"radio"==c||"checkbox"==c?h(j,"click",function(a){k(a)}):h(j,"change",function(a){k(a)})}h(f,"mousedown",function(a){a.stopPropagation()});return j}function e(a){var c=f(a),d=c.domNode||c,e=c.focusNode||d,i=c.domNode?function(){c.set("value",c._dgridLastValue)}:function(){s(c,c._dgridLastValue);o(a.grid,a,c)};h(e,"keydown",function(b){b=b.keyCode||b.which;27==b?(i(),v=c._dgridLastValue,e.blur()):13==b&&!1!==a.dismissOnEnter&&e.blur()});(a._editorBlurHandle=h.pausable(c,
"blur",function(){var c=d.parentNode;a.grid.cell(d);var e=c.children.length-1,f={alreadyHooked:!0};for(c.removeChild(d);e--;)g(c.firstChild,"!");b.appendIfNode(c,a.renderCell(a.grid.row(c).data,v,c,t?l.delegate(f,t):f));w=v=t=null;a._editorBlurHandle.pause()})).pause();return c}function r(a,b,c,d){(b=a.domNode)||s(a,d);c.innerHTML="";g(c,a.domNode||a);if(b)a._started||a.startup(),a._dgridIgnoreChange=!0,a.set("value",d),setTimeout(function(){a._dgridIgnoreChange=!1},0);a._dgridLastValue=d;w&&(v=d)}
function q(a){var b,c,d,e,f,g;a.column||(a=this.cell(a));b=a.column;e=b.field;c=a.element.contents||a.element;if(f=b.editorInstance){if(w!=c&&(!b.canEdit||b.canEdit(a.row.data,d)))return w=c,a=a.row,d=(d=this.dirty&&this.dirty[a.id])&&e in d?d[e]:b.get?b.get(a.data):a.data[e],r(b.editorInstance,b,c,d),g=new i,setTimeout(function(){f.focus&&f.focus();b._editorBlurHandle&&b._editorBlurHandle.resume();g.resolve(f)},0),g.promise}else if(b.editor&&(f=c.widget||c.input))return g=new i,f.focus&&f.focus(),
g.resolve(f),g.promise;return null}var w,v,t;return function(a,c,g){var i=a.renderCell||b.defaultRenderCell,j=[],l;a||(a={});a.editor=c=c||a.editor||"text";a.editOn=g=g||a.editOn;l="string"!=typeof c;if(a.widgetArgs)m.deprecated("column.widgetArgs","use column.editorArgs instead","dgrid 1.0"),a.editorArgs=a.widgetArgs;d.after(a,"init",g?function(){var b=a.grid;if(!b.edit)b.edit=q;a.editorInstance=e(a,i)}:function(){var b=a.grid;if(!b.edit)b.edit=q;l&&j.push(d.before(b,"removeRow",function(c){c=b.cell(c,
a.id).element;(c=(c.contents||c).widget)&&c.destroyRecursive()}))});d.after(a,"destroy",function(){k.forEach(j,function(a){a.remove()});a._editorBlurHandle&&a._editorBlurHandle.remove();g&&l&&a.editorInstance.destroyRecursive()});a.renderCell=g?function(b,c,d,e){if(!e||!e.alreadyHooked)h("TD"==d.tagName?d:d.parentNode,g,function(){t=e;a.grid.edit(this)});return i.call(a,b,c,d,e)}:function(b,c,d,e){if(!a.canEdit||a.canEdit(b,c))b=f(a),r(b,a,d,c),d[l?"widget":"input"]=b;else return i.call(a,b,c,d,e)};
return a}})},"moment/moment":function(){define("moment/moment",[],function(){function m(a,b,c,d){var e=c.lang();return e[a].call?e[a](c,d):e[a][b]}function l(b,c){return function(d){return a(b.call(this,d),c)}}function k(a){return function(b){b=a.call(this,b);return b+this.lang().ordinal(b)}}function i(a,b,c){this._d=a;this._isUTC=!!b;this._a=a._a||null;this._lang=c||!1}function h(a){var b=this._data={},c=a.years||a.y||0,e=a.months||a.M||0,f=a.weeks||a.w||0,g=a.days||a.d||0,h=a.hours||a.h||0,i=a.minutes||
a.m||0,j=a.seconds||a.s||0,a=a.milliseconds||a.ms||0;this._milliseconds=a+1E3*j+6E4*i+36E5*h;this._days=g+7*f;this._months=e+12*c;b.milliseconds=a%1E3;j+=d(a/1E3);b.seconds=j%60;i+=d(j/60);b.minutes=i%60;h+=d(i/60);b.hours=h%24;g+=d(h/24);g+=7*f;b.days=g%30;e+=d(g/30);b.months=e%12;c+=d(e/12);b.years=c;this._lang=!1}function d(a){return 0>a?Math.ceil(a):Math.floor(a)}function a(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function b(a,b,c){var d=b._milliseconds,e=b._days,b=b._months;d&&a._d.setTime(+a+
d*c);e&&a.date(a.date()+e*c);b&&(d=a.date(),a.date(1).month(a.month()+b*c).date(Math.min(d,a.daysInMonth())))}function g(a){return"[object Array]"===Object.prototype.toString.call(a)}function s(a,b){var c=Math.min(a.length,b.length),d=Math.abs(a.length-b.length),e=0,f;for(f=0;f<c;f++)~~a[f]!==~~b[f]&&e++;return e+d}function j(a,b,c,d){var e,f=[];for(e=0;7>e;e++)f[e]=a[e]=null==a[e]?2===e?1:0:a[e];a[7]=f[7]=b;null!=a[8]&&(f[8]=a[8]);a[3]+=c||0;a[4]+=d||0;c=new Date(0);b?(c.setUTCFullYear(a[0],a[1],
a[2]),c.setUTCHours(a[3],a[4],a[5],a[6])):(c.setFullYear(a[0],a[1],a[2]),c.setHours(a[3],a[4],a[5],a[6]));c._a=f;return c}function c(a,b){var c,d,e=[];!b&&F&&(b=require("./lang/"+a));for(c=0;c<y.length;c++)b[y[c]]=b[y[c]]||A.en[y[c]];for(c=0;12>c;c++)d=p([2E3,c]),e[c]=RegExp("^"+(b.months[c]||b.months(d,""))+"|^"+(b.monthsShort[c]||b.monthsShort(d,"")).replace(".",""),"i");b.monthsParse=b.monthsParse||e;return A[a]=b}function o(a){return(a="string"===typeof a&&a||a&&a._lang||null)?A[a]||c(a):p}function f(a){var b=
a.match(H),c,d;for(c=0,d=b.length;c<d;c++)b[c]=C[b[c]]?C[b[c]]:b[c].match(/\[.*\]/)?b[c].replace(/^\[|\]$/g,""):b[c].replace(/\\/g,"");return function(e){var f="";for(c=0;c<d;c++)f+="function"===typeof b[c].call?b[c].call(e,a):b[c];return f}}function e(a,b){function c(b){return a.lang().longDateFormat[b]||b}for(var d=5;d--&&I.test(b);)b=b.replace(I,c);M[b]||(M[b]=f(b));return M[b](a)}function r(a){switch(a){case "DDDD":return Q;case "YYYY":return R;case "S":case "SS":case "SSS":case "DDD":return z;
case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":case "a":case "A":return S;case "Z":case "ZZ":return J;case "T":return T;case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return D;default:return RegExp(a.replace("\\",""))}}function q(a,b){var c=[0,0,1,0,0,0,0],d={tzh:0,tzm:0},e=b.match(H),f,g;for(f=0;f<e.length;f++)if((g=(r(e[f]).exec(a)||[])[0])&&(a=a.slice(a.indexOf(g)+g.length)),C[e[f]]){var h=c,i=d,k=void 0,
l=void 0;switch(e[f]){case "M":case "MM":h[1]=null==g?0:~~g-1;break;case "MMM":case "MMMM":for(k=0;12>k;k++)if(o().monthsParse[k].test(g)){h[1]=k;l=!0;break}l||(h[8]=!1);break;case "D":case "DD":case "DDD":case "DDDD":null!=g&&(h[2]=~~g);break;case "YY":h[0]=~~g+(70<~~g?1900:2E3);break;case "YYYY":h[0]=~~Math.abs(g);break;case "a":case "A":i.isPm="pm"===(g+"").toLowerCase();break;case "H":case "HH":case "h":case "hh":h[3]=~~g;break;case "m":case "mm":h[4]=~~g;break;case "s":case "ss":h[5]=~~g;break;
case "S":case "SS":case "SSS":h[6]=~~(1E3*("0."+g));break;case "Z":case "ZZ":i.isUTC=!0;if((k=(g+"").match(V))&&k[1])i.tzh=~~k[1];if(k&&k[2])i.tzm=~~k[2];if(k&&"+"===k[0])i.tzh=-i.tzh,i.tzm=-i.tzm}null==g&&(h[8]=!1)}d.isPm&&12>c[3]&&(c[3]+=12);!1===d.isPm&&12===c[3]&&(c[3]=0);return j(c,d.isUTC,d.tzh,d.tzm)}function w(a,b,c,d,e){e=e.relativeTime[a];return"function"===typeof e?e(b||1,!!c,a,d):e.replace(/%d/i,b||1)}function v(a,b){p.fn[a]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+
c+b](a),this):this._d["get"+c+b]()}}function t(a){p.duration.fn[a]=function(){return this._data[a]}}function n(a,b){p.duration.fn["as"+a]=function(){return+this/b}}for(var p,x=Math.round,u,A={},B="en",F="undefined"!==typeof module&&module.exports,y="months|monthsShort|weekdays|weekdaysShort|weekdaysMin|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),G=/^\/?Date\((\-?\d+)/i,H=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|.)/g,
I=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?)/g,E=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,D=/\d\d?/,z=/\d{1,3}/,Q=/\d{3}/,R=/\d{1,4}/,S=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,J=/Z|[\+\-]\d\d:?\d\d/i,T=/T/i,U=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,N=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],V=/([\+\-]|\d\d)/gi,K="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),
L={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},M={},O="DDD w M D d".split(" "),P="M D H h m s w".split(" "),C={M:function(){return this.month()+1},MMM:function(a){return m("monthsShort",this.month(),this,a)},MMMM:function(a){return m("months",this.month(),this,a)},D:function(){return this.date()},DDD:function(){var a=new Date(this.year(),this.month(),this.date()),b=new Date(this.year(),0,1);return~~((a-b)/864E5+1.5)},d:function(){return this.day()},dd:function(a){return m("weekdaysMin",
this.day(),this,a)},ddd:function(a){return m("weekdaysShort",this.day(),this,a)},dddd:function(a){return m("weekdays",this.day(),this,a)},w:function(){var a=new Date(this.year(),this.month(),this.date()-this.day()+5),b=new Date(a.getFullYear(),0,4);return~~((a-b)/864E5/7+1.5)},YY:function(){return a(this.year()%100,2)},YYYY:function(){return a(this.year(),4)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),
!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return a(~~(this.milliseconds()/10),2)},SSS:function(){return a(this.milliseconds(),3)},Z:function(){var b=-this.zone(),c="+";0>b&&(b=-b,c="-");return c+a(~~(b/60),2)+":"+a(~~b%60,2)},ZZ:function(){var b=-this.zone(),c="+";0>b&&(b=-b,c="-");return c+a(~~(10*b/6),4)}};O.length;)u=O.pop(),
C[u+"o"]=k(C[u]);for(;P.length;)u=P.pop(),C[u+u]=l(C[u],2);C.DDDD=l(C.DDD,3);p=function(a,b){if(null===a||""===a)return null;var c;if(p.isMoment(a))return new i(new Date(+a._d),a._isUTC,a._lang);if(b)if(g(b)){var d=a.match(E)||[],f,h=99,k,l;for(k=0;k<b.length;k++)l=q(a,b[k]),f=e(new i(l),b[k]).match(E)||[],f=s(d,f),f<h&&(h=f,c=l)}else c=q(a,b);else if(c=G.exec(a),void 0===a)c=new Date;else if(c)c=new Date(+c[1]);else if(a instanceof Date)c=a;else if(g(a))c=j(a);else if("string"===typeof a)if(c="YYYY-MM-DDT",
U.exec(a)){for(d=0;4>d;d++)if(N[d][1].exec(a)){c+=N[d][0];break}c=J.exec(a)?q(a,c+" Z"):q(a,c)}else c=new Date(a);else c=new Date(a);return new i(c)};p.utc=function(a,b){if(g(a))return new i(j(a,!0),!0);"string"===typeof a&&!J.exec(a)&&(a+=" +0000",b&&(b+=" Z"));return p(a,b).utc()};p.unix=function(a){return p(1E3*a)};p.duration=function(a,b){var c=p.isDuration(a),d="number"===typeof a,e=c?a._data:d?{}:a;if(d)b?e[b]=a:e.milliseconds=a;d=new h(e);if(c)d._lang=a._lang;return d};p.humanizeDuration=function(a,
b,c){return p.duration(a,!0===b?null:b).humanize(!0===b?!0:c)};p.version="1.7.2";p.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";p.lang=function(a,b){var d;if(!a)return B;(b||!A[a])&&c(a,b);if(A[a]){for(d=0;d<y.length;d++)p[y[d]]=A[a][y[d]];p.monthsParse=A[a].monthsParse;B=a}};p.langData=o;p.isMoment=function(a){return a instanceof i};p.isDuration=function(a){return a instanceof h};p.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},
relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"}});p.fn=i.prototype={clone:function(){return p(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1E3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},
toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?null!=this._a[8]?!!this._a[8]:!s(this._a,(this._a[7]?p.utc(this._a):p(this._a)).toArray()):!isNaN(this._d.getTime())},utc:function(){this._isUTC=!0;return this},local:function(){this._isUTC=!1;return this},format:function(a){return e(this,a?a:p.defaultFormat)},add:function(a,c){var d=c?p.duration(+c,a):p.duration(a);b(this,
d,1);return this},subtract:function(a,c){var d=c?p.duration(+c,a):p.duration(a);b(this,d,-1);return this},diff:function(a,b,c){var a=this._isUTC?p(a).utc():p(a).local(),d=6E4*(this.zone()-a.zone()),d=this._d-a._d-d,e=this.year()-a.year(),f=this.month()-a.month(),a=this.date()-a.date(),b="months"===b?12*e+f+a/30:"years"===b?e+(f+a/30)/12:"seconds"===b?d/1E3:"minutes"===b?d/6E4:"hours"===b?d/36E5:"days"===b?d/864E5:"weeks"===b?d/6048E5:d;return c?b:x(b)},from:function(a,b){return p.duration(this.diff(a)).lang(this._lang).humanize(!b)},
fromNow:function(a){return this.from(p(),a)},calendar:function(){var a=this.diff(p().sod(),"days",!0),b=this.lang().calendar,c=b.sameElse,a=-6>a?c:-1>a?b.lastWeek:0>a?b.lastDay:1>a?b.sameDay:2>a?b.nextDay:7>a?b.nextWeek:c;return this.format("function"===typeof a?a.apply(this):a)},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<p([this.year()]).zone()||this.zone()<p([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():
this._d.getDay();return null==a?b:this.add({d:a-b})},startOf:function(a){switch(a.replace(/s$/,"")){case "year":this.month(0);case "month":this.date(1);case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return this},endOf:function(a){return this.startOf(a).add(a.replace(/s?$/,"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this._isUTC?
0:this._d.getTimezoneOffset()},daysInMonth:function(){return p.utc([this.year(),this.month()+1,0]).date()},lang:function(a){if(void 0===a)return o(this);this._lang=a;return this}};for(u=0;u<K.length;u++)v(K[u].toLowerCase(),K[u]);v("year","FullYear");p.duration.fn=h.prototype={weeks:function(){return d(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*this._months},humanize:function(a){var b=+this,c=this.lang().relativeTime,d;d=!a;var e=this.lang(),f=x(Math.abs(b)/
1E3),g=x(f/60),h=x(g/60),i=x(h/24),j=x(i/365),f=45>f&&["s",f]||1===g&&["m"]||45>g&&["mm",g]||1===h&&["h"]||22>h&&["hh",h]||1===i&&["d"]||25>=i&&["dd",i]||45>=i&&["M"]||345>i&&["MM",x(i/30)]||1===j&&["y"]||["yy",j];f[2]=d;f[3]=0<b;f[4]=e;d=w.apply({},f);b=0>=b?c.past:c.future;a&&(d="function"===typeof b?b(d):b.replace(/%s/i,d));return d},lang:p.fn.lang};for(u in L)L.hasOwnProperty(u)&&(n(u,L[u]),t(u.toLowerCase()));n("Weeks",6048E5);return p})},"dote-client/store/JsonRest":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/_base/xhr","dojo/store/JsonRest","dojo/store/util/QueryResults"],function(m,l,k,i,h){return m([i],{query:function(d,a){var a=a||{},b=l.mixin({Accept:this.accepts},this.headers,a.headers);if(0<=a.start||0<=a.count)b.Range=b["X-Range"]="items="+(a.start||"0")+"-"+("count"in a&&Infinity!=a.count?a.count+(a.start||0)-1:"");var g=-1<this.target.indexOf("?");d&&"object"==typeof d&&(d=(d=k.objectToQuery(d))?(g?"&":"?")+d:"");if(a&&a.sort){for(var i=this.sortParam,d=d+((d||g?"&":"?")+
(i?i+"=":"sort(")),j=0;j<a.sort.length;j++)var c=a.sort[j],d=d+((0<j?",":"")+(c.descending?"-":"+")+encodeURIComponent(c.attribute));i||(d+=")")}if(a&&a.select)i=this.selectParam,d=d+((d||g?"&":"?")+(i?i+"=":"select("))+a.select.join(","),i||(d+=")");var o=k("GET",{url:this.target+(d||""),handleAs:"json",headers:b});o.total=o.then(function(){var a=o.ioArgs.xhr.getResponseHeader("Content-Range");return a&&(a=a.match(/\/(.*)/))&&+a[1]});return h(o)}})})},"dojo/store/JsonRest":function(){define("dojo/store/JsonRest",
["../_base/xhr","../_base/lang","../json","../_base/declare","./util/QueryResults"],function(m,l,k,i,h){return i("dojo.store.JsonRest",null,{constructor:function(d){this.headers={};i.safeMixin(this,d)},headers:{},target:"",idProperty:"id",get:function(d,a){var a=a||{},b=l.mixin({Accept:this.accepts},this.headers,a.headers||a);return m("GET",{url:this.target+d,handleAs:"json",headers:b})},accepts:"application/javascript, application/json",getIdentity:function(d){return d[this.idProperty]},put:function(d,
a){var a=a||{},b="id"in a?a.id:this.getIdentity(d),g="undefined"!=typeof b;return m(g&&!a.incremental?"PUT":"POST",{url:g?this.target+b:this.target,postData:k.stringify(d),handleAs:"json",headers:l.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":!0===a.overwrite?"*":null,"If-None-Match":!1===a.overwrite?"*":null},this.headers,a.headers)})},add:function(d,a){a=a||{};a.overwrite=!1;return this.put(d,a)},remove:function(d,a){a=a||{};return m("DELETE",{url:this.target+d,headers:l.mixin({},
this.headers,a.headers)})},query:function(d,a){var a=a||{},b=l.mixin({Accept:this.accepts},this.headers,a.headers);if(0<=a.start||0<=a.count)b.Range=b["X-Range"]="items="+(a.start||"0")+"-"+("count"in a&&Infinity!=a.count?a.count+(a.start||0)-1:"");var g=-1<this.target.indexOf("?");d&&"object"==typeof d&&(d=(d=m.objectToQuery(d))?(g?"&":"?")+d:"");if(a&&a.sort){for(var i=this.sortParam,d=d+((d||g?"&":"?")+(i?i+"=":"sort(")),g=0;g<a.sort.length;g++)var j=a.sort[g],d=d+((0<g?",":"")+(j.descending?"-":
"+")+encodeURIComponent(j.attribute));i||(d+=")")}var c=m("GET",{url:this.target+(d||""),handleAs:"json",headers:b});c.total=c.then(function(){var a=c.ioArgs.xhr.getResponseHeader("Content-Range");return a&&(a=a.match(/\/(.*)/))&&+a[1]});return h(c)}})})},"dote-client/userControls":function(){define("dote-client/userControls",["dojo/_base/window","dojo/dom","dojo/on","./displayHelp"],function(m,l,k,i){function h(d){d.preventDefault();i.display()}return{start:function(){k(l.byId("help"),"click",h)}}})},
"dote-client/displayHelp":function(){define("dote-client/displayHelp",["dijit/Dialog"],function(){return{display:function(){}}})},"dijit/Dialog":function(){require({cache:{"url:dijit/templates/Dialog.html":'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\n\t<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\n\t\t<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\n\t\t\t\trole="heading" level="1"></span>\n\t\t<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabIndex="-1">\n\t\t\t<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\n</div>\n'}});
define("dijit/Dialog","require,dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/Deferred,dojo/dom,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/_base/fx,dojo/i18n,dojo/keys,dojo/_base/lang,dojo/on,dojo/ready,dojo/sniff,dojo/window,dojo/dnd/Moveable,dojo/dnd/TimedMoveable,./focus,./_base/manager,./_Widget,./_TemplatedMixin,./_CssStateMixin,./form/_FormMixin,./_DialogMixin,./DialogUnderlay,./layout/ContentPane,dojo/text!./templates/Dialog.html,./main,dojo/i18n!./nls/common".split(","),
function(m,l,k,i,h,d,a,b,g,s,j,c,o,f,e,r,q,w,v,t,n,p,x,u,A,B,F,y,G,H,I){var m=i("dijit._DialogBase",[u,B,F,A],{templateString:H,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],open:!1,duration:p.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,doLayout:!1,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},"aria-describedby":"",maxRatio:0.9,
postMixInProperties:function(){var a=c.getLocalization("dijit","common");f.mixin(this,a);this.inherited(arguments)},postCreate:function(){g.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[]},onLoad:function(){this._position();this.autofocus&&D.isTop(this)&&(this._getFocusItems(this.domNode),n.focus(this._firstFocusItem));
this.inherited(arguments)},_onBlur:function(a){this.inherited(arguments);var b=f.hitch(this,function(){this.open&&!this._destroyed&&D.isTop(this)&&(this._getFocusItems(this.domNode),n.focus(this._firstFocusItem))});if("mouse"==a)e.once(this.ownerDocument,"mouseup",b);else b()},_endDrag:function(){var a=b.position(this.domNode),c=w.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),c.h-a.h);a.x=Math.min(Math.max(a.x,0),c.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var b=
this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==q("ie")?t:v)(b,{handle:this.titleBar}),this.connect(this._moveable,"onMoveStop","_endDrag")):a.add(b,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":l.map(this["class"].split(/\s/),function(a){return a+"_underlay"}).join(" "),ownerDocument:this.ownerDocument}},_size:function(){this._checkIfSingleChild();if(this._singleChild){if("undefined"!=typeof this._singleChildOriginalStyle)this._singleChild.domNode.style.cssText=
this._singleChildOriginalStyle,delete this._singleChildOriginalStyle}else g.set(this.containerNode,{width:"auto",height:"auto"});var a=b.position(this.domNode),c=w.getBox(this.ownerDocument);c.w*=this.maxRatio;c.h*=this.maxRatio;if(a.w>=c.w||a.h>=c.h){var d=b.position(this.containerNode),e=Math.min(a.w,c.w)-(a.w-d.w),a=Math.min(a.h,c.h)-(a.h-d.h);if(this._singleChild&&this._singleChild.resize){if("undefined"==typeof this._singleChildOriginalStyle)this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;
this._singleChild.resize({w:e,h:a})}else g.set(this.containerNode,{width:e+"px",height:a+"px",overflow:"auto",position:"relative"})}else this._singleChild&&this._singleChild.resize&&this._singleChild.resize()},_position:function(){if(!a.contains(this.ownerDocumentBody,"dojoMove")){var c=this.domNode,d=w.getBox(this.ownerDocument),e=this._relativePosition,f=e?null:b.position(c);g.set(c,{left:Math.floor(d.l+(e?e.x:(d.w-f.w)/2))+"px",top:Math.floor(d.t+(e?e.y:(d.h-f.h)/2))+"px"})}},_onKey:function(b){if(b.charOrCode){var c=
b.target;b.charOrCode===o.TAB&&this._getFocusItems(this.domNode);var d=this._firstFocusItem==this._lastFocusItem;if(c==this._firstFocusItem&&b.shiftKey&&b.charOrCode===o.TAB)d||n.focus(this._lastFocusItem),s.stop(b);else if(c==this._lastFocusItem&&b.charOrCode===o.TAB&&!b.shiftKey)d||n.focus(this._firstFocusItem),s.stop(b);else{for(;c;){if(c==this.domNode||a.contains(c,"dijitPopup"))if(b.charOrCode==o.ESCAPE)this.onCancel();else return;c=c.parentNode}if(b.charOrCode!==o.TAB)s.stop(b);else try{this._firstFocusItem.focus()}catch(e){}}}},
show:function(){if(!this.open){this._started||this.startup();if(!this._alreadyInitialized)this._setup(),this._alreadyInitialized=!0;this._fadeOutDeferred&&this._fadeOutDeferred.cancel();var a=w.get(this.ownerDocument);this._modalconnects.push(e(a,"scroll",f.hitch(this,"resize")));this._modalconnects.push(e(this.domNode,k._keypress,f.hitch(this,"_onKey")));g.set(this.domNode,{opacity:0,display:""});this._set("open",!0);this._onShow();this._size();this._position();var b;this._fadeInDeferred=new h(f.hitch(this,
function(){b.stop();delete this._fadeInDeferred}));b=j.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:f.hitch(this,function(){D.show(this,this.underlayAttrs)}),onEnd:f.hitch(this,function(){this.autofocus&&D.isTop(this)&&(this._getFocusItems(this.domNode),n.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();return this._fadeInDeferred}},hide:function(){if(this._alreadyInitialized&&this.open){this._fadeInDeferred&&this._fadeInDeferred.cancel();
var a;this._fadeOutDeferred=new h(f.hitch(this,function(){a.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(f.hitch(this,"onHide"));a=j.fadeOut({node:this.domNode,duration:this.duration,onEnd:f.hitch(this,function(){this.domNode.style.display="none";D.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();if(this._scrollConnected)this._scrollConnected=!1;for(var b;b=this._modalconnects.pop();)b.remove();this._relativePosition&&delete this._relativePosition;
this._set("open",!1);return this._fadeOutDeferred}},resize:function(){"none"!=this.domNode.style.display&&(y._singleton&&y._singleton.layout(),this._position(),this._size())},destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();D.hide(this);this.inherited(arguments)}}),E=i("dijit.Dialog",[G,m],{});E._DialogBase=m;var D=E._DialogLevelManager=
{_beginZIndex:950,show:function(a,b){z[z.length-1].focus=n.curNode;var c=y._singleton;!c||c._destroyed?c=I._underlay=y._singleton=new y(b):c.set(a.underlayAttrs);var d=z[z.length-1].dialog?z[z.length-1].zIndex+2:E._DialogLevelManager._beginZIndex;1==z.length&&c.show();g.set(y._singleton.domNode,"zIndex",d-1);g.set(a.domNode,"zIndex",d);z.push({dialog:a,underlayAttrs:b,zIndex:d})},hide:function(a){if(z[z.length-1].dialog==a){z.pop();var b=z[z.length-1];y._singleton._destroyed||(1==z.length?y._singleton.hide():
(g.set(y._singleton.domNode,"zIndex",b.zIndex-1),y._singleton.set(b.underlayAttrs)));if(a.refocus){a=b.focus;if(b.dialog&&(!a||!d.isDescendant(a,b.dialog.domNode)))b.dialog._getFocusItems(b.dialog.domNode),a=b.dialog._firstFocusItem;if(a)try{a.focus()}catch(c){}}}else b=l.indexOf(l.map(z,function(a){return a.dialog}),a),-1!=b&&z.splice(b,1)},isTop:function(a){return z[z.length-1].dialog==a}},z=E._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];return E})},"dojo/dnd/Moveable":function(){define("dojo/dnd/Moveable",
"../_base/array,../_base/declare,../_base/event,../_base/lang,../dom,../dom-class,../Evented,../on,../topic,../touch,./common,./Mover,../_base/window".split(","),function(m,l,k,i,h,d,a,b,g,s,j,c,o){return l("dojo.dnd.Moveable",[a],{handle:"",delay:0,skip:!1,constructor:function(a,d){this.node=h.byId(a);d||(d={});this.handle=d.handle?h.byId(d.handle):null;if(!this.handle)this.handle=this.node;this.delay=0<d.delay?d.delay:0;this.skip=d.skip;this.mover=d.mover?d.mover:c;this.events=[b(this.handle,s.press,
i.hitch(this,"onMouseDown")),b(this.handle,"dragstart",i.hitch(this,"onSelectStart")),b(this.handle,"selectstart",i.hitch(this,"onSelectStart"))]},markupFactory:function(a,b,c){return new c(b,a)},destroy:function(){m.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(a){if(!this.skip||!j.isFormElement(a)){if(this.delay)this.events.push(b(this.handle,s.move,i.hitch(this,"onMouseMove")),b(this.handle,s.release,i.hitch(this,"onMouseUp"))),this._lastX=
a.pageX,this._lastY=a.pageY;else this.onDragDetected(a);k.stop(a)}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);k.stop(a)},onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();k.stop(a)},onSelectStart:function(a){(!this.skip||!j.isFormElement(a))&&k.stop(a)},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){g.publish("/dnd/move/start",a);d.add(o.body(),
"dojoMove");d.add(this.node,"dojoMoveItem")},onMoveStop:function(a){g.publish("/dnd/move/stop",a);d.remove(o.body(),"dojoMove");d.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);var c=a.node.style;c.left=b.l+"px";c.top=b.t+"px";this.onMoved(a,b)},onMoving:function(){},onMoved:function(){}})})},"dojo/dnd/common":function(){define("dojo/dnd/common",["../_base/connect","../_base/kernel","../_base/lang","../dom"],function(m,l,k,i){var h=k.getObject("dojo.dnd",
!0);h.getCopyKeyState=m.isCopyKey;h._uniqueId=0;h.getUniqueId=function(){var d;do d=l._scopeName+"Unique"+ ++h._uniqueId;while(i.byId(d));return d};h._empty={};h.isFormElement=function(d){d=d.target;if(3==d.nodeType)d=d.parentNode;return 0<=" button textarea input select option ".indexOf(" "+d.tagName.toLowerCase()+" ")};return h})},"dojo/dnd/Mover":function(){define("dojo/dnd/Mover","../_base/array,../_base/declare,../_base/event,../_base/lang,../sniff,../_base/window,../dom,../dom-geometry,../dom-style,../Evented,../on,../touch,./common,./autoscroll".split(","),
function(m,l,k,i,h,d,a,b,g,s,j,c,o,f){return l("dojo.dnd.Mover",[s],{constructor:function(b,d,g){this.node=a.byId(b);this.marginBox={l:d.pageX,t:d.pageY};this.mouseButton=d.button;d=this.host=g;b=b.ownerDocument;this.events=[j(b,c.move,i.hitch(this,"onFirstMove")),j(b,c.move,i.hitch(this,"onMouseMove")),j(b,c.release,i.hitch(this,"onMouseUp")),j(b,"dragstart",k.stop),j(b.body,"selectstart",k.stop)];f.autoScrollStart(b);if(d&&d.onMoveStart)d.onMoveStart(this)},onMouseMove:function(a){f.autoScroll(a);
var b=this.marginBox;this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);k.stop(a)},onMouseUp:function(a){(h("webkit")&&h("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();k.stop(a)},onFirstMove:function(a){var c=this.node.style,f,i=this.host;switch(c.position){case "relative":case "absolute":f=Math.round(parseFloat(c.left))||0;c=Math.round(parseFloat(c.top))||0;break;default:c.position="absolute";c=b.getMarginBox(this.node);f=d.doc.body;var h=g.getComputedStyle(f),
j=b.getMarginBox(f,h),h=b.getContentBox(f,h);f=c.l-(h.l-j.l);c=c.t-(h.t-j.t)}this.marginBox.l=f-this.marginBox.l;this.marginBox.t=c-this.marginBox.t;if(i&&i.onFirstMove)i.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){m.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/dnd/autoscroll":function(){define("dojo/dnd/autoscroll","../_base/lang,../sniff,../_base/window,../dom-geometry,../dom-style,../window".split(","),
function(m,l,k,i,h,d){var a={};m.setObject("dojo.dnd.autoscroll",a);a.getViewport=d.getBox;a.V_TRIGGER_AUTOSCROLL=32;a.H_TRIGGER_AUTOSCROLL=32;a.V_AUTOSCROLL_VALUE=16;a.H_AUTOSCROLL_VALUE=16;var b,g=k.doc,s=Infinity,j=Infinity;a.autoScrollStart=function(a){g=a;b=d.getBox(g);a=k.body(g).parentNode;s=Math.max(a.scrollHeight-b.h,0);j=Math.max(a.scrollWidth-b.w,0)};a.autoScroll=function(c){var i=b||d.getBox(g),f=k.body(g).parentNode,e=0,h=0;c.clientX<a.H_TRIGGER_AUTOSCROLL?e=-a.H_AUTOSCROLL_VALUE:c.clientX>
i.w-a.H_TRIGGER_AUTOSCROLL&&(e=Math.min(a.H_AUTOSCROLL_VALUE,j-f.scrollLeft));c.clientY<a.V_TRIGGER_AUTOSCROLL?h=-a.V_AUTOSCROLL_VALUE:c.clientY>i.h-a.V_TRIGGER_AUTOSCROLL&&(h=Math.min(a.V_AUTOSCROLL_VALUE,s-f.scrollTop));window.scrollBy(e,h)};a._validNodes={div:1,p:1,td:1};a._validOverflow={auto:1,scroll:1};a.autoScrollNodes=function(b){for(var d,f,e,g,j,m,s=0,t=0,n=b.target;n;){if(1==n.nodeType&&n.tagName.toLowerCase()in a._validNodes){e=h.getComputedStyle(n);g=e.overflow.toLowerCase()in a._validOverflow;
j=e.overflowX.toLowerCase()in a._validOverflow;m=e.overflowY.toLowerCase()in a._validOverflow;if(g||j||m)d=i.getContentBox(n,e),f=i.position(n,!0);if(g||j)e=Math.min(a.H_TRIGGER_AUTOSCROLL,d.w/2),j=b.pageX-f.x,l("webkit")&&(j+=k.body().scrollLeft),s=0,0<j&&j<d.w&&(j<e?s=-e:j>d.w-e&&(s=e),n.scrollLeft+=s);if(g||m)g=Math.min(a.V_TRIGGER_AUTOSCROLL,d.h/2),m=b.pageY-f.y,l("webkit")&&(m+=k.body().scrollTop),t=0,0<m&&m<d.h&&(m<g?t=-g:m>d.h-g&&(t=g),n.scrollTop+=t);if(s||t)return}try{n=n.parentNode}catch(p){n=
null}}a.autoScroll(b)};return a})},"dojo/dnd/TimedMoveable":function(){define("dojo/dnd/TimedMoveable",["../_base/declare","./Moveable"],function(m,l){var k=l.prototype.onMove;return m("dojo.dnd.TimedMoveable",l,{timeout:40,constructor:function(i,h){h||(h={});if(h.timeout&&"number"==typeof h.timeout&&0<=h.timeout)this.timeout=h.timeout},onMoveStop:function(i){i._timer&&(clearTimeout(i._timer),k.call(this,i,i._leftTop));l.prototype.onMoveStop.apply(this,arguments)},onMove:function(i,h){i._leftTop=
h;if(!i._timer){var d=this;i._timer=setTimeout(function(){i._timer=null;k.call(d,i,i._leftTop)},this.timeout)}}})})},"dijit/form/_FormMixin":function(){define("dijit/form/_FormMixin","dojo/_base/array,dojo/_base/declare,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/window".split(","),function(m,l,k,i,h,d){return l("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(a){var b=[];m.forEach(a||this.getChildren(),function(a){"value"in a?b.push(a):b=b.concat(this._getDescendantFormWidgets(a.getChildren()))},
this);return b},reset:function(){m.forEach(this._getDescendantFormWidgets(),function(a){a.reset&&a.reset()})},validate:function(){var a=!1;return m.every(m.map(this._getDescendantFormWidgets(),function(b){b._hasBeenBlurred=!0;var g=b.disabled||!b.validate||b.validate();!g&&!a&&(d.scrollIntoView(b.containerNode||b.domNode),b.focus(),a=!0);return g}),function(a){return a})},setValues:function(a){k.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");
return this.set("value",a)},_setValueAttr:function(a){var b={};m.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(b[a.name]||(b[a.name]=[])).push(a)});for(var d in b)if(b.hasOwnProperty(d)){var h=b[d],j=i.getObject(d,!1,a);void 0!==j&&(i.isArray(j)||(j=[j]),"boolean"==typeof h[0].checked?m.forEach(h,function(a){a.set("value",-1!=m.indexOf(j,a.value))}):h[0].multiple?h[0].set("value",j):m.forEach(h,function(a,b){a.set("value",j[b])}))}},getValues:function(){k.deprecated(this.declaredClass+
"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var a={};m.forEach(this._getDescendantFormWidgets(),function(b){var d=b.name;if(d&&!b.disabled){var h=b.get("value");"boolean"==typeof b.checked?/Radio/.test(b.declaredClass)?!1!==h?i.setObject(d,h,a):(h=i.getObject(d,!1,a),void 0===h&&i.setObject(d,null,a)):(b=i.getObject(d,!1,a),b||(b=[],i.setObject(d,b,a)),!1!==h&&b.push(h)):(b=i.getObject(d,!1,a),"undefined"!=typeof b?i.isArray(b)?
b.push(h):i.setObject(d,[b,h],a):i.setObject(d,h,a))}});return a},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var a=m.map(this._descendants,function(a){return a.get("state")||""});return 0<=m.indexOf(a,"Error")?"Error":0<=m.indexOf(a,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(a){this._descendants=this._getDescendantFormWidgets();m.forEach(this._descendants,function(a){a._started||a.startup()});a||this._onChildChange()},
_onChildChange:function(a){(!a||"state"==a||"disabled"==a)&&this._set("state",this._getState());if(!a||"value"==a||"disabled"==a||"checked"==a)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var a=this;this.own(h(this.containerNode,
"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(b){b.target!=a.domNode&&a._onChildChange(b.type.replace("attrmodified-",""))}));this.watch("state",function(a,d,h){this.onValidStateChange(""==h)})},destroy:function(){this.inherited(arguments)}})})},"dijit/_DialogMixin":function(){define("dijit/_DialogMixin",["dojo/_base/declare","./a11y"],function(m,l){return m("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},
_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var k=l._getTabNavigable(this.containerNode);this._firstFocusItem=k.lowest||k.first||this.closeButtonNode||this.domNode;this._lastFocusItem=k.last||k.highest||this._firstFocusItem}})})},"dijit/DialogUnderlay":function(){define("dijit/DialogUnderlay","dojo/_base/declare,dojo/dom-attr,dojo/window,./_Widget,./_TemplatedMixin,./BackgroundIframe".split(","),function(m,l,k,i,h,d){return m("dijit.DialogUnderlay",
[i,h],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_setDialogIdAttr:function(a){l.set(this.node,"id",a+"_underlay");this._set("dialogId",a)},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a;this._set("class",a)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode)},layout:function(){var a=this.node.style,b=this.domNode.style;b.display="none";var d=
k.getBox(this.ownerDocument);b.top=d.t+"px";b.left=d.l+"px";a.width=d.w+"px";a.height=d.h+"px";b.display="block"},show:function(){this.domNode.style.display="block";this.layout();this.bgIframe=new d(this.domNode)},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none"}})})},"dijit/BackgroundIframe":function(){define("dijit/BackgroundIframe","require,./main,dojo/_base/config,dojo/dom-construct,dojo/dom-style,dojo/_base/lang,dojo/on,dojo/sniff,dojo/_base/window".split(","),
function(m,l,k,i,h,d,a,b,g){var s=new function(){var a=[];this.pop=function(){var c;a.length?(c=a.pop(),c.style.display=""):(9>b("ie")?(c="<iframe src='"+(k.dojoBlankHtmlUrl||m.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role='presentation' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>",c=g.doc.createElement(c)):(c=i.create("iframe"),c.src='javascript:""',c.className="dijitBackgroundIframe",c.setAttribute("role","presentation"),h.set(c,"opacity",
0.1)),c.tabIndex=-1);return c};this.push=function(b){b.style.display="none";a.push(b)}};l.BackgroundIframe=function(g){if(!g.id)throw Error("no id");if(b("ie")||b("mozilla")){var c=this.iframe=s.pop();g.appendChild(c);7>b("ie")?(this.resize(g),this._conn=a(g,"resize",d.hitch(this,function(){this.resize(g)}))):h.set(c,{width:"100%",height:"100%"})}};d.extend(l.BackgroundIframe,{resize:function(a){this.iframe&&h.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){if(this._conn)this._conn.remove(),
this._conn=null;this.iframe&&(s.push(this.iframe),delete this.iframe)}});return l.BackgroundIframe})},"url:dijit/templates/Dialog.html":'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\n\t<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\n\t\t<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\n\t\t\t\trole="heading" level="1"></span>\n\t\t<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabIndex="-1">\n\t\t\t<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\n</div>\n',
"*now":function(m){m(['dojo/i18n!*preload*dote-client/nls/viewAdmin*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define("dote-client/viewAdmin","dojo/_base/array,dojo/_base/declare,dojo/ready,dojo/store/Cache,dojo/store/Memory,dgrid/OnDemandGrid,dgrid/Keyboard,dgrid/Selection,dgrid/editor,moment/moment,./store/JsonRest,./userControls".split(","),function(m,l,k,i,h,d,a,b,g,s,j,c){var o=i(new j({target:"/users/"}),new h),f=i(new j({target:"/topics/"}),new h);k(function(){c.start();var e=[{field:"id",label:"User ID"},g({field:"admin",label:"Admin Flag",editor:"checkbox",editOn:"dblclick",autoSave:!0}),{field:"owner",
label:"Owner Flag"},{field:"lastLogin",label:"Last Login",get:function(a){return a.lastLogin?s.unix(a.lastLogin).format("DD/MM/YY HH:mm"):null}}];(new l([d,a,b]))({columns:e,store:o},"userGrid");e=[{field:"id",label:"ID",formatter:function(a){return'<a href="/topic/'+a+'" target="_blank">'+a+"</a>"}},{field:"title",label:"Title"},{field:"voters",sortable:!1,label:"Vote",get:function(a){var b=a.voters.length?0:null;m.forEach(a.voters,function(a){b+=a.vote});return 0<b&&null!==b?"+"+b:b}},{field:"author",
label:"Author"},{field:"created",label:"Created",get:function(a){return s.unix(a.created).format("DD/MM/YY HH:mm")}},g({field:"owner",label:"Owner",editor:"text",editOn:"dblclick",autoSave:!0}),{field:"action",label:"Action"},{field:"actioned",label:"Actioned",get:function(a){return a.actioned?s.unix(a.actioned).format("DD/MM/YY HH:mm"):null}},{field:"commentsCount",label:"Cmt"}];(new l([d,a,b]))({columns:e,store:f},"topicGrid")})});