//>>built
require({cache:{"dojo/store/Cache":function(){define(["../_base/lang","../_base/Deferred"],function(t,f){var n=function(e,a,k){k=k||{};return t.delegate(e,{query:function(u,g){var q=e.query(u,g);q.forEach(function(c){(!k.isLoaded||k.isLoaded(c))&&a.put(c)});return q},queryEngine:e.queryEngine||a.queryEngine,get:function(k,g){return f.when(a.get(k),function(q){return q||f.when(e.get(k,g),function(c){c&&a.put(c,{id:k});return c})})},add:function(k,g){return f.when(e.add(k,g),function(q){a.add("object"==
typeof q?q:k,g);return q})},put:function(k,g){a.remove(g&&g.id||this.getIdentity(k));return f.when(e.put(k,g),function(q){a.put("object"==typeof q?q:k,g);return q})},remove:function(k,g){return f.when(e.remove(k,g),function(q){return a.remove(k,g)})},evict:function(e){return a.remove(e)}})};t.setObject("dojo.store.Cache",n);return n})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(t,f,n){return t("dojo.store.Memory",null,{constructor:function(e){for(var a in e)this[a]=
e[a];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:n,get:function(e){return this.data[this.index[e]]},getIdentity:function(e){return e[this.idProperty]},put:function(e,a){var k=this.data,n=this.index,g=this.idProperty,g=e[g]=a&&"id"in a?a.id:g in e?e[g]:Math.random();if(g in n){if(a&&!1===a.overwrite)throw Error("Object already exists");k[n[g]]=e}else n[g]=k.push(e)-1;return g},add:function(e,a){(a=a||{}).overwrite=!1;return this.put(e,a)},remove:function(e){var a=
this.index,k=this.data;if(e in a)return k.splice(a[e],1),this.setData(k),!0},query:function(e,a){return f(this.queryEngine(e,a)(this.data))},setData:function(e){e.items?(this.idProperty=e.identifier,e=this.data=e.items):this.data=e;this.index={};for(var a=0,k=e.length;a<k;a++)this.index[e[a][this.idProperty]]=a}})})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(t){return function(f,n){function e(a){a=t.filter(a,f);var e=n&&n.sort;e&&a.sort("function"==typeof e?
e:function(a,c){for(var b,d=0;b=e[d];d++){var s=a[b.attribute],m=c[b.attribute];if(s!=m)return!!b.descending==(null==s||s>m)?-1:1}return 0});if(n&&(n.start||n.count)){var g=a.length;a=a.slice(n.start||0,(n.start||0)+(n.count||Infinity));a.total=g}return a}switch(typeof f){default:throw Error("Can not query with a "+typeof f);case "object":case "undefined":var a=f;f=function(e){for(var n in a){var g=a[n];if(g&&g.test){if(!g.test(e[n],e))return!1}else if(g!=e[n])return!1}return!0};break;case "string":if(!this[f])throw Error("No filter function "+
f+" was found in store");f=this[f];case "function":}e.matches=f;return e}})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../_base/Deferred","../_base/array"],function(t,f,n,e){t=function(a){function k(b,d){var s=a[b];s&&(a[b]=function(b){if(c)return s.apply(this,arguments);c=!0;try{var a=s.apply(this,arguments);n.when(a,function(c){d("object"==typeof c&&c||b)});return a}finally{c=!1}})}var u=[],g=0;a=f.delegate(a);a.notify=function(b,d){g++;for(var c=u.slice(),m=
0,a=c.length;m<a;m++)c[m](b,d)};var q=a.query;a.query=function(b,c){c=c||{};var s=q.apply(this,arguments);if(s&&s.forEach){var m=f.mixin({},c);delete m.start;delete m.count;var h=a.queryEngine&&a.queryEngine(b,m),B=g,r=[],v;s.observe=function(b,m){1==r.push(b)&&u.push(v=function(l,b){n.when(s,function(v){var s=v.length!=c.count,w,q;if(++B!=g)throw Error("Query is out of date, you must observe() the query prior to any data modifications");var k,n=-1,f=-1;if(void 0!==b){w=0;for(q=v.length;w<q;w++){var u=
v[w];if(a.getIdentity(u)==b){k=u;n=w;(h||!l)&&v.splice(w,1);break}}}if(h){if(l&&(h.matches?h.matches(l):h([l]).length))w=-1<n?n:v.length,v.splice(w,0,l),f=e.indexOf(h(v),l),v.splice(w,1),c.start&&0==f||!s&&f==v.length?f=-1:v.splice(f,0,l)}else l&&(void 0!==b?f=n:c.start||(f=a.defaultIndex||0,v.splice(f,0,l)));if((-1<n||-1<f)&&(m||!h||n!=f)){s=r.slice();for(w=0;v=s[w];w++)v(l||k,n,f)}})});var l={};l.remove=l.cancel=function(){var l=e.indexOf(r,b);-1<l&&(r.splice(l,1),r.length||u.splice(e.indexOf(u,
v),1))};return l}}return s};var c;k("put",function(b){a.notify(b,a.getIdentity(b))});k("add",function(b){a.notify(b)});k("remove",function(b){a.notify(void 0,b)});return a};f.setObject("dojo.store.Observable",t);return t})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html".split(" "),function(t,f,n,e,a,k,u,g,q,c){return f("dijit.form.Button",[g,q],{showLabel:!0,
iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:c,_setValueAttr:"valueNode",_onClick:function(b){var c=this.inherited(arguments);c&&this.valueNode&&(this.valueNode.click(),b.preventDefault(),b.stopPropagation());return c},_fillContent:function(b){if(b&&(!this.params||!("label"in this.params)))if(b=k.trim(b.innerHTML))this.label=b},_setShowLabelAttr:function(b){this.containerNode&&n.toggle(this.containerNode,"dijitDisplayNone",!b);this._set("showLabel",
b)},setLabel:function(b){a.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",b)},_setLabelAttr:function(b){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=k.trim(this.containerNode.innerText||this.containerNode.textContent||""))}})})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/has dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),
function(t,f,n,e,a,k,u,g){return t("dijit.form._FormWidget",[a,u,k,g],{setDisabled:function(a){n.deprecated("setDisabled("+a+") is deprecated. Use set('disabled',"+a+") instead.","","2.0");this.set("disabled",a)},setValue:function(a){n.deprecated("dijit.form._FormWidget:setValue("+a+") is deprecated.  Use set('value',"+a+") instead.","","2.0");this.set("value",a)},getValue:function(){n.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},
postMixInProperties:function(){this.nameAttrSetting=this.name?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)},_setTypeAttr:null})})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/sniff dojo/window ../a11y".split(" "),function(t,f,n,e,a,k,u,g,q){return f("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",
disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(c){this._set("disabled",c);n.set(this.focusNode,"disabled",c);this.valueNode&&n.set(this.valueNode,"disabled",c);this.focusNode.setAttribute("aria-disabled",c?"true":"false");c?(this._set("hovering",!1),this._set("active",!1),c="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",t.forEach(a.isArray(c)?c:[c],function(b){b=this[b];u("webkit")||
q.hasDefaultTabStop(b)?b.setAttribute("tabIndex","-1"):b.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(c){if("mouse"==c&&this.isFocusable())var b=this.connect(this.focusNode,"onfocus",function(){this.disconnect(d);this.disconnect(b)}),d=this.connect(this.ownerDocumentBody,"onmouseup",function(){this.disconnect(d);this.disconnect(b);this.focused&&this.focus()});this.scrollOnFocus&&this.defer(function(){g.scrollIntoView(this.domNode)});
this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=e.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(c){}},compare:function(c,b){return"number"==typeof c&&"number"==typeof b?isNaN(c)&&isNaN(b)?0:c-b:c>b?1:c<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(c,b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=
c;this._pendingOnChange=this._pendingOnChange||typeof c!=typeof this._lastValueReported||0!=this.compare(c,this._lastValueReported);if((this.intermediateChanges||b||void 0===b)&&this._pendingOnChange)this._lastValueReported=c,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(c)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&
(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(t,f,n,e){return t("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(a){if(this.disabled)return n.stop(a),!1;var k=!1===this.onClick(a);if(!k&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var f=this.domNode;f.parentNode;f=f.parentNode){var g=
e.byNode(f);if(g&&"function"==typeof g._onSubmit){g._onSubmit(a);k=!0;break}}k&&a.preventDefault();return!k},postCreate:function(){this.inherited(arguments);f.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(a){this._set("label",a);(this.containerNode||this.focusNode).innerHTML=a}})})},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(t,f,n){return t([f,n],{})})},"dgrid/Grid":function(){define("dojo/_base/kernel dojo/_base/declare dojo/on dojo/has put-selector/put ./List dojo/_base/sniff".split(" "),
function(t,f,n,e,a,k){function u(c,b){b&&b.nodeType&&c.appendChild(b)}var g=8>e("ie")&&!0,q=/[^\._a-zA-Z0-9-]/g;f=f(k,{columns:null,cellNavigation:!0,tabableHeader:!0,showHeader:!0,column:function(c){return"string"==typeof c?this.columns[c]:this.cell(c).column},listType:"grid",cell:function(c,b){if(c.row&&c.row instanceof this._Row)return c;c.target&&c.target.nodeType&&(c=c.target);var d;if(c.nodeType){do{if(this._rowIdToObject[c.id])break;var a=c.columnId;if(a){b=a;d=c;break}c=c.parentNode}while(c&&
c!=this.domNode)}if(!d&&"undefined"!=typeof b){var m=this.row(c);if(a=m.element)for(var a=a.getElementsByTagName("td"),h=0;h<a.length;h++)if(a[h].columnId==b){d=a[h];break}}if(null!=c)return{row:m||this.row(c),column:b&&this.column(b),element:d}},_columnsCss:function(c){c.fullSelector=function(){return this.parent.fullSelector()+" .dgrid-cell"};for(var b=0;b<c.children.length;b++){var a=c.children[b];a.field=a.className=a.selector.substring(1)}return c.children},createRowCells:function(c,b,d){var s=
a("table.dgrid-row-table[role\x3dpresentation]"),m=9>e("ie")?a(s,"tbody"):s,h,k,r,v,w,x,l,p,z,y;d=d||this.subRows;k=0;for(r=d.length;k<r;k++){x=d[k];h=1==r&&!e("ie")?m:a(m,"tr");x.className&&a(h,"."+x.className);v=0;for(w=x.length;v<w;v++){l=x[v];p=l.id;z=l.className||l.field&&"field-"+l.field;z=a(c+(".dgrid-cell.dgrid-cell-padding"+(p?".dgrid-column-"+p:"")+(z?"."+z:"")).replace(q,"-")+"[role\x3d"+("th"===c?"columnheader":"gridcell")+"]");z.columnId=p;g?(p=a(z,"!dgrid-cell-padding div.dgrid-cell-padding"),
z.contents=p):p=z;if(y=l.colSpan)z.colSpan=y;if(y=l.rowSpan)z.rowSpan=y;b(p,l);h.appendChild(z)}}return s},left:function(c,b){return this.cell(this._move(c,-(b||1),"dgrid-cell"))},right:function(c,b){return this.cell(this._move(c,b||1,"dgrid-cell"))},renderRow:function(c,b){var d=this.createRowCells("td",function(a,d){var h=c;d.get?h=d.get(c):"field"in d&&"_item"!=d.field&&(h=h[d.field]);d.formatter?a.innerHTML=d.formatter(h):d.renderCell?u(a,d.renderCell(c,h,a,b)):null!=h&&a.appendChild(document.createTextNode(h))},
b&&b.subRows);return a("div[role\x3drow]\x3e",d)},renderHeader:function(){var c=this,b=this.headerNode,d=b.childNodes.length;for(b.setAttribute("role","row");d--;)a(b.childNodes[d],"!");d=this.createRowCells("th",function(b,c){var a=c.headerNode=b;g&&(b=b.parentNode);var d=c.field;d&&(b.field=d);if(c.renderHeaderCell)u(a,c.renderHeaderCell(a));else if(c.label||c.field)a.appendChild(document.createTextNode(c.label||c.field));!1!==c.sortable&&(d&&"_item"!=d)&&(b.sortable=!0,b.className+=" dgrid-sortable")},
this.subRows&&this.subRows.headerRows);this._rowIdToObject[d.id=this.id+"-header"]=this.columns;b.appendChild(d);n(d,"click,keydown",function(a){if("click"==a.type||32==a.keyCode||13==a.keyCode){a=a.target;var d,h;do if(a.sortable)return c._sortNode=a,a=a.field||a.columnId,d=(h=c._sort[0])&&h.attribute==a&&!h.descending,c.set("sort",a,d);while((a=a.parentNode)&&a!=b)}})},resize:function(){var a=this.headerNode.firstChild,b=this.contentNode,d;this.inherited(arguments);if(!e("ie")||7<e("ie"))if(b.style.width=
"",b&&a&&(d=a.offsetWidth)!=b.offsetWidth)b.style.width=d+"px"},destroy:function(){this._destroyColumns();this.inherited(arguments)},_setSort:function(c,b){this.inherited(arguments);this._lastSortedArrow&&(a(this._lastSortedArrow,"\x3c!dgrid-sort-up!dgrid-sort-down"),a(this._lastSortedArrow,"!"),delete this._lastSortedArrow);if(this._sort[0]){var d=this._sort[0].attribute,g=this._sort[0].descending,m=this._sortNode,h,e,q;delete this._sortNode;if(!m)for(q in h=this.columns,h)if(e=h[q],e.field==d){m=
e.headerNode;break}m&&(m=m.contents||m,this._lastSortedArrow=a(m.firstChild,"-div.dgrid-sort-arrow.ui-icon[role\x3dpresentation]"),this._lastSortedArrow.innerHTML="\x26nbsp;",a(m,g?".dgrid-sort-down":".dgrid-sort-up"),this.resize())}},styleColumn:function(a,b){return this.addCssRule("#"+this.domNode.id+" .dgrid-column-"+a,b)},_configColumns:function(a,b){var d=[],g=b instanceof Array,m,h;for(m in b)h=b[m],"string"==typeof h&&(b[m]=h={label:h}),!g&&!h.field&&(h.field=m),m=h.id=h.id||(isNaN(m)?m:a+
m),a&&(this.columns[m]=h),this._configColumn&&this._configColumn(h,m,b,a),h.grid=this,"function"===typeof h.init&&h.init(),d.push(h);return g?b:d},_destroyColumns:function(){var a=this.subRows.length,b,d,g,m;this.cleanup();for(b=0;b<a;b++){d=0;for(m=this.subRows[b].length;d<m;d++)g=this.subRows[b][d],"function"===typeof g.destroy&&g.destroy()}},configStructure:function(){var a=this.subRows;if(a){this.columns={};for(var b=0;b<a.length;b++)a[b]=this._configColumns(b+"-",a[b])}else this.subRows=[this._configColumns("",
this.columns)]},_setColumns:function(a){this._destroyColumns();this.subRows=null;this.columns=a;this._updateColumns()},_setSubRows:function(a){this._destroyColumns();this.subRows=a;this._updateColumns()},setColumns:function(a){t.deprecated("setColumns(...)",'use set("columns", ...) instead',"dgrid 1.0");this.set("columns",a)},setSubRows:function(a){t.deprecated("setSubRows(...)",'use set("subRows", ...) instead',"dgrid 1.0");this.set("subRows",a)},_updateColumns:function(){this.configStructure();
this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);this.resize()}});f.appendIfNode=u;f.defaultRenderCell=function(a,b,d,g){null!=b&&d.appendChild(document.createTextNode(b))};return f})},"put-selector/put":function(){(function(t){var f,n=/[-+,> ]/;t([],f=function(e,a){function k(a){function c(){h&&(m&&h!=m)&&(m==a&&(b||(b=n.test(w)&&e.createDocumentFragment()))||m).insertBefore(h,s||null)}for(var b,d,s,m,h,f=arguments,r=f[0],v=0;v<f.length;v++){var w=f[v];
if("object"==typeof w){d=!1;if(w instanceof Array){h=e.createDocumentFragment();for(var x=0;x<w.length;x++)h.appendChild(k(w[x]));w=h}if(w.nodeType)h=w,c(),m=w,s=0;else for(x in w)h[x]=w[x]}else if(d)d=!1,h.appendChild(e.createTextNode(w));else{1>v&&(a=null);d=!0;if(r=w.replace(t,function(l,b,d,x,r,n){b&&(c(),"-"==b||"+"==b?(m=(s=h||m).parentNode,h=null,"+"==b&&(s=s.nextSibling)):("\x3c"==b?m=h=(h||m).parentNode:(","==b?m=a:h&&(m=h),h=null),s=0),h&&(m=h));if((l=!d&&x)||!h&&(d||r))"$"==l?(l=f[++v],
m.appendChild(e.createTextNode(l))):(l=l||k.defaultTag,(b=g&&f[v+1]&&f[v+1].name)&&(l="\x3c"+l+' name\x3d"'+b+'"\x3e'),h=e.createElement(l));d&&("$"==x&&(x=f[++v]),"#"==d?h.id=x:(b=(l=h.className)&&(" "+l+" ").replace(" "+x+" "," "),"."==d?h.className=l?(b+x).substring(1):x:"!"==w?k("div",h,"\x3c").innerHTML="":(b=b.substring(1,b.length-1),b!=l&&(h.className=b))));if(r)if("$"==n&&(n=f[++v]),"style"==r)h.style.cssText=n;else h["!"==r.charAt(0)?(r=r.substring(1))&&"removeAttribute":"setAttribute"](r,
""===n?r:n);return""}))throw new SyntaxError("Unexpected char "+r+" in "+w);c();m=r=h||m}}a&&b&&a.appendChild(b);return r}n=a||n;var t=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w%$]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g;e=e||document;var g="object"==typeof e.createElement;k.defaultTag="div";k.forDocument=f;return k})})("undefined"==typeof define?function(t,f){"undefined"==typeof window?require("./node-html")(module,f):put=f()}:define)},"dgrid/List":function(){define("dojo/_base/array dojo/_base/kernel dojo/_base/declare dojo/on dojo/has ./util/misc dojo/has!touch?./TouchScroll xstyle/has-class put-selector/put dojo/_base/sniff xstyle/css!./css/dgrid.css".split(" "),
function(t,f,n,e,a,k,u,g,q){function c(b){var a=b?"."+b.replace(B,"."):"";this._class&&(a="!"+this._class.replace(B,"!")+a);q(this.domNode,a);this._class=b}function b(){return this._class}g("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var d,s=q(document.getElementsByTagName("head")[0],"style"),m=[],s=s.sheet||s.styleSheet,h=0,B=/ +/g,r=7>a("ie")?function(){var b,a,d;if(this._started&&(b=document.documentElement,a=b.clientWidth,b=b.clientHeight,d=this._prevWinDims||
[],d[0]!==a||d[1]!==b))this.resize(),this._prevWinDims=[a,b]}:function(){this._started&&this.resize()};return n(u?u:null,{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,postscript:function(b,a){var d=this;(this._Row=function(l,b,a){this.id=l;this.data=b;this.element=a}).prototype.remove=function(){d.removeRow(this.element)};a&&(this.srcNodeRef=a=a.nodeType?a:document.getElementById(a));this.create(b,a)},listType:"list",create:function(b,a){var d=this.domNode=a||q("div"),l;b?(this.params=
b,n.safeMixin(this,b),l=b["class"]||b.className||d.className,this._sort=b.sort||[],delete this.sort):this._sort=[];this.observers=[];this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=d.id=d.id||this.id||"dgrid_"+h++;this.buildRendering();l&&c.call(this,l);this.postCreate&&this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var b=this.domNode,d=this,c,l,p,g;g=this.isRTL="rtl"==(document.body.dir||
document.documentElement.dir||document.body.style.direction).toLowerCase();b.className="";q(b,"[role\x3dgrid].ui-widget.dgrid.dgrid-"+this.listType);c=this.headerNode=q(b,"div.dgrid-header.dgrid-header-row.ui-widget-header"+(this.showHeader?"":".dgrid-header-hidden"));8>a("ie")&&q(b,"div.dgrid-spacer");l=this.bodyNode=q(b,"div.dgrid-scroller");l.tabIndex=-1;this.headerScrollNode=q(b,"div.dgrid-header-scroll.dgrid-scrollbar-width.ui-widget-header");p=this.footerNode=q("div.dgrid-footer"+(this.showFooter?
"":".dgrid-footer-hidden"));q(b,p);g&&(b.className+=" dgrid-rtl"+(a("webkit")?"":" dgrid-rtl-nonwebkit"));e(l,"scroll",function(a){d.showHeader&&(c.scrollLeft=a.scrollLeft||l.scrollLeft);a.stopPropagation();e.emit(b,"scroll",{scrollTarget:l})});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=q(this.bodyNode,"div.dgrid-content.ui-widget-content");this._listeners.push(this._resizeHandle=e(window,"resize",k.throttleDelayed(r,this)))},startup:function(){this.inherited(arguments);
this._started||(this._started=!0,this.resize(),this.set("sort",this._sort))},configStructure:function(){},resize:function(){var b=this.bodyNode,c=this.headerNode,g=this.footerNode,l=c.offsetHeight,p=this.showFooter?g.offsetHeight:0,h=7>a("ie");this.headerScrollNode.style.height=b.style.marginTop=l+"px";b.style.marginBottom=p+"px";h&&(b.style.height="",b.style.height=Math.max(this.domNode.offsetHeight-l-p,0)+"px",p&&(g.style.bottom="1px",setTimeout(function(){g.style.bottom=""},0)));d||(l=q(document.body,
"div.dgrid-scrollbar-measure"),d=l.offsetWidth-l.clientWidth,q(l,"!"),7===a("ie")&&d++,this.addCssRule(".dgrid-scrollbar-width","width: "+d+"px"),this.addCssRule(".dgrid-scrollbar-height","height: "+d+"px"),17!=d&&!h&&(this.addCssRule(".dgrid-header","right: "+d+"px"),this.addCssRule(".dgrid-rtl-nonwebkit .dgrid-header","left: "+d+"px")));h&&(c.style.width=b.clientWidth+"px",setTimeout(function(){c.scrollLeft=b.scrollLeft},0))},addCssRule:function(b,a){var d=m.length;m[d]=(s.cssRules||s.rules).length;
s.addRule?s.addRule(b,a):s.insertRule(b+"{"+a+"}",m[d]);return{remove:function(){var b=m[d],a,v=m.length;if(void 0!==b){s.deleteRule?s.deleteRule(b):s.removeRule(b);m[d]=void 0;for(a=d;a<v;a++)m[a]>b&&m[a]--}}}},on:function(b,d){var c=e(this.domNode,b,d);a("dom-addeventlistener")||this._listeners.push(c);return c},cleanup:function(){var b=this.observers,a;for(a in this._rowIdToObject)if(this._rowIdToObject[a]!=this.columns){var d=document.getElementById(a);d&&this.removeRow(d,!0)}for(a=0;a<b.length;a++)(d=
b[a])&&d.cancel();this.observers=[];this.preload=null},destroy:function(){if(this._listeners){for(var b=this._listeners.length;b--;)this._listeners[b].remove();delete this._listeners}this.cleanup();q(this.domNode,"!")},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0})},newRow:function(b,a,d,l){if(!a||a.parentNode){var p=this.insertRow(b,a?a.parentNode:this.contentNode,a,l.start+d,l);q(p,".ui-state-highlight");setTimeout(function(){q(p,
"!ui-state-highlight")},250);return p}},adjustRowIndices:function(b){if(this.maintainOddEven){var a=b.rowIndex;if(-1<a){do-1<b.rowIndex&&(-1<(b.className+" ").indexOf("dgrid-row ")&&q(b,"."+(1==a%2?"dgrid-row-odd":"dgrid-row-even")+"!"+(0==a%2?"dgrid-row-odd":"dgrid-row-even")),b.rowIndex=a++);while((b=b.nextSibling)&&b.rowIndex!=a)}}},renderArray:function(b,a,d){function l(b){f=c.insertRow(b,s,null,g++,d);f.observerIndex=q;return f}function p(b){if(e=a?a.parentNode:c.contentNode)e.insertBefore(s,
a||null),(f=b[b.length-1])&&c.adjustRowIndices(f);return m=b}d=d||{};var c=this,g=d.start||0,h,m,e;a||(this._lastCollection=b);if(b.observe)var q=this.observers.push(b.observe(function(b,a,l){var p,v;-1<a&&m[a]&&(h=m.splice(a,1)[0],h.parentNode==e&&((p=h.nextSibling)&&a!=l&&p.rowIndex--,c.removeRow(h)),c._processScroll&&c._processScroll());if(-1<l){v=m[l];if(!v&&(v=m[l-1]))v=(v.connected||v).nextSibling;if(h=c.newRow(b,v,l,d))if(h.observerIndex=q,m.splice(l,0,h),!p||l<a)b=h.previousSibling,p=!b||
b.rowIndex+1==h.rowIndex||0==h.rowIndex?h:b;d.count++}a!=l&&p&&c.adjustRowIndices(p)},!0))-1;var s=document.createDocumentFragment();if(b.map){if(m=b.map(l,console.error),m.then)return m.then(p)}else{m=[];for(var r=0,k=b.length;r<k;r++)m[r]=l(b[r])}var f;return p(m)},renderHeader:function(){},_autoId:0,insertRow:function(b,a,d,l,p){var c=p.parentId,c=this.id+"-row-"+(c?c+"-":"")+(this.store&&this.store.getIdentity?this.store.getIdentity(b):this._autoId++),g=document.getElementById(c),h=g&&g.previousSibling;
if(!g||d&&g.parentNode!=d.parentNode)g&&this.removeRow(g),g=this.renderRow(b,p),g.className=(g.className||"")+" ui-state-default dgrid-row "+(1==l%2?"dgrid-row-odd":"dgrid-row-even"),this._rowIdToObject[g.id=c]=b;a.insertBefore(g,d||null);h&&this.adjustRowIndices(h);g.rowIndex=l;return g},renderRow:function(b,a){return q("div",""+b)},removeRow:function(b,a){b=b.element||b;delete this._rowIdToObject[b.id];a||q(b,"!")},row:function(b){var a;if(b instanceof this._Row)return b;b.target&&b.target.nodeType&&
(b=b.target);if(b.nodeType){do{var d=b.id;if(a=this._rowIdToObject[d])return new this._Row(d.substring(this.id.length+5),a,b);b=b.parentNode}while(b&&b!=this.domNode)}else return"object"==typeof b?a=this.store.getIdentity(b):(a=b,b=this._rowIdToObject[this.id+"-row-"+a]),new this._Row(a,b,document.getElementById(this.id+"-row-"+a))},cell:function(b){return{row:this.row(b)}},_move:function(b,a,d,l){var c,g;g=c=b.element;a=a||1;do if(b=c[0>a?"previousSibling":"nextSibling"]){do if((c=b)&&-1<(c.className+
" ").indexOf(d+" ")){g=c;a+=0>a?1:-1;break}while(b=(!l||!c.hidden)&&c[0>a?"lastChild":"firstChild"])}else if(c=c.parentNode,c===this.bodyNode||c===this.headerNode)break;while(a);return g},up:function(b,a,d){return this.row(this._move(b,-(a||1),"dgrid-row",d))},down:function(b,a,d){return this.row(this._move(b,a||1,"dgrid-row",d))},scrollTo:a("touch")?function(){return this.inherited(arguments)}:function(b){"undefined"!==typeof b.x&&(this.bodyNode.scrollLeft=b.x);"undefined"!==typeof b.y&&(this.bodyNode.scrollTop=
b.y)},getScrollPosition:a("touch")?function(){return this.inherited(arguments)}:function(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}},get:function(b){var a="_get"+b.charAt(0).toUpperCase()+b.slice(1);return"function"===typeof this[a]?this[a].apply(this,[].slice.call(arguments,1)):this[b]},set:function(b,a){if("object"===typeof b)for(var d in b)this.set(d,b[d]);else d="_set"+b.charAt(0).toUpperCase()+b.slice(1),"function"===typeof this[d]?this[d].apply(this,[].slice.call(arguments,
1)):this[b]=a;return this},_getClass:b,_setClass:c,_getClassName:b,_setClassName:c,_setSort:function(b,a){this._sort="string"!=typeof b?b:[{attribute:b,descending:a}];this.refresh();this._lastCollection&&(b.length&&("string"!=typeof b&&(a=b[0].descending,b=b[0].attribute),this._lastCollection.sort(function(d,l){var c=d[b],g=l[b];void 0===c&&(c="");void 0===g&&(g="");return c==g?0:c>g==!a?1:-1})),this.renderArray(this._lastCollection))},sort:function(b,a){f.deprecated("sort(...)",'use set("sort", ...) instead',
"dgrid 1.0");this.set("sort",b,a)},_getSort:function(){return this._sort},_setShowHeader:function(b){var a=this.headerNode;this.showHeader=b;q(a,(b?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();b&&(a.scrollLeft=this.getScrollPosition().x)},setShowHeader:function(b){f.deprecated("setShowHeader(...)",'use set("showHeader", ...) instead',"dgrid 1.0");this.set("showHeader",b)},_setShowFooter:function(b){this.showFooter=b;q(this.footerNode,(b?"!":".")+"dgrid-footer-hidden");this.resize()}})})},
"dgrid/util/misc":function(){define([],function(){var t={defaultDelay:15,throttle:function(f,n,e){var a=!1;e=e||t.defaultDelay;return function(){a||(a=!0,f.apply(n,arguments),setTimeout(function(){a=!1},e))}},throttleDelayed:function(f,n,e){var a=!1;e=e||t.defaultDelay;return function(){if(!a){a=!0;var k=arguments;setTimeout(function(){a=!1;f.apply(n,k)},e)}}},debounce:function(f,n,e){var a;e=e||t.defaultDelay;return function(){a&&(clearTimeout(a),a=null);var k=arguments;a=setTimeout(function(){f.apply(n,
k)},e)}}};return t})},"xstyle/has-class":function(){define(["dojo/has"],function(t){var f={};return function(){for(var n,e=arguments,a=0;a<e.length;a++)if(n=e[a],!f[n]){f[n]=!0;var k=n.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),u=t(k[2]),g=-k[4];if((0<g?g<=u&&(-k[5]||g)>=u:!!u)==!k[1])document.documentElement.className+=" has-"+n}}})},"xstyle/css":function(){define(["require"],function(t){var f=window.cssCache||(window.cssCache={});return{load:function(n,e,a,k){var u=e.toUrl(n);if(f[u])return createStyleSheet(f[u]);
k=document.documentElement;var g=k.insertBefore(document.createElement("div"),k.firstChild);g.id=e.toAbsMid(n).replace(/\//g,"-").replace(/\..*/,"")+"-loaded";n=(g.currentStyle||getComputedStyle(g,null)).display;k.removeChild(g);if("none"==n)return a();t(["./load-css"],function(g){g(u,a)})},pluginBuilder:"xstyle/css-builder"}})},"dgrid/OnDemandList":function(){define("./List ./_StoreMixin dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/on ./util/misc put-selector/put".split(" "),function(t,
f,n,e,a,k,u,g){return n([t,f],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2E3,rowHeight:22,queryRowsOverlap:1,pagingDelay:u.defaultDelay,postCreate:function(){this.inherited(arguments);var a=this;k(this.bodyNode,"scroll",u.throttleDelayed(function(c){a._processScroll(c)},null,this.pagingDelay))},renderQuery:function(q,c,b){var d={query:q,count:0,node:c,options:b};if(!c){var s={node:g(this.contentNode,"div.dgrid-preload",{rowIndex:0}),count:0,query:q,next:d,
options:b};d.node=c=g(this.contentNode,"div.dgrid-preload");d.previous=s}c.rowIndex=this.minRowsPerPage;(s=this.preload)?((d.next=s.next)&&this.bodyNode.scrollTop>=s.node.offsetTop?d.previous=s:(d.next=s,d.previous=s.previous),d.previous.next=d,d.next.previous=d):this.preload=d;var m=g(c,"-div.dgrid-loading");g(m,"div.dgrid-below").innerHTML=this.loadingMessage;b=e.mixin(this.get("queryOptions"),b,{start:0,count:this.minRowsPerPage,query:q});var h=q(b),f=this;a.when(this.renderArray(h,c,b),function(b){return a.when(h.total||
h.length,function(a){g(m,"!");var h=b.length;a=a||h;a||(f.noDataNode=g(f.contentNode,"div.dgrid-no-data"),f.noDataNode.innerHTML=f.noDataMessage);for(var e=0,l=0;l<h;l++)e+=f._calcRowHeight(b[l]);h&&e&&(f.rowHeight=e/h);a-=h;d.count=a;c.rowIndex=h;a?c.style.height=Math.min(a*f.rowHeight,f.maxEmptySpace)+"px":c.style.display="none";f._processScroll();return b})});return h},refresh:function(){this.inherited(arguments);if(this.store){var a=this;this._trackError(function(){return a.renderQuery(function(c){return a.store.query(a.query,
c)})})}},_calcRowHeight:function(a){var c=a.previousSibling;return c&&c.offsetTop!=a.offsetTop?a.offsetHeight:0},lastScrollTop:0,_processScroll:function(f){function c(a,l,c,p){var h=d.farOffRemoval,m=a.node;if(l>2*h){for(var e,f=m[c],k=0,s=0,r=[];e=f;){var n=d._calcRowHeight(e);if(k+n+h>l||0>f.className.indexOf("dgrid-row")&&0>f.className.indexOf("dgrid-loading"))break;var f=e[c],q,z=e.observerIndex;if(z!=q&&-1<q){var y=d.observers,v=y[q];v&&v.cancel();y[q]=0}k+=n;s+=e.count||1;q=z;d.removeRow(e,
!0);r.push(e)}a.count+=s;p?(m.rowIndex-=s,b(a)):m.style.height=m.offsetHeight+k+"px";var x=g("div");for(a=0;a<r.length;a++)g(x,r[a]);setTimeout(function(){g(x,"!")},1)}}function b(b,a){b.node.style.height=Math.min(b.count*d.rowHeight,a?Infinity:d.maxEmptySpace)+"px"}var d=this,s=d.bodyNode;f=f&&f.scrollTop||s.scrollTop;var m=s.offsetHeight+f,h,k,r=d.preload,n=d.lastScrollTop,w=d.bufferRows*d.rowHeight,x=w-d.rowHeight;for(d.lastScrollTop=f;r&&!r.node.offsetWidth;)r=r.previous;for(;r&&r!=h;){h=d.preload;
d.preload=r;k=r.node;var l=k.offsetTop;if(m+1+x<l){do r=r.previous;while(r&&!r.node.offsetWidth)}else if(f-1-x>l+k.offsetHeight){do r=r.next;while(r&&!r.node.offsetWidth)}else{var p=((k.rowIndex?f-w:m)-l)/d.rowHeight,l=(m-f+2*w)/d.rowHeight,z=Math.max(Math.min((f-n)*d.rowHeight,d.maxRowsPerPage/2),d.maxRowsPerPage/-2),l=l+Math.min(Math.abs(z),10);0==k.rowIndex&&(p-=l);p=Math.max(p,0);10>p&&(0<p&&l+p<d.maxRowsPerPage)&&(l+=Math.max(0,p),p=0);l=Math.min(Math.max(l,d.minRowsPerPage),d.maxRowsPerPage,
r.count);if(0==l)break;var l=Math.ceil(l),p=Math.min(Math.floor(p),r.count-l),y=e.mixin(d.get("queryOptions"),r.options);r.count-=l;var t=k,u,E=d.queryRowsOverlap;if(z=0<k.rowIndex&&r){var A=r.previous;A&&(c(A,f-(A.node.offsetTop+A.node.offsetHeight),"nextSibling"),0<p&&A.node==k.previousSibling?(p=Math.min(r.count,p),r.previous.count+=p,b(r.previous,!0),r.count-=p,k.rowIndex+=p,E=0):l+=p);y.start=k.rowIndex-E;k.rowIndex+=l}else r.next&&(c(r.next,r.next.node.offsetTop-m,"previousSibling",!0),t=k.nextSibling,
t==r.next.node?(r.next.count+=r.count-p,r.next.node.rowIndex=p+l,b(r.next),r.count=p,E=0):u=!0),y.start=r.count;y.count=Math.min(l+E,d.maxRowsPerPage);u&&(u=t.offsetTop);b(r);k=g(t,"-div.dgrid-loading[style\x3dheight:"+l*d.rowHeight+"px]");g(k,"div.dgrid-"+(z?"below":"above")).innerHTML=d.loadingMessage;k.count=l;y.query=r.query;var F=r.query(y);if(void 0===d._trackError(function(){return F}))break;(function(l,c,p,h,m){a.when(d.renderArray(m,l,y),function(){t=l.nextSibling;g(l,"!");if(h&&t){var c=
d.getScrollPosition();d.scrollTo({x:c.x,y:c.y+t.offsetTop-h,preserveMomentum:!0})}p&&a.when(m.total||m.length,function(a){p.count=a-p.node.rowIndex;b(p)});d._processScroll()})}).call(this,k,s,z,u,F);r=r.previous}}}})})},"dgrid/_StoreMixin":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/on put-selector/put".split(" "),function(t,f,n,e,a,k){function u(g){"object"!==typeof g&&(g=Error(g));g.grid=this;a.emit(this.domNode,"dgrid-error",{grid:this,error:g,
cancelable:!0,bubbles:!0})&&console.error(g)}return f(null,{store:null,query:null,queryOptions:null,getBeforePut:!0,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={}},_configColumn:function(a){a.set&&(this._columnsWithSet||(this._columnsWithSet={}),this._columnsWithSet[a.field]=a)},_configColumns:function(){this._columnsWithSet=null;return this.inherited(arguments)},_setStore:function(a,e,c){this.store=a;this.dirty={};this.set("query",
e,c)},_setQuery:function(a,e){var c=e&&e.sort;this.query=void 0!==a?a:this.query;this.queryOptions=e||this.queryOptions;c?this.set("sort",c):this.refresh()},setStore:function(a,e,c){t.deprecated("setStore(...)",'use set("store", ...) instead',"dgrid 1.0");this.set("store",a,e,c)},setQuery:function(a,e){t.deprecated("setQuery(...)",'use set("query", ...) instead',"dgrid 1.0");this.set("query",a,e)},_getQueryOptions:function(){var a=n.delegate(this.queryOptions,{});this._sort.length&&(a.sort=this._sort);
return a},_getQuery:function(){var a=this.query;return"object"==typeof a&&null!=a?n.delegate(a,{}):a},_setSort:function(a,e){this.store&&(this._lastCollection=null);this.inherited(arguments)},insertRow:function(a,e,c,b,d){var f=this.store,m=this.dirty,f=f&&f.getIdentity(a),h;f in m&&!(f in this._updating)&&(h=m[f]);h&&(a=n.delegate(a,h));return this.inherited(arguments)},updateDirty:function(a,e,c){var b=this.dirty,d=b[a];d||(d=b[a]={});d[e]=c},setDirty:function(a,e,c){t.deprecated("setDirty(...)",
"use updateDirty() instead","dgrid 1.0");this.updateDirty(a,e,c)},save:function(){function a(d,h){return function(a){var m=f._columnsWithSet,l=f._updating,p,g;for(p in h)a[p]=h[p];if(m)for(p in m)g=m[p].set(a),void 0!==g&&(a[p]=g);l[d]=!0;return e.when(c.put(a),function(){delete b[d];delete l[d]})}}var f=this,c=this.store,b=this.dirty,d=new e,k=d.promise,m=function(b){var a;return f.getBeforePut||!(a=f.row(b).data)?function(){return c.get(b)}:function(){return a}},h;for(h in b)var n=a(h,b[h]),k=k.then(m(h)).then(n);
d.resolve();return k},revert:function(){this.dirty={};this.refresh()},_trackError:function(a){var f;"string"==typeof a&&(a=n.hitch(this,a));try{f=a()}catch(c){u.call(this,c)}return e.when(f,null,n.hitch(this,u))},newRow:function(){this.noDataNode&&(k(this.noDataNode,"!"),delete this.noDataNode);return this.inherited(arguments)},removeRow:function(a,e){var c={element:a};!e&&(this.noDataMessage&&this.up(c).element===a&&this.down(c).element===a)&&(this.noDataNode=k(this.contentNode,"div.dgrid-no-data"),
this.noDataNode.innerHTML=this.noDataMessage);return this.inherited(arguments)}})})},"dgrid/Keyboard":function(){define("dojo/_base/declare dojo/aspect dojo/on ./List dojo/_base/lang dojo/has put-selector/put dojo/_base/Deferred dojo/_base/sniff".split(" "),function(t,f,n,e,a,k,u,g){var q={checkbox:1,radio:1,button:1},c=/\bdgrid-cell\b/,b=/\bdgrid-row\b/;k.add("dom-contains",function(){return!!document.createElement("a").contains});return t(null,{pageSkip:10,tabIndex:0,postCreate:function(){function d(b){var a=
b.target;return a.type&&(!q[a.type]||32==b.keyCode)}function e(h){function s(b,l,d){var c=m.cellNavigation?"cell":"row",h=m[c](b);if(b=h&&h.element)l=a.mixin({grid:m},l),l.type&&(l.parentType=l.type),l.bubbles||(l.bubbles=!0),u(q,"!dgrid-focus[!tabIndex]"),q&&(8>k("ie")&&(q.style.position=""),l[c]=m[c](q),n.emit(b,"dgrid-cellfocusout",l)),q=b,l[c]=h,d||(8>k("ie")&&(b.style.position="relative"),b.tabIndex=m.tabIndex,b.focus()),u(b,".dgrid-focus"),n.emit(q,"dgrid-cellfocusin",l)}for(var r=m.cellNavigation?
c:b,q=h,t;(t=q.firstChild)&&!r.test(t.className);)q=t;t&&(q=t);h===m.contentNode?f.after(m,"renderArray",function(b){return g.when(b,function(b){var a;if(a=r.test(q.className))a=q,a=k("dom-contains")?h.contains(a):h.compareDocumentPosition(a)&8;if(a)return b;a=0;for(var d=h.getElementsByTagName("*"),c;c=d[a];++a)if(r.test(c.className)){q=c;break}q.tabIndex=m.tabIndex;return b})}):r.test(q.className)&&(q.tabIndex=m.tabIndex);n(h,"mousedown",function(b){d(b)||s(b.target,b)});n(h,"keydown",function(b){if(!b.metaKey&&
!b.altKey){var a=b.keyCode;if(!d(b)){var c={32:0,33:-m.pageSkip,34:m.pageSkip,37:-1,38:-1,39:1,40:1,35:1E4,36:-1E4}[a];if(!isNaN(c)){var h,e=m.cell(q);if(37==a||39==a){if(!m.cellNavigation)return;a="right"}else a="down",h=e&&e.column&&e.column.id,e=m.row(q);c&&(e=e&&m[a](e,c,!0));if(c=e&&e.element){h&&(c=m.cell(c,h).element);if(m.cellNavigation){h=c.getElementsByTagName("input");for(var f,e=0;e<h.length;e++)if(a=h[e],(-1!=a.tabIndex||"lastValue"in a)&&!a.disabled){8>k("ie")&&(a.style.position="relative");
a.focus();8>k("ie")&&(a.style.position="");f=!0;break}}s(c,b,f)}b.preventDefault()}}}});return function(b){b=b||q;s(b,{target:b})}}this.inherited(arguments);var m=this;this.tabableHeader&&(this.focusHeader=e(this.headerNode));this.focus=e(this.contentNode)}})})},"dgrid/Selection":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/Deferred dojo/on dojo/has dojo/aspect ./List dojo/has!touch?./util/touch put-selector/put dojo/query".split(" "),function(t,f,n,e,a,k,u,g,q){var c=a("mac")?
"metaKey":"ctrlKey";return f(null,{selectionDelegate:".dgrid-row",selectionEvents:"mousedown,mouseup,dgrid-cellfocusin",deselectOnRefresh:!0,allowSelectAll:!1,create:function(){this.selection={};return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._initSelectionEvents()},selection:{},selectionMode:"extended",_setSelectionMode:function(b){b!=this.selectionMode&&(this.clearSelection(),this.selectionMode=b)},setSelectionMode:function(b){t.deprecated("setSelectionMode(...)",
'use set("selectionMode", ...) instead',"dgrid 1.0");this.set("selectionMode",b)},_handleSelect:function(b,a){if(!("none"==this.selectionMode||"dgrid-cellfocusin"==b.type&&"mousedown"==b.parentType||"mouseup"==b.type&&a!=this._waitForMouseUp)){this._waitForMouseUp=null;this._selectionTriggerEvent=b;var e=!b.keyCode?b[c]:b.ctrlKey;if(!b.keyCode||!b.ctrlKey||32==b.keyCode){var m=this.selectionMode,h=this.row(a),f=this._lastSelected;if("single"==m)f===a?this.select(a,null,!e||!this.isSelected(a)):(this.clearSelection(),
this.select(a),this._lastSelected=a);else if(this.selection[h.id]&&!b.shiftKey&&"mousedown"==b.type)this._waitForMouseUp=a;else{var g;(2!=b.button&&"extended"==m&&!e||2==b.button&&!this.selection[h.id])&&this.clearSelection(h.id,!0);b.shiftKey||(f=g=e?null:void 0);this.select(a,f,g);f||(this._lastSelected=a)}!b.keyCode&&(b.shiftKey||e)&&b.preventDefault()}this._selectionTriggerEvent=null}},_initSelectionEvents:function(){function b(b){d._handleSelect(b,this)}var d=this,f=this.selectionDelegate;e(this.domNode,
"selectstart",function(b){var a=b.target&&b.target.tagName;"INPUT"!=a&&"TEXTAREA"!=a&&b.preventDefault()});a("touch")?e(this.contentNode,g.selector(f,g.tap),function(b){d._handleSelect(b,this)}):e(this.contentNode,e.selector(f,this.selectionEvents),b);if(this.allowSelectAll)this.on("keydown",function(b){b[c]&&65==b.keyCode&&(b.preventDefault(),d[d.allSelected?"clearSelection":"selectAll"]())});k.before(this,"removeRow",function(b,a){var c;a||(c=this.row(b))&&c.id in this.selection&&this.deselect(b)})},
allowSelect:function(b){return!0},_selectionEventQueue:function(b,a){var c=this,f="dgrid-"+(b?"select":"deselect"),h=this[f],g=this._selectionTriggerEvent;g&&(g=g.type);if(h)return h;setTimeout(this._fireSelectionEvent=function(){if(h){var b={bubbles:!0,grid:c};g&&(b.parentType=g);b[a]=h;e.emit(c.contentNode,f,b);h=null;delete c[f]}},0);return h=this[f]=[]},select:function(b,a,c){void 0===c&&(c=!0);b.element||(b=this.row(b));if(this.allowSelect(b)){var e=this.selection,h=e[b.id];null===c&&(c=!h);
var f=b.element;!c&&!this.allSelected?delete this.selection[b.id]:e[b.id]=c;f&&(c?q(f,".dgrid-selected.ui-state-active"):q(f,"!dgrid-selected!ui-state-active"));c!=h&&f&&this._selectionEventQueue(c,"rows").push(b);if(a){a.element||(a=this.row(a));a=a.element;c=b.element;for(c=a&&(a.compareDocumentPosition?2==a.compareDocumentPosition(c):a.sourceIndex>c.sourceIndex)?"down":"up";b.element!=a&&(b=this[c](b));)this.select(b)}}},deselect:function(b,a){this.select(b,a,!1)},clearSelection:function(b,a){this.allSelected=
!1;for(var c in this.selection)b!==c&&this.deselect(c);a||(this._lastSelected=null)},selectAll:function(){this.allSelected=!0;this.selection={};for(var b in this._rowIdToObject){var a=this.row(this._rowIdToObject[b]);this.select(a.id)}},isSelected:function(b){if(!b)return!1;b.element||(b=this.row(b));return!!this.selection[b.id]},refresh:function(){this.deselectOnRefresh&&(this.clearSelection(),this._fireSelectionEvent&&this._fireSelectionEvent());this._lastSelected=null;this.inherited(arguments)},
renderArray:function(){var b=this,a=this.inherited(arguments);n.when(a,function(a){var c=b.selection,d,e,f;for(d=0;d<a.length;d++)e=b.row(a[d]),(f=e.id in c?c[e.id]:b.allSelected)&&b.select(e,null,f)});return a}})})},"dgrid/editor":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/on dojo/aspect dojo/has ./Grid put-selector/put dojo/_base/sniff".split(" "),function(t,f,n,e,a,k,u,g,q){function c(a,b){a.value=b;if("radio"==a.type||"checkbox"==a.type)a.checked=
!!b}function b(a,b){if("number"==typeof b)a=isNaN(a)?a:parseFloat(a);else if("boolean"==typeof b)a="true"==a?!0:"false"==a?!1:a;else if(b instanceof Date){var c=new Date(a);a=isNaN(c.getTime())?a:c}return a}function d(b,d,e,f,h){var g,m,k;if(!(e>=f&&e<=f)&&(g=b.cell(d),m=g.row,k=g.column,k.field&&m))if(g={grid:b,cell:g,rowId:m.id,oldValue:e,value:f,bubbles:!0,cancelable:!0},h&&h.type&&(g.parentType=h.type),a.emit(d,"dgrid-datachange",g))b.updateDirty&&(b.updateDirty(m.id,k.field,f),k.autoSave&&setTimeout(function(){b._trackError("save")},
0));else{var n;(n=d.widget)?(n._dgridIgnoreChange=!0,n.set("value",e),setTimeout(function(){n._dgridIgnoreChange=!1},0)):(n=d.input)&&c(n,e);return e}return f}function s(a,c,e,f){if(!e.isValid||e.isValid()){c=d;var h=(e.domNode||e).parentNode,g=v?w:e._dgridLastValue,m;m="function"==typeof e.get?b(e.get("value")):b(e["checkbox"==e.type||"radio"==e.type?"checked":"value"]);a=c(a,h,g,m,f);v?w=a:e._dgridLastValue=a}}function m(b){var c=b.editor,d=b.editOn,e=b.grid,h="string"!=typeof c,g,m,k;g=b.editorArgs||
{};"function"==typeof g&&(g=g.call(e,b));if(h)m=new c(g),h=m.focusNode||m.domNode,h.className+=" dgrid-input",m.connect(m,d?"onBlur":"onChange",function(){m._dgridIgnoreChange||s(e,b,this,{type:"widget"})});else if(k=function(a){var c=a.target;"_dgridLastValue"in c&&-1<c.className.indexOf("dgrid-input")&&s(e,b,c,a)},b.grid._hasInputListener||(e._hasInputListener=!0,e.on("change",function(a){k(a)})),m=h=q(("textarea"==c?"textarea":"input[type\x3d"+c+"]")+".dgrid-input",f.mixin({name:b.field,tabIndex:isNaN(b.tabIndex)?
-1:b.tabIndex},g)),9>u("ie")||u("ie")&&0)"radio"==c||"checkbox"==c?a(m,"click",function(a){k(a)}):a(m,"change",function(a){k(a)});a(h,"mousedown",function(a){a.stopPropagation()});return m}function h(b,d){var e=m(b),h=e.domNode||e,k=e.focusNode||h,n=e.domNode?function(){e.set("value",e._dgridLastValue)}:function(){c(e,e._dgridLastValue);s(b.grid,b,e)};a(k,"keydown",function(a){a=a.keyCode||a.which;27==a?(n(),w=e._dgridLastValue,k.blur()):13==a&&!1!==b.dismissOnEnter&&k.blur()});(b._editorBlurHandle=
a.pausable(e,"blur",function(){var a=h.parentNode;b.grid.cell(h);var c=a.children.length-1,e={alreadyHooked:!0};for(a.removeChild(h);c--;)q(a.firstChild,"!");g.appendIfNode(a,b.renderCell(b.grid.row(a).data,w,a,x?f.delegate(e,x):e));v=w=x=null;b._editorBlurHandle.pause()})).pause();return e}function B(a,b,e,d){(b=a.domNode)||c(a,d);e.innerHTML="";q(e,a.domNode||a);b&&(a._started||a.startup(),a._dgridIgnoreChange=!0,a.set("value",d),setTimeout(function(){a._dgridIgnoreChange=!1},0));a._dgridLastValue=
d;v&&(w=d)}function r(a){var b,c,d,h,f,g;a.column||(a=this.cell(a));b=a.column;h=b.field;c=a.element.contents||a.element;if(f=b.editorInstance){if(v!=c&&(!b.canEdit||b.canEdit(a.row.data,d)))return v=c,a=a.row,d=(d=this.dirty&&this.dirty[a.id])&&h in d?d[h]:b.get?b.get(a.data):a.data[h],B(b.editorInstance,b,c,d),g=new e,setTimeout(function(){f.focus&&f.focus();b._editorBlurHandle&&b._editorBlurHandle.resume();g.resolve(f)},0),g.promise}else if(b.editor&&(f=c.widget||c.input))return g=new e,f.focus&&
f.focus(),g.resolve(f),g.promise;return null}var v,w,x;return function(b,c,d){var e=b.renderCell||g.defaultRenderCell,f=[],q;b||(b={});b.editor=c=c||b.editor||"text";b.editOn=d=d||b.editOn;q="string"!=typeof c;b.widgetArgs&&(t.deprecated("column.widgetArgs","use column.editorArgs instead","dgrid 1.0"),b.editorArgs=b.widgetArgs);k.after(b,"init",d?function(){var a=b.grid;a.edit||(a.edit=r);b.editorInstance=h(b,e)}:function(){var a=b.grid;a.edit||(a.edit=r);q&&f.push(k.before(a,"removeRow",function(c){c=
a.cell(c,b.id).element;(c=(c.contents||c).widget)&&c.destroyRecursive()}))});k.after(b,"destroy",function(){n.forEach(f,function(a){a.remove()});b._editorBlurHandle&&b._editorBlurHandle.remove();d&&q&&b.editorInstance.destroyRecursive()});b.renderCell=d?function(c,h,f,g){if(!g||!g.alreadyHooked)a("TD"==f.tagName?f:f.parentNode,d,function(){x=g;b.grid.edit(this)});return e.call(b,c,h,f,g)}:function(a,c,d,f){if(!b.canEdit||b.canEdit(a,c))a=m(b),B(a,b,d,c),d[q?"widget":"input"]=a;else return e.call(b,
a,c,d,f)};return b}})},"moment/moment":function(){define([],function(){function t(a,b,c,d){var e=c.lang();return e[a].call?e[a](c,d):e[a][b]}function f(a,b){return function(c){return u(a.call(this,c),b)}}function n(a){return function(b){b=a.call(this,b);return b+this.lang().ordinal(b)}}function e(a,b,c){this._d=a;this._isUTC=!!b;this._a=a._a||null;this._lang=c||!1}function a(a){var b=this._data={},c=a.years||a.y||0,d=a.months||a.M||0,e=a.weeks||a.w||0,f=a.days||a.d||0,h=a.hours||a.h||0,g=a.minutes||
a.m||0,l=a.seconds||a.s||0;a=a.milliseconds||a.ms||0;this._milliseconds=a+1E3*l+6E4*g+36E5*h;this._days=f+7*e;this._months=d+12*c;b.milliseconds=a%1E3;l+=k(a/1E3);b.seconds=l%60;g+=k(l/60);b.minutes=g%60;h+=k(g/60);b.hours=h%24;f+=k(h/24);f+=7*e;b.days=f%30;d+=k(f/30);b.months=d%12;c+=k(d/12);b.years=c;this._lang=!1}function k(a){return 0>a?Math.ceil(a):Math.floor(a)}function u(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function g(a,b,c){var d=b._milliseconds,e=b._days;b=b._months;d&&a._d.setTime(+a+
d*c);e&&a.date(a.date()+e*c);b&&(d=a.date(),a.date(1).month(a.month()+b*c).date(Math.min(d,a.daysInMonth())))}function q(a){return"[object Array]"===Object.prototype.toString.call(a)}function c(a,b){var c=Math.min(a.length,b.length),d=Math.abs(a.length-b.length),e=0,f;for(f=0;f<c;f++)~~a[f]!==~~b[f]&&e++;return e+d}function b(a,b,c,d){var e,f=[];for(e=0;7>e;e++)f[e]=a[e]=null==a[e]?2===e?1:0:a[e];a[7]=f[7]=b;null!=a[8]&&(f[8]=a[8]);a[3]+=c||0;a[4]+=d||0;c=new Date(0);b?(c.setUTCFullYear(a[0],a[1],
a[2]),c.setUTCHours(a[3],a[4],a[5],a[6])):(c.setFullYear(a[0],a[1],a[2]),c.setHours(a[3],a[4],a[5],a[6]));c._a=f;return c}function d(a,b){var c,d,e=[];!b&&E&&(b=require("./lang/"+a));for(c=0;c<A.length;c++)b[A[c]]=b[A[c]]||D.en[A[c]];for(c=0;12>c;c++)d=p([2E3,c]),e[c]=RegExp("^"+(b.months[c]||b.months(d,""))+"|^"+(b.monthsShort[c]||b.monthsShort(d,"")).replace(".",""),"i");b.monthsParse=b.monthsParse||e;return D[a]=b}function s(a){return(a="string"===typeof a&&a||a&&a._lang||null)?D[a]||d(a):p}function m(a){var b=
a.match(L),c,d;c=0;for(d=b.length;c<d;c++)b[c]=C[b[c]]?C[b[c]]:b[c].match(/\[.*\]/)?b[c].replace(/^\[|\]$/g,""):b[c].replace(/\\/g,"");return function(e){var f="";for(c=0;c<d;c++)f+="function"===typeof b[c].call?b[c].call(e,a):b[c];return f}}function h(a,b){function c(b){return a.lang().longDateFormat[b]||b}for(var d=5;d--&&M.test(b);)b=b.replace(M,c);J[b]||(J[b]=m(b));return J[b](a)}function B(a){switch(a){case "DDDD":return T;case "YYYY":return U;case "S":case "SS":case "SSS":case "DDD":return S;
case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":case "a":case "A":return V;case "Z":case "ZZ":return G;case "T":return W;case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return R;default:return RegExp(a.replace("\\",""))}}function r(a,c){var d=[0,0,1,0,0,0,0],e={tzh:0,tzm:0},f=c.match(L),h,g;for(h=0;h<f.length;h++)if((g=(B(f[h]).exec(a)||[])[0])&&(a=a.slice(a.indexOf(g)+g.length)),C[f[h]]){var l=d,m=e,k=void 0,
p=void 0;switch(f[h]){case "M":case "MM":l[1]=null==g?0:~~g-1;break;case "MMM":case "MMMM":for(k=0;12>k;k++)if(s().monthsParse[k].test(g)){l[1]=k;p=!0;break}p||(l[8]=!1);break;case "D":case "DD":case "DDD":case "DDDD":null!=g&&(l[2]=~~g);break;case "YY":l[0]=~~g+(70<~~g?1900:2E3);break;case "YYYY":l[0]=~~Math.abs(g);break;case "a":case "A":m.isPm="pm"===(g+"").toLowerCase();break;case "H":case "HH":case "h":case "hh":l[3]=~~g;break;case "m":case "mm":l[4]=~~g;break;case "s":case "ss":l[5]=~~g;break;
case "S":case "SS":case "SSS":l[6]=~~(1E3*("0."+g));break;case "Z":case "ZZ":m.isUTC=!0;if((k=(g+"").match(Y))&&k[1])m.tzh=~~k[1];k&&k[2]&&(m.tzm=~~k[2]);k&&"+"===k[0]&&(m.tzh=-m.tzh,m.tzm=-m.tzm)}null==g&&(l[8]=!1)}e.isPm&&12>d[3]&&(d[3]+=12);!1===e.isPm&&12===d[3]&&(d[3]=0);return b(d,e.isUTC,e.tzh,e.tzm)}function v(a,b,c,d,e){e=e.relativeTime[a];return"function"===typeof e?e(b||1,!!c,a,d):e.replace(/%d/i,b||1)}function w(a,b){p.fn[a]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+
c+b](a),this):this._d["get"+c+b]()}}function x(a){p.duration.fn[a]=function(){return this._data[a]}}function l(a,b){p.duration.fn["as"+a]=function(){return+this/b}}for(var p,z=Math.round,y,D={},K="en",E="undefined"!==typeof module&&module.exports,A="months monthsShort weekdays weekdaysShort weekdaysMin longDateFormat calendar relativeTime ordinal meridiem".split(" "),F=/^\/?Date\((\-?\d+)/i,L=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|.)/g,
M=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?)/g,N=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,R=/\d\d?/,S=/\d{1,3}/,T=/\d{3}/,U=/\d{1,4}/,V=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,G=/Z|[\+\-]\d\d:?\d\d/i,W=/T/i,X=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,O=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],Y=/([\+\-]|\d\d)/gi,H="Month Date Hours Minutes Seconds Milliseconds".split(" "),
I={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},J={},P=["DDD","w","M","D","d"],Q="MDHhmsw".split(""),C={M:function(){return this.month()+1},MMM:function(a){return t("monthsShort",this.month(),this,a)},MMMM:function(a){return t("months",this.month(),this,a)},D:function(){return this.date()},DDD:function(){var a=new Date(this.year(),this.month(),this.date()),b=new Date(this.year(),0,1);return~~((a-b)/864E5+1.5)},d:function(){return this.day()},dd:function(a){return t("weekdaysMin",
this.day(),this,a)},ddd:function(a){return t("weekdaysShort",this.day(),this,a)},dddd:function(a){return t("weekdays",this.day(),this,a)},w:function(){var a=new Date(this.year(),this.month(),this.date()-this.day()+5),b=new Date(a.getFullYear(),0,4);return~~((a-b)/864E5/7+1.5)},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),
!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return u(~~(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+u(~~(a/60),2)+":"+u(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+u(~~(10*a/6),4)}};P.length;)y=P.pop(),
C[y+"o"]=n(C[y]);for(;Q.length;)y=Q.pop(),C[y+y]=f(C[y],2);C.DDDD=f(C.DDD,3);p=function(a,d){if(null===a||""===a)return null;var f;if(p.isMoment(a))return new e(new Date(+a._d),a._isUTC,a._lang);if(d)if(q(d)){var g=a.match(N)||[],l,m=99,k,n;for(k=0;k<d.length;k++)n=r(a,d[k]),l=h(new e(n),d[k]).match(N)||[],l=c(g,l),l<m&&(m=l,f=n)}else f=r(a,d);else if(f=F.exec(a),void 0===a)f=new Date;else if(f)f=new Date(+f[1]);else if(a instanceof Date)f=a;else if(q(a))f=b(a);else if("string"===typeof a)if(f="YYYY-MM-DDT",
X.exec(a)){for(g=0;4>g;g++)if(O[g][1].exec(a)){f+=O[g][0];break}f=G.exec(a)?r(a,f+" Z"):r(a,f)}else f=new Date(a);else f=new Date(a);return new e(f)};p.utc=function(a,c){if(q(a))return new e(b(a,!0),!0);"string"===typeof a&&!G.exec(a)&&(a+=" +0000",c&&(c+=" Z"));return p(a,c).utc()};p.unix=function(a){return p(1E3*a)};p.duration=function(b,c){var d=p.isDuration(b),e="number"===typeof b,f=d?b._data:e?{}:b;e&&(c?f[c]=b:f.milliseconds=b);e=new a(f);d&&(e._lang=b._lang);return e};p.humanizeDuration=function(a,
b,c){return p.duration(a,!0===b?null:b).humanize(!0===b?!0:c)};p.version="1.7.2";p.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";p.lang=function(a,b){var c;if(!a)return K;(b||!D[a])&&d(a,b);if(D[a]){for(c=0;c<A.length;c++)p[A[c]]=D[a][A[c]];p.monthsParse=D[a].monthsParse;K=a}};p.langData=s;p.isMoment=function(a){return a instanceof e};p.isDuration=function(b){return b instanceof a};p.lang("en",{months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},
relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"}});p.fn=e.prototype={clone:function(){return p(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1E3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},
toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?null!=this._a[8]?!!this._a[8]:!c(this._a,(this._a[7]?p.utc(this._a):p(this._a)).toArray()):!isNaN(this._d.getTime())},utc:function(){this._isUTC=!0;return this},local:function(){this._isUTC=!1;return this},format:function(a){return h(this,a?a:p.defaultFormat)},add:function(a,b){var c=b?p.duration(+b,a):p.duration(a);g(this,
c,1);return this},subtract:function(a,b){var c=b?p.duration(+b,a):p.duration(a);g(this,c,-1);return this},diff:function(a,b,c){a=this._isUTC?p(a).utc():p(a).local();var d=6E4*(this.zone()-a.zone()),d=this._d-a._d-d,e=this.year()-a.year(),f=this.month()-a.month();a=this.date()-a.date();b="months"===b?12*e+f+a/30:"years"===b?e+(f+a/30)/12:"seconds"===b?d/1E3:"minutes"===b?d/6E4:"hours"===b?d/36E5:"days"===b?d/864E5:"weeks"===b?d/6048E5:d;return c?b:z(b)},from:function(a,b){return p.duration(this.diff(a)).lang(this._lang).humanize(!b)},
fromNow:function(a){return this.from(p(),a)},calendar:function(){var a=this.diff(p().sod(),"days",!0),b=this.lang().calendar,c=b.sameElse,a=-6>a?c:-1>a?b.lastWeek:0>a?b.lastDay:1>a?b.sameDay:2>a?b.nextDay:7>a?b.nextWeek:c;return this.format("function"===typeof a?a.apply(this):a)},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<p([this.year()]).zone()||this.zone()<p([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():
this._d.getDay();return null==a?b:this.add({d:a-b})},startOf:function(a){switch(a.replace(/s$/,"")){case "year":this.month(0);case "month":this.date(1);case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return this},endOf:function(a){return this.startOf(a).add(a.replace(/s?$/,"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this._isUTC?
0:this._d.getTimezoneOffset()},daysInMonth:function(){return p.utc([this.year(),this.month()+1,0]).date()},lang:function(a){if(void 0===a)return s(this);this._lang=a;return this}};for(y=0;y<H.length;y++)w(H[y].toLowerCase(),H[y]);w("year","FullYear");p.duration.fn=a.prototype={weeks:function(){return k(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*this._months},humanize:function(a){var b=+this,c=this.lang().relativeTime,d;d=!a;var e=this.lang(),f=z(Math.abs(b)/
1E3),g=z(f/60),h=z(g/60),l=z(h/24),k=z(l/365),f=45>f&&["s",f]||1===g&&["m"]||45>g&&["mm",g]||1===h&&["h"]||22>h&&["hh",h]||1===l&&["d"]||25>=l&&["dd",l]||45>=l&&["M"]||345>l&&["MM",z(l/30)]||1===k&&["y"]||["yy",k];f[2]=d;f[3]=0<b;f[4]=e;d=v.apply({},f);b=0>=b?c.past:c.future;a&&(d="function"===typeof b?b(d):b.replace(/%s/i,d));return d},lang:p.fn.lang};for(y in I)I.hasOwnProperty(y)&&(l(y,I[y]),x(y.toLowerCase()));l("Weeks",6048E5);return p})},"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:_onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\ttabIndex\x3d"-1" role\x3d"presentation" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n'}});
define("dote-client/viewAdmin","dojo/_base/array dojo/_base/declare dojo/ready dojo/store/Cache dojo/store/Memory dojo/store/Observable dijit/form/Button dgrid/OnDemandGrid dgrid/Keyboard dgrid/Selection dgrid/editor moment/moment ./store/JsonRest ./userControls ./widgetModules".split(" "),function(t,f,n,e,a,k,u,g,q,c,b,d,s,m){var h=e(new s({target:"/users/"}),new a),B=k(e(new s({target:"/topics/"}),new a));n(function(){m.start();var a=[],e=[{field:"id",label:"User ID"},b({field:"admin",label:"Admin Flag",
editor:"checkbox",editOn:"dblclick",autoSave:!0}),b({field:"owner",label:"Owner Flag",editor:"checkbox",editOn:"dblclick",autoSave:!0}),b({field:"committer",label:"Committer Flag",editor:"checkbox",editOn:"dblclick",autoSave:!0}),b({field:"attempts",label:"Attempts",editor:"text",editOn:"dblclick",autoSave:!0}),{field:"lastLogin",label:"Last Login",get:function(a){return a.lastLogin?d.unix(a.lastLogin).format("DD/MM/YY HH:mm"):null}}];(new f([g,q,c]))({columns:e,store:h},"userGrid");var e=[{field:"id",
label:"ID",formatter:function(a){return'\x3ca href\x3d"/topic/'+a+'" target\x3d"_blank"\x3e'+a+"\x3c/a\x3e"}},b({field:"title",label:"Title",editor:"text",editOn:"dblclick",autoSave:!0}),{field:"voters",sortable:!1,label:"Vote",get:function(a){var b=a.voters.length?0:null;t.forEach(a.voters,function(a){b+=a.vote});return 0<b&&null!==b?"+"+b:b}},{field:"author",label:"Author"},{field:"created",label:"Created",get:function(a){return d.unix(a.created).format("DD/MM/YY HH:mm")}},b({field:"owner",label:"Owner",
editor:"text",editOn:"dblclick",autoSave:!0}),b({field:"action",label:"Action",editor:"text",editOn:"dblclick",autoSave:!0}),{field:"actioned",label:"Actioned",get:function(a){return a.actioned?d.unix(a.actioned).format("DD/MM/YY HH:mm"):null}},{field:"commentsCount",label:"Cmt"}],k=(new f([g,q,c]))({columns:e,store:B,selectionMode:"single"},"topicGrid");k.on("dgrid-select",function(a){n.get("disabled")&&n.set("disabled",!1)});k.on("dgrid-deselect",function(a){for(var b in a.grid.selection)return;
n.set("disabled",!0)});var n=new u({id:"deleteTopic",label:"Delete Topic",disabled:!0},"deleteTopic");n.on("click",function(){for(var a in k.selection)B.remove(a)});a.push(n);t.forEach(a,function(a){a.startup()})})});
//@ sourceMappingURL=viewAdmin.js.map