//>>built
require({cache:{"dojo/promise/all":function(){define("dojo/promise/all",["../_base/array","../Deferred","../when"],function(f,k,g){var b=f.some;return function(e){var i,d;e instanceof Array?d=e:e&&"object"===typeof e&&(i=e);var h,l=[];if(i){d=[];for(var j in i)Object.hasOwnProperty.call(i,j)&&(l.push(j),d.push(i[j]));h={}}else d&&(h=[]);if(!d||!d.length)return(new k).resolve(h);var f=new k;f.promise.always(function(){h=l=null});var o=d.length;b(d,function(d,c){i||l.push(c);g(d,function(a){f.isFulfilled()||
(h[l[c]]=a,0===--o&&f.resolve(h))},f.reject);return f.isFulfilled()});return f.promise}})},"dojo/store/Cache":function(){define("dojo/store/Cache",["../_base/lang","../_base/Deferred"],function(f,k){var g=function(b,e,i){i=i||{};return f.delegate(b,{query:function(d,h){var f=b.query(d,h);f.forEach(function(d){(!i.isLoaded||i.isLoaded(d))&&e.put(d)});return f},queryEngine:b.queryEngine||e.queryEngine,get:function(d,h){return k.when(e.get(d),function(i){return i||k.when(b.get(d,h),function(b){b&&e.put(b,
{id:d});return b})})},add:function(d,h){return k.when(b.add(d,h),function(b){e.add("object"==typeof b?b:d,h);return b})},put:function(d,h){e.remove(h&&h.id||this.getIdentity(d));return k.when(b.put(d,h),function(b){e.put("object"==typeof b?b:d,h);return b})},remove:function(d,h){return k.when(b.remove(d,h),function(){return e.remove(d,h)})},evict:function(d){return e.remove(d)}})};f.setObject("dojo.store.Cache",g);return g})},"dojo/store/JsonRest":function(){define("dojo/store/JsonRest",["../_base/xhr",
"../_base/lang","../json","../_base/declare","./util/QueryResults"],function(f,k,g,b,e){return b("dojo.store.JsonRest",null,{constructor:function(e){this.headers={};b.safeMixin(this,e)},headers:{},target:"",idProperty:"id",get:function(b,d){var d=d||{},e=k.mixin({Accept:this.accepts},this.headers,d.headers||d);return f("GET",{url:this.target+b,handleAs:"json",headers:e})},accepts:"application/javascript, application/json",getIdentity:function(b){return b[this.idProperty]},put:function(b,d){var d=
d||{},e="id"in d?d.id:this.getIdentity(b),l="undefined"!=typeof e;return f(l&&!d.incremental?"PUT":"POST",{url:l?this.target+e:this.target,postData:g.stringify(b),handleAs:"json",headers:k.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":!0===d.overwrite?"*":null,"If-None-Match":!1===d.overwrite?"*":null},this.headers,d.headers)})},add:function(b,d){d=d||{};d.overwrite=!1;return this.put(b,d)},remove:function(b,d){d=d||{};return f("DELETE",{url:this.target+b,headers:k.mixin({},
this.headers,d.headers)})},query:function(b,d){var d=d||{},h=k.mixin({Accept:this.accepts},this.headers,d.headers);if(0<=d.start||0<=d.count)h.Range=h["X-Range"]="items="+(d.start||"0")+"-"+("count"in d&&Infinity!=d.count?d.count+(d.start||0)-1:"");var l=-1<this.target.indexOf("?");b&&"object"==typeof b&&(b=(b=f.objectToQuery(b))?(l?"&":"?")+b:"");if(d&&d.sort){for(var j=this.sortParam,b=b+((b||l?"&":"?")+(j?j+"=":"sort(")),l=0;l<d.sort.length;l++)var g=d.sort[l],b=b+((0<l?",":"")+(g.descending?"-":
"+")+encodeURIComponent(g.attribute));j||(b+=")")}var o=f("GET",{url:this.target+(b||""),handleAs:"json",headers:h});o.total=o.then(function(){var b=o.ioArgs.xhr.getResponseHeader("Content-Range");return b&&(b=b.match(/\/(.*)/))&&+b[1]});return e(o)}})})},"dojo/store/util/QueryResults":function(){define("dojo/store/util/QueryResults",["../../_base/array","../../_base/lang","../../_base/Deferred"],function(f,k,g){var b=function(e){function i(d){e[d]||(e[d]=function(){var h=arguments;return g.when(e,
function(e){Array.prototype.unshift.call(h,e);return b(f[d].apply(f,h))})})}if(!e)return e;e.then&&(e=k.delegate(e));i("forEach");i("filter");i("map");if(!e.total)e.total=g.when(e,function(b){return b.length});return e};k.setObject("dojo.store.util.QueryResults",b);return b})},"dojo/store/Memory":function(){define("dojo/store/Memory",["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(f,k,g){return f("dojo.store.Memory",null,{constructor:function(b){for(var e in b)this[e]=
b[e];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:g,get:function(b){return this.data[this.index[b]]},getIdentity:function(b){return b[this.idProperty]},put:function(b,e){var f=this.data,d=this.index,h=this.idProperty,h=b[h]=e&&"id"in e?e.id:h in b?b[h]:Math.random();if(h in d){if(e&&!1===e.overwrite)throw Error("Object already exists");f[d[h]]=b}else d[h]=f.push(b)-1;return h},add:function(b,e){(e=e||{}).overwrite=!1;return this.put(b,e)},remove:function(b){var e=
this.index,f=this.data;if(b in e)return f.splice(e[b],1),this.setData(f),!0},query:function(b,e){return k(this.queryEngine(b,e)(this.data))},setData:function(b){var a;b.items?(this.idProperty=b.identifier,a=this.data=b.items,b=a):this.data=b;this.index={};for(var e=0,f=b.length;e<f;e++)this.index[b[e][this.idProperty]]=e}})})},"dojo/store/util/SimpleQueryEngine":function(){define("dojo/store/util/SimpleQueryEngine",["../../_base/array"],function(f){return function(k,g){function b(b){var b=f.filter(b,
k),d=g&&g.sort;d&&b.sort("function"==typeof d?d:function(b,e){for(var h,f=0;h=d[f];f++){var g=b[h.attribute],c=e[h.attribute];if(g!=c)return!!h.descending==(null==g||g>c)?-1:1}return 0});if(g&&(g.start||g.count)){var e=b.length,b=b.slice(g.start||0,(g.start||0)+(g.count||Infinity));b.total=e}return b}switch(typeof k){default:throw Error("Can not query with a "+typeof k);case "object":case "undefined":var e=k,k=function(b){for(var d in e){var h=e[d];if(h&&h.test){if(!h.test(b[d],b))return!1}else if(h!=
b[d])return!1}return!0};break;case "string":if(!this[k])throw Error("No filter function "+k+" was found in store");k=this[k];case "function":}b.matches=k;return b}})},"dijit/form/CheckBox":function(){require({cache:{"url:dijit/form/templates/CheckBox.html":'<div class="dijit dijitReset dijitInline" role="presentation"\n\t><input\n\t \t${!nameAttrSetting} type="${type}" ${checkedAttrSetting}\n\t\tclass="dijitReset dijitCheckBoxInput"\n\t\tdata-dojo-attach-point="focusNode"\n\t \tdata-dojo-attach-event="onclick:_onClick"\n/></div>\n'}});
define("dijit/form/CheckBox","require,dojo/_base/declare,dojo/dom-attr,dojo/has,dojo/query,dojo/ready,./ToggleButton,./_CheckBoxMixin,dojo/text!./templates/CheckBox.html,dojo/NodeList-dom".split(","),function(f,k,g,b,e,i,d,h,l){return k("dijit.form.CheckBox",[d,h],{templateString:l,baseClass:"dijitCheckBox",_setValueAttr:function(b,d){"string"==typeof b&&(this.inherited(arguments),b=!0);this._created&&this.set("checked",b,d)},_getValueAttr:function(){return this.checked?this.value:!1},_setIconClassAttr:null,
postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=this.checked?"checked":""},_fillContent:function(){},_onFocus:function(){this.id&&e("label[for='"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&e("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");this.inherited(arguments)}})})},"dijit/form/ToggleButton":function(){define("dijit/form/ToggleButton",["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],
function(f,k,g,b){return f("dijit.form.ToggleButton",[g,b],{baseClass:"dijitToggleButton",setChecked:function(b){k.deprecated("setChecked("+b+") is deprecated. Use set('checked',"+b+") instead.","","2.0");this.set("checked",b)}})})},"dijit/form/_ToggleButtonMixin":function(){define("dijit/form/_ToggleButtonMixin",["dojo/_base/declare","dojo/dom-attr"],function(f,k){return f("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(f){var b=this.checked;this._set("checked",
!b);var e=this.inherited(arguments);this.set("checked",e?this.checked:b);return e},_setCheckedAttr:function(f,b){this._set("checked",f);k.set(this.focusNode||this.domNode,"checked",f);(this.focusNode||this.domNode).setAttribute(this._aria_attr,f?"true":"false");this._handleOnChange(f,b)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dijit/form/_CheckBoxMixin":function(){define("dijit/form/_CheckBoxMixin",["dojo/_base/declare","dojo/dom-attr","dojo/_base/event"],
function(f,k,g){return f("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(b){this._set("readOnly",b);k.set(this.focusNode,"readOnly",b);this.focusNode.setAttribute("aria-readonly",b)},_setLabelAttr:void 0,_getSubmitValue:function(b){return!b&&0!==b?"on":b},_setValueAttr:function(b){b=this._getSubmitValue(b);this._set("value",b);k.set(this.focusNode,"value",b)},reset:function(){this.inherited(arguments);this._set("value",this.params.value||
"on");k.set(this.focusNode,"value",this.value)},_onClick:function(b){return this.readOnly?(g.stop(b),!1):this.inherited(arguments)}})})},"url:dijit/form/templates/CheckBox.html":'<div class="dijit dijitReset dijitInline" role="presentation"\n\t><input\n\t \t${!nameAttrSetting} type="${type}" ${checkedAttrSetting}\n\t\tclass="dijitReset dijitCheckBoxInput"\n\t\tdata-dojo-attach-point="focusNode"\n\t \tdata-dojo-attach-event="onclick:_onClick"\n/></div>\n',"dojo/NodeList-dom":function(){define("dojo/NodeList-dom",
"./_base/kernel,./query,./_base/array,./_base/lang,./dom-class,./dom-construct,./dom-geometry,./dom-attr,./dom-style".split(","),function(f,k,g,b,e,i,d,h,l){function j(a){return function(c,b,m){return 2==arguments.length?a["string"==typeof b?"get":"set"](c,b):a.set(c,b,m)}}var n=function(a){return 1==a.length&&"string"==typeof a[0]},o=function(a){var c=a.parentNode;c&&c.removeChild(a)},q=k.NodeList,c=q._adaptWithCondition,a=q._adaptAsForEach,m=q._adaptAsMap;b.extend(q,{_normalize:function(a,c){var m=
!0===a.parse;if("string"==typeof a.template)var d=a.templateFunc||f.string&&f.string.substitute,a=d?d(a.template,a):a;d=typeof a;"string"==d||"number"==d?(a=i.toDom(a,c&&c.ownerDocument),a=11==a.nodeType?b._toArray(a.childNodes):[a]):b.isArrayLike(a)?b.isArray(a)||(a=b._toArray(a)):a=[a];if(m)a._runParse=!0;return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,c,b,m){if(!(1!=c.nodeType&&"only"==b))for(var d,e=a.length,h=e-1;0<=h;h--){var j=m?this._cloneNode(a[h]):a[h];if(a._runParse&&
f.parser&&f.parser.parse){d||(d=c.ownerDocument.createElement("div"));d.appendChild(j);f.parser.parse(d);for(j=d.firstChild;d.firstChild;)d.removeChild(d.firstChild)}h==e-1?i.place(j,c,b):c.parentNode.insertBefore(j,c);c=j}},position:m(d.position),attr:c(j(h),n),style:c(j(l),n),addClass:a(e.add),removeClass:a(e.remove),toggleClass:a(e.toggle),replaceClass:a(e.replace),empty:a(i.empty),removeAttr:a(h.remove),marginBox:m(d.getMarginBox),place:function(a,c){var b=k(a)[0];return this.forEach(function(a){i.place(a,
b,c)})},orphan:function(a){return(a?k._filterResult(this,a):this).forEach(o)},adopt:function(a,c){return k(a).place(this[0],c)._stash(this)},query:function(a){if(!a)return this;var c=new q;this.map(function(b){k(a,b).forEach(function(a){void 0!==a&&c.push(a)})});return c._stash(this)},filter:function(a){var c=arguments,b=this,d=0;if("string"==typeof a){b=k._filterResult(this,c[0]);if(1==c.length)return b._stash(this);d=1}return this._wrap(g.filter(b,c[d],c[d+1]),this)},addContent:function(a,c){for(var a=
this._normalize(a,this[0]),b=0,d;d=this[b];b++)this._place(a,d,c,0<b);return this}});return q})},"dijit/form/Select":function(){require({cache:{"url:dijit/form/templates/Select.html":'<table class="dijit dijitReset dijitInline dijitLeft"\n\tdata-dojo-attach-point="_buttonNode,tableNode,focusNode" cellspacing=\'0\' cellpadding=\'0\'\n\trole="listbox" aria-haspopup="true"\n\t><tbody role="presentation"><tr role="presentation"\n\t\t><td class="dijitReset dijitStretch dijitButtonContents" role="presentation"\n\t\t\t><div class="dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point="containerNode,_popupStateNode" role="presentation"></div\n\t\t\t><div class="dijitReset dijitValidationContainer"\n\t\t\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t\t/></div\n\t\t\t><input type="hidden" ${!nameAttrSetting} data-dojo-attach-point="valueNode" value="${value}" aria-hidden="true"\n\t\t/></td\n\t\t><td class="dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\n\t\t\tdata-dojo-attach-point="titleNode" role="presentation"\n\t\t\t><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/></td\n\t></tr></tbody\n></table>\n'}});
define("dijit/form/Select","dojo/_base/array,dojo/_base/declare,dojo/dom-attr,dojo/dom-class,dojo/dom-geometry,dojo/_base/event,dojo/i18n,dojo/_base/lang,dojo/sniff,./_FormSelectWidget,../_HasDropDown,../Menu,../MenuItem,../MenuSeparator,../Tooltip,dojo/text!./templates/Select.html,dojo/i18n!./nls/validate".split(","),function(f,k,g,b,e,i,d,h,l,j,n,o,q,c,a,m){var r=k("dijit.form._SelectMenu",o,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);var a=this.menuTableNode=this.domNode,
c=this.domNode=this.ownerDocument.createElement("div");c.style.cssText="overflow-x: hidden; overflow-y: scroll";a.parentNode&&a.parentNode.replaceChild(c,a);b.remove(a,"dijitMenuTable");c.className=a.className+" dijitSelectMenu";a.className="dijitReset dijitMenuTable";a.setAttribute("role","listbox");c.setAttribute("role","presentation");c.appendChild(a)},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onselectstart",i.stop)},focus:function(){var a=!1,c=this.parentWidget.value;
h.isArray(c)&&(c=c[c.length-1]);c&&f.forEach(this.parentWidget._getChildren(),function(b){b.option&&c===b.option.value&&(a=!0,this.focusChild(b,!1))},this);a||this.inherited(arguments)},resize:function(a){if(a&&(e.setMarginBox(this.domNode,a),"w"in a))this.menuTableNode.style.width="100%"}}),k=k("dijit.form.Select",[j,n],{baseClass:"dijitSelect dijitValidationTextBox",templateString:m,_buttonInputDisabled:l("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"&#160;",
_isLoaded:!1,_childrenLoaded:!1,_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var a=this.srcNodeRef.selectedIndex||0;this.value=this.options[0<=a?a:0].value}this.dropDown=new r({id:this.id+"_menu",parentWidget:this});b.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(a){if(!a.value&&!a.label)return new c({ownerDocument:this.ownerDocument});var b=h.hitch(this,"_setValueAttr",a),a=new q({option:a,
label:a.label||this.emptyLabel,onClick:b,ownerDocument:this.ownerDocument,dir:this.dir,disabled:a.disabled||!1});a.focusNode.setAttribute("role","option");return a},_addOptionItem:function(a){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(a))},_getChildren:function(){return!this.dropDown?[]:this.dropDown.getChildren()},_loadChildren:function(a){!0===a?(this.dropDown&&delete this.dropDown.focusedChild,this.options.length?this.inherited(arguments):(f.forEach(this._getChildren(),function(a){a.destroyRecursive()}),
this.dropDown.addChild(new q({ownerDocument:this.ownerDocument,label:this.emptyLabel})))):this._updateSelection();this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(a){this.inherited(arguments);g.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setDisabledAttr:function(a){this.inherited(arguments);
this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setOptionsAttr:function(a){this._isLoaded=!1;this._set("options",a)},_setDisplay:function(a){a=a||this.emptyLabel;this.containerNode.innerHTML='<span role="option" class="dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'">'+a+"</span>"},validate:function(c){c=this.disabled||this.isValid(c);this._set("state",c?"":this._hasBeenBlurred?"Error":
"Incomplete");this.focusNode.setAttribute("aria-invalid",c?"false":"true");var b=c?"":this._missingMsg;b&&this.focused&&this._hasBeenBlurred?a.show(b,this.domNode,this.tooltipPosition,!this.isLeftToRight()):a.hide(this.domNode);this._set("message",b);return c},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);a.hide(this.domNode);this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=
d.getLocalization("dijit.form","validate",this.lang).missingMessage},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onselectstart",i.stop);this.domNode.setAttribute("aria-expanded","false");9>l("ie")&&this.defer(function(){try{var a=domStyle.getComputedStyle(this.domNode);if(a){var c=a.fontFamily;if(c){var b=this.domNode.getElementsByTagName("INPUT");if(b)for(a=0;a<b.length;a++)b[a].style.fontFamily=c}}}catch(d){}})},_setStyleAttr:function(a){this.inherited(arguments);
b.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(a){this._loadChildren(!0);this._isLoaded=!0;a()},closeDropDown:function(){this.inherited(arguments);if(this.dropDown&&this.dropDown.menuTableNode)this.dropDown.menuTableNode.style.width=""},destroy:function(a){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(a),delete this.dropDown);this.inherited(arguments)},_onFocus:function(){this.validate(!0);
this.inherited(arguments)},_onBlur:function(){a.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});k._Menu=r;return k})},"dijit/form/_FormSelectWidget":function(){define("dijit/form/_FormSelectWidget","dojo/_base/array,dojo/_base/Deferred,dojo/aspect,dojo/data/util/sorter,dojo/_base/declare,dojo/dom,dojo/dom-class,dojo/_base/kernel,dojo/_base/lang,dojo/query,dojo/when,dojo/store/util/QueryResults,./_FormValueWidget".split(","),function(f,k,g,b,e,i,d,h,l,j,n,o,q){return e("dijit.form._FormSelectWidget",
q,{multiple:!1,options:null,store:null,query:null,queryOptions:null,labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,onLoadDeferred:null,getOptions:function(c){var a=c,b=this.options||[],d=b.length;if(void 0===a)return b;if(l.isArray(a))return f.map(a,"return this.getOptions(item);",this);l.isObject(c)&&(f.some(this.options,function(c,b){return c===a||c.value&&c.value===a.value?(a=b,!0):!1})||(a=-1));if("string"==typeof a)for(c=0;c<d;c++)if(b[c].value===a){a=c;break}return"number"==
typeof a&&0<=a&&a<d?this.options[a]:null},addOption:function(c){l.isArray(c)||(c=[c]);f.forEach(c,function(a){a&&l.isObject(a)&&this.options.push(a)},this);this._loadChildren()},removeOption:function(c){l.isArray(c)||(c=[c]);c=this.getOptions(c);f.forEach(c,function(a){if(a)this.options=f.filter(this.options,function(c){return c.value!==a.value||c.label!==a.label}),this._removeOptionItem(a)},this);this._loadChildren()},updateOption:function(c){l.isArray(c)||(c=[c]);f.forEach(c,function(a){var c=this.getOptions(a),
b;if(c)for(b in a)c[b]=a[b]},this);this._loadChildren()},setStore:function(c,a,d){var e=this.store,d=d||{};if(e!==c){for(var h;h=this._notifyConnections.pop();)h.remove();if(!c.get&&(l.mixin(c,{_oldAPI:!0,get:function(a){var c=new k;this.fetchItemByIdentity({identity:a,onItem:function(a){c.resolve(a)},onError:function(a){c.reject(a)}});return c.promise},query:function(a,c){var b=new k(function(){d.abort&&d.abort()});b.total=new k;var d=this.fetch(l.mixin({query:a,onBegin:function(a){b.total.resolve(a)},
onComplete:function(a){b.resolve(a)},onError:function(a){b.reject(a)}},c));return new o(b)}}),c.getFeatures()["dojo.data.api.Notification"]))this._notifyConnections=[g.after(c,"onNew",l.hitch(this,"_onNewItem"),!0),g.after(c,"onDelete",l.hitch(this,"_onDeleteItem"),!0),g.after(c,"onSet",l.hitch(this,"_onSetItem"),!0)];this._set("store",c)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();d.query&&(this._set("query",d.query),
this._set("queryOptions",d.queryOptions));if(c)this._loadingStore=!0,this.onLoadDeferred=new k,this._queryRes=c.query(this.query,this.queryOptions),n(this._queryRes,l.hitch(this,function(e){if(this.sortByLabel&&!d.sort&&e.length)if(e[0].getValue)e.sort(b.createSortFunction([{attribute:c.getLabelAttributes(e[0])[0]}],c));else{var h=this.labelAttr;e.sort(function(a,c){return a[h]>c[h]?1:c[h]>a[h]?-1:0})}d.onFetch&&(e=d.onFetch.call(this,e,d));f.forEach(e,function(a){this._addOptionForItem(a)},this);
this._queryRes.observe&&this._queryRes.observe(l.hitch(this,function(a,c,b){c==b?this._onSetItem(a):(-1!=c&&this._onDeleteItem(a),-1!=b&&this._onNewItem(a))}),!0);this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:a);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(e):this._loadChildren();this.onLoadDeferred.resolve(!0);this.onSetStore()}),function(a){console.error("dijit.form.Select: "+a.toString());this.onLoadDeferred.reject(a)});return e},
_setValueAttr:function(c,a){this._onChangeActive||(a=null);if(this._loadingStore)this._pendingValue=c;else{var b=this.getOptions()||[];l.isArray(c)||(c=[c]);f.forEach(c,function(a,d){l.isObject(a)||(a+="");"string"===typeof a&&(c[d]=f.filter(b,function(c){return c.value===a})[0]||{value:"",label:""})},this);c=f.filter(c,function(a){return a&&a.value});if(!this.multiple&&(!c[0]||!c[0].value)&&b.length)c[0]=b[0];f.forEach(b,function(a){a.selected=f.some(c,function(c){return c.value===a.value})});var d=
f.map(c,function(a){return a.value}),e=f.map(c,function(a){return a.label});"undefined"==typeof d||"undefined"==typeof d[0]||(this._setDisplay(this.multiple?e:e[0]),this.inherited(arguments,[this.multiple?d:d[0],a]),this._updateSelection())}},_getDisplayedValueAttr:function(){var c=this.get("value");l.isArray(c)||(c=[c]);c=f.map(this.getOptions(c),function(a){return a&&"label"in a?a.label:a?a.value:null},this);return this.multiple?c:c[0]},_loadChildren:function(){this._loadingStore||(f.forEach(this._getChildren(),
function(c){c.destroyRecursive()}),f.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this._set("value",this._getValueFromOpts());var c=this.value;l.isArray(c)||(c=[c]);c&&c[0]&&f.forEach(this._getChildren(),function(a){var b=f.some(c,function(c){return a.option&&c===a.option.value});d.toggle(a.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),b);a.domNode.setAttribute("aria-selected",b?"true":"false")},this)},_getValueFromOpts:function(){var c=
this.getOptions()||[];if(!this.multiple&&c.length){var a=f.filter(c,function(a){return a.selected})[0];if(a&&a.value)return a.value;c[0].selected=!0;return c[0].value}return this.multiple?f.map(f.filter(c,function(a){return a.selected}),function(a){return a.value})||[]:""},_onNewItem:function(c,a){(!a||!a.parent)&&this._addOptionForItem(c)},_onDeleteItem:function(c){this.removeOption(this.store.getIdentity(c))},_onSetItem:function(c){this.updateOption(this._getOptionObjForItem(c))},_getOptionObjForItem:function(c){var a=
this.store,b=this.labelAttr&&this.labelAttr in c?c[this.labelAttr]:a.getLabel(c);return{value:b?a.getIdentity(c):null,label:b,item:c}},_addOptionForItem:function(c){var a=this.store;a.isItemLoaded&&!a.isItemLoaded(c)?a.loadItem({item:c,onItem:function(a){this._addOptionForItem(a)},scope:this}):this.addOption(this._getOptionObjForItem(c))},constructor:function(c){this._oValue=(c||{}).value||null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);i.setSelectable(this.focusNode,
!1)},_fillContent:function(){if(!this.options)this.options=this.srcNodeRef?j("> *",this.srcNodeRef).map(function(c){return"separator"===c.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:c.getAttribute("data-"+h._scopeName+"-value")||c.getAttribute("value"),label:""+c.innerHTML,selected:c.getAttribute("selected")||!1,disabled:c.getAttribute("disabled")||!1}},this):[];this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",
this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);this.connect(this,"onChange","_updateSelection");var c=this.store;if(c&&(c.getIdentity||c.getFeatures()["dojo.data.api.Identity"]))this.store=null,this.setStore(c,this._oValue)},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var c;c=this._notifyConnections.pop();)c.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close();this.inherited(arguments)},_addOptionItem:function(){},
_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},_getSelectedOptionsAttr:function(){return this.getOptions(this.get("value"))},_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"dojo/data/util/sorter":function(){define("dojo/data/util/sorter",["../../_base/lang"],function(f){var k={};f.setObject("dojo.data.util.sorter",k);k.basicComparator=function(f,b){var e=-1;null===f&&(f=void 0);null===b&&(b=void 0);if(f==b)e=0;else if(f>b||null==f)e=1;return e};
k.createSortFunction=function(f,b){function e(b,c,a,d){return function(e,h){var f=d.getValue(e,b),j=d.getValue(h,b);return c*a(f,j)}}for(var i=[],d,h=b.comparatorMap,l=k.basicComparator,j=0;j<f.length;j++){d=f[j];var n=d.attribute;if(n){d=d.descending?-1:1;var o=l;h&&("string"!==typeof n&&"toString"in n&&(n=n.toString()),o=h[n]||l);i.push(e(n,d,o,b))}}return function(b,c){for(var a=0;a<i.length;){var d=i[a++](b,c);if(0!==d)return d}return 0}};return k})},"dijit/_HasDropDown":function(){define("dijit/_HasDropDown",
"dojo/_base/declare,dojo/_base/Deferred,dojo/_base/event,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/has,dojo/keys,dojo/_base/lang,dojo/on,dojo/window,./registry,./focus,./popup,./_FocusMixin".split(","),function(f,k,g,b,e,i,d,h,l,j,n,o,q,c,a,m,r){return f("dijit._HasDropDown",r,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){if(!this.disabled&&
!this.readOnly)a.preventDefault(),this._docHandler=this.connect(this.ownerDocument,"mouseup","_onDropDownMouseUp"),this.toggleDropDown()},_onDropDownMouseUp:function(a){a&&this._docHandler&&this.disconnect(this._docHandler);var b=this.dropDown,e=!1;if(a&&this._opened){var m=d.position(this._buttonNode,!0);if(!(a.pageX>=m.x&&a.pageX<=m.x+m.w)||!(a.pageY>=m.y&&a.pageY<=m.y+m.h)){for(m=a.target;m&&!e;)i.contains(m,"dijitPopup")?e=!0:m=m.parentNode;if(e){m=a.target;if(b.onItemClick){for(var h;m&&!(h=
c.byNode(m));)m=m.parentNode;if(h&&h.onClick&&h.getParent)h.getParent().onItemClick(h,a)}return}}}if(this._opened){if(b.focus&&!1!==b.autoFocus)this._focusDropDownTimer=this.defer(function(){b.focus();delete this._focusDropDownTimer})}else this.defer("focus");if(l("ios"))this._justGotMouseUp=!0,this.defer(function(){this._justGotMouseUp=!1})},_onDropDownClick:function(a){l("touch")&&!this._justGotMouseUp&&(this._onDropDownMouseDown(a),this._onDropDownMouseUp(a));this._stopClickEvents&&g.stop(a)},
buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";i.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);
this.own(o(this._buttonNode,"mousedown",n.hitch(this,"_onDropDownMouseDown")),o(this._buttonNode,"click",n.hitch(this,"_onDropDownClick")),o(this.focusNode,"keydown",n.hitch(this,"_onKey")),o(this.focusNode,"keyup",n.hitch(this,"_onKeyUp")))},destroy:function(){this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&!this.readOnly){var c=this.dropDown,b=a.target;if(c&&this._opened&&c.handleKey&&
!1===c.handleKey(a))g.stop(a);else if(c&&this._opened&&a.keyCode==j.ESCAPE)this.closeDropDown(),g.stop(a);else if(!this._opened&&(a.keyCode==j.DOWN_ARROW||(a.keyCode==j.ENTER||a.keyCode==dojo.keys.SPACE)&&("input"!==(b.tagName||"").toLowerCase()||b.type&&"text"!==b.type.toLowerCase())))this._toggleOnKeyUp=!0,g.stop(a)}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(n.hitch(a,"focus"),1)}},_onBlur:function(){this.closeDropDown(a.curNode&&
this.dropDown&&b.isDescendant(a.curNode,this.dropDown.domNode));this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=new k,c=n.hitch(this,function(){this.openDropDown();a.resolve(this.dropDown)});this.isLoaded()?c():this.loadDropDown(c);return a},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown():this.loadAndOpenDropDown())},openDropDown:function(){var a=this.dropDown,c=a.domNode,b=this._aroundNode||
this.domNode,f=this;if(!this._preparedNode){this._preparedNode=!0;if(c.style.width)this._explicitDDWidth=!0;if(c.style.height)this._explicitDDHeight=!0}if(this.maxHeight||this.forceWidth||this.autoWidth){var r={display:"",visibility:"hidden"};if(!this._explicitDDWidth)r.width="";if(!this._explicitDDHeight)r.height="";h.set(c,r);r=this.maxHeight;if(-1==r)var r=q.getBox(this.ownerDocument),j=d.position(b,!1),r=Math.floor(Math.max(j.y,r.h-(j.y+j.h)));m.moveOffScreen(a);a.startup&&!a._started&&a.startup();
var j=d.getMarginSize(c),o=r&&j.h>r;h.set(c,{overflowX:"visible",overflowY:o?"auto":"visible"});o?(j.h=r,"w"in j&&(j.w+=16)):delete j.h;this.forceWidth?j.w=b.offsetWidth:this.autoWidth?j.w=Math.max(j.w,b.offsetWidth):delete j.w;n.isFunction(a.resize)?a.resize(j):d.setMarginBox(c,j)}a=m.open({parent:this,popup:a,around:b,orient:this.dropDownPosition,onExecute:function(){f.closeDropDown(!0)},onCancel:function(){f.closeDropDown(!0)},onClose:function(){e.set(f._popupStateNode,"popupActive",!1);i.remove(f._popupStateNode,
"dijitHasDropDownOpen");f._set("_opened",!1)}});e.set(this._popupStateNode,"popupActive","true");i.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this.domNode.setAttribute("aria-expanded","true");return a},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);if(this._opened)this.domNode.setAttribute("aria-expanded","false"),a&&this.focus(),m.close(this.dropDown),this._opened=!1}})})},"dijit/popup":function(){define("dijit/popup",
"dojo/_base/array,dojo/aspect,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/on,dojo/sniff,./place,./BackgroundIframe,./main".split(","),function(f,k,g,b,e,i,d,h,l,j,n,o,q,c,a,m,r){function v(){this._popupWrapper&&(d.destroy(this._popupWrapper),delete this._popupWrapper)}b=b(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_createWrapper:function(a){var c=a._popupWrapper,b=a.domNode;if(!c)c=
d.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},a.ownerDocumentBody),c.appendChild(b),b=b.style,b.display="",b.visibility="",b.position="",b.top="0px",a._popupWrapper=c,k.after(a,"destroy",v,!0);return c},moveOffScreen:function(a){a=this._createWrapper(a);l.set(a,{visibility:"hidden",top:"-9999px",display:""})},hide:function(a){a=this._createWrapper(a);l.set(a,"display","none")},getTopPopup:function(){for(var a=this._stack,c=a.length-1;0<c&&a[c].parent===a[c-1].widget;c--);
return a[c]},open:function(b){for(var d=this._stack,f=b.popup,r=b.orient||["below","below-alt","above","above-alt"],l=b.parent?b.parent.isLeftToRight():h.isBodyLtr(f.ownerDocument),k=b.around,v=b.around&&b.around.id?b.around.id+"_dropdown":"popup_"+this._idGen++;d.length&&(!b.parent||!e.isDescendant(b.parent.domNode,d[d.length-1].widget.domNode));)this.close(d[d.length-1].widget);var x=this._createWrapper(f);i.set(x,{id:v,style:{zIndex:this._beginZIndex+d.length},"class":"dijitPopup "+(f.baseClass||
f["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:b.parent?b.parent.id:""});if((c("ie")||c("mozilla"))&&!f.bgIframe)f.bgIframe=new m(x);r=k?a.around(x,k,r,l,f.orient?o.hitch(f,"orient"):null):a.at(x,b,"R"==r?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],b.padding);x.style.display="";x.style.visibility="visible";f.domNode.style.visibility="visible";l=[];l.push(q(x,g._keypress,o.hitch(this,function(a){if(a.charOrCode==n.ESCAPE&&b.onCancel)j.stop(a),b.onCancel();else if(a.charOrCode===n.TAB&&(j.stop(a),
(a=this.getTopPopup())&&a.onCancel))a.onCancel()})));f.onCancel&&b.onCancel&&l.push(f.on("cancel",b.onCancel));l.push(f.on(f.onExecute?"execute":"change",o.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));d.push({widget:f,parent:b.parent,onExecute:b.onExecute,onCancel:b.onCancel,onClose:b.onClose,handlers:l});if(f.onOpen)f.onOpen(r);return r},close:function(a){for(var b=this._stack;a&&f.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=b.pop(),d=c.widget,
e=c.onClose;if(d.onClose)d.onClose();for(var m;m=c.handlers.pop();)m.remove();d&&d.domNode&&this.hide(d);e&&e()}}});return r.popup=new b})},"dijit/place":function(){define("dijit/place","dojo/_base/array,dojo/dom-geometry,dojo/dom-style,dojo/_base/kernel,dojo/_base/window,dojo/window,./main".split(","),function(f,k,g,b,e,i,d){function h(b,d,h,o){var g=i.getBox(b.ownerDocument);(!b.parentNode||"body"!=(""+b.parentNode.tagName).toLowerCase())&&e.body(b.ownerDocument).appendChild(b);var c=null;f.some(d,
function(a){var d=a.corner,e=a.pos,f=0,j={w:{L:g.l+g.w-e.x,R:e.x-g.l,M:g.w}[d.charAt(1)],h:{T:g.t+g.h-e.y,B:e.y-g.t,M:g.h}[d.charAt(0)]},i=b.style;i.left=i.right="auto";h&&(f=h(b,a.aroundCorner,d,j,o),f="undefined"==typeof f?0:f);var p=b.style,w=p.display,s=p.visibility;if("none"==p.display)p.visibility="hidden",p.display="";i=k.position(b);p.display=w;p.visibility=s;w={L:e.x,R:e.x-i.w,M:Math.max(g.l,Math.min(g.l+g.w,e.x+(i.w>>1))-i.w)}[d.charAt(1)];s={T:e.y,B:e.y-i.h,M:Math.max(g.t,Math.min(g.t+
g.h,e.y+(i.h>>1))-i.h)}[d.charAt(0)];e=Math.max(g.l,w);p=Math.max(g.t,s);w=Math.min(g.l+g.w,w+i.w);s=Math.min(g.t+g.h,s+i.h);w-=e;s-=p;f+=i.w-w+(i.h-s);if(null==c||f<c.overflow)c={corner:d,aroundCorner:a.aroundCorner,x:e,y:p,w:w,h:s,overflow:f,spaceAvailable:j};return!f});c.overflow&&h&&h(b,c.aroundCorner,c.corner,c.spaceAvailable,o);var d=k.isBodyLtr(b.ownerDocument),a=b.style;a.top=c.y+"px";a[d?"left":"right"]=(d?c.x:g.w-c.x-c.w)+"px";a[d?"right":"left"]="auto";return c}return d.place={at:function(b,
d,e,g){e=f.map(e,function(b){var c={corner:b,pos:{x:d.x,y:d.y}};g&&(c.pos.x+="L"==b.charAt(1)?g.x:-g.x,c.pos.y+="T"==b.charAt(0)?g.y:-g.y);return c});return h(b,e)},around:function(d,e,i,o,q){function c(a,b){A.push({aroundCorner:a,corner:b,pos:{x:{L:t,R:t+w,M:t+(w>>1)}[a.charAt(1)],y:{T:p,B:p+s,M:p+(s>>1)}[a.charAt(0)]}})}var a="string"==typeof e||"offsetWidth"in e?k.position(e,!0):e;if(e.parentNode)for(var m="absolute"==g.getComputedStyle(e).position,e=e.parentNode;e&&1==e.nodeType&&"BODY"!=e.nodeName;){var r=
k.position(e,!0),v=g.getComputedStyle(e);/relative|absolute/.test(v.position)&&(m=!1);if(!m&&/hidden|auto|scroll/.test(v.overflow)){var B=Math.min(a.y+a.h,r.y+r.h),u=Math.min(a.x+a.w,r.x+r.w);a.x=Math.max(a.x,r.x);a.y=Math.max(a.y,r.y);a.h=B-a.y;a.w=u-a.x}"absolute"==v.position&&(m=!0);e=e.parentNode}var t=a.x,p=a.y,w="w"in a?a.w:a.w=a.width,s="h"in a?a.h:(b.deprecated("place.around: dijit/place.__Rectangle: { x:"+t+", y:"+p+", height:"+a.height+", width:"+w+" } has been deprecated.  Please use { x:"+
t+", y:"+p+", h:"+a.height+", w:"+w+" }","","2.0"),a.h=a.height),A=[];f.forEach(i,function(a){var b=o;switch(a){case "above-centered":c("TM","BM");break;case "below-centered":c("BM","TM");break;case "after-centered":b=!b;case "before-centered":c(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":c(b?"TL":"TR",b?"TR":"TL");c(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":c(b?"BL":"BR",b?"TL":"TR");c(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":c(b?
"TL":"TR",b?"BL":"BR");c(b?"TR":"TL",b?"BR":"BL");break;default:c(a.aroundCorner,a.corner)}});d=h(d,A,q,{w:w,h:s});d.aroundNodePos=a;return d}}})},"dijit/BackgroundIframe":function(){define("dijit/BackgroundIframe","require,./main,dojo/_base/config,dojo/dom-construct,dojo/dom-style,dojo/_base/lang,dojo/on,dojo/sniff,dojo/_base/window".split(","),function(f,k,g,b,e,i,d,h,l){var j=new function(){var d=[];this.pop=function(){var j;d.length?(j=d.pop(),j.style.display=""):(9>h("ie")?(j="<iframe src='"+
(g.dojoBlankHtmlUrl||f.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role='presentation' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>",j=l.doc.createElement(j)):(j=b.create("iframe"),j.src='javascript:""',j.className="dijitBackgroundIframe",j.setAttribute("role","presentation"),e.set(j,"opacity",0.1)),j.tabIndex=-1);return j};this.push=function(b){b.style.display="none";d.push(b)}};k.BackgroundIframe=function(b){if(!b.id)throw Error("no id");
if(h("ie")||h("mozilla")){var f=this.iframe=j.pop();b.appendChild(f);7>h("ie")?(this.resize(b),this._conn=d(b,"resize",i.hitch(this,function(){this.resize(b)}))):e.set(f,{width:"100%",height:"100%"})}};i.extend(k.BackgroundIframe,{resize:function(b){this.iframe&&e.set(this.iframe,{width:b.offsetWidth+"px",height:b.offsetHeight+"px"})},destroy:function(){if(this._conn)this._conn.remove(),this._conn=null;this.iframe&&(j.push(this.iframe),delete this.iframe)}});return k.BackgroundIframe})},"dijit/Menu":function(){define("dijit/Menu",
"require,dojo/_base/array,dojo/_base/declare,dojo/_base/event,dojo/dom,dojo/dom-attr,dojo/dom-geometry,dojo/dom-style,dojo/keys,dojo/_base/lang,dojo/on,dojo/sniff,dojo/_base/window,dojo/window,./popup,./DropDownMenu,dojo/ready".split(","),function(f,k,g,b,e,i,d,h,l,j,n,o,q,c,a,m){return g("dijit.Menu",m,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):
k.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return c.get(this._iframeContentDocument(a))||this._iframeContentDocument(a).__parent__||a.name&&q.doc.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&q.doc.frames[a.name]&&q.doc.frames[a.name].document||null},bindDomNode:function(a){var a=e.byId(a,this.ownerDocument),c;if("iframe"==a.tagName.toLowerCase()){var d=
a,f=this._iframeContentWindow(d);c=q.body(f.document)}else c=a==q.body(this.ownerDocument)?this.ownerDocument.documentElement:a;var m={node:a,iframe:d};i.set(a,"_dijitMenu"+this.id,this._bindings.push(m));var h=j.hitch(this,function(a){var c=this.selector,e=c?function(a){return n.selector(c,a)}:function(a){return a},f=this;return[n(a,e(this.leftClickToOpen?"click":"contextmenu"),function(a){b.stop(a);f._scheduleOpen(this,d,{x:a.pageX,y:a.pageY})}),n(a,e("keydown"),function(a){a.shiftKey&&a.keyCode==
l.F10&&(b.stop(a),f._scheduleOpen(this,d))})]});m.connects=c?h(c):[];if(d)m.onloadHandler=j.hitch(this,function(){var a=this._iframeContentWindow(d);c=q.body(a.document);m.connects=h(c)}),d.addEventListener?d.addEventListener("load",m.onloadHandler,!1):d.attachEvent("onload",m.onloadHandler)},unBindDomNode:function(a){var b;try{b=e.byId(a,this.ownerDocument)}catch(c){return}a="_dijitMenu"+this.id;if(b&&i.has(b,a)){for(var d=i.get(b,a)-1,f=this._bindings[d],m;m=f.connects.pop();)m.remove();(m=f.iframe)&&
(m.removeEventListener?m.removeEventListener("load",f.onloadHandler,!1):m.detachEvent("onload",f.onloadHandler));i.remove(b,a);delete this._bindings[d]}},_scheduleOpen:function(a,b,c){if(!this._openTimer)this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:a,iframe:b,coords:c})},1)},_openMyself:function(b){function c(){l.refocus&&n&&n.focus();a.close(l)}var f=b.target,m=b.iframe,b=b.coords;this.currentTarget=f;if(b){if(m){var f=d.position(m,!0),j=this._iframeContentWindow(m),
j=d.docScroll(j.document),g=h.getComputedStyle(m),i=h.toPixelValue,k=(o("ie"),i(m,g.paddingLeft))+(o("ie"),0),m=(o("ie"),i(m,g.paddingTop))+(o("ie"),0);b.x+=f.x+k-j.x;b.y+=f.y+m-j.y}}else b=d.position(f,!0),b.x+=10,b.y+=10;var l=this,m=this._focusManager.get("prevNode"),f=this._focusManager.get("curNode"),n=!f||e.isDescendant(f,this.domNode)?m:f;a.open({popup:this,x:b.x,y:b.y,onExecute:c,onCancel:c,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",
arguments);a.close(this)}},destroy:function(){k.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"dijit/DropDownMenu":function(){require({cache:{"url:dijit/templates/Menu.html":'<table class="dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role="menu" tabIndex="${tabIndex}"\n\t   data-dojo-attach-event="onkeypress:_onKeyPress" cellspacing="0">\n\t<tbody class="dijitReset" data-dojo-attach-point="containerNode"></tbody>\n</table>\n'}});
define("dijit/DropDownMenu","dojo/_base/declare,dojo/_base/event,dojo/keys,dojo/text!./templates/Menu.html,./_OnDijitClickMixin,./_MenuBase".split(","),function(f,k,g,b,e,i){return f("dijit.DropDownMenu",[i,e],{templateString:b,baseClass:"dijitMenu",postCreate:function(){this.inherited(arguments);var b=this.isLeftToRight();this._openSubMenuKey=b?g.RIGHT_ARROW:g.LEFT_ARROW;this._closeSubMenuKey=b?g.LEFT_ARROW:g.RIGHT_ARROW;this.connectKeyNavHandlers([g.UP_ARROW],[g.DOWN_ARROW])},_onKeyPress:function(b){if(!b.ctrlKey&&
!b.altKey)switch(b.charOrCode){case this._openSubMenuKey:this._moveToPopup(b);k.stop(b);break;case this._closeSubMenuKey:if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else k.stop(b)}}})})},"url:dijit/templates/Menu.html":'<table class="dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role="menu" tabIndex="${tabIndex}"\n\t   data-dojo-attach-event="onkeypress:_onKeyPress" cellspacing="0">\n\t<tbody class="dijitReset" data-dojo-attach-point="containerNode"></tbody>\n</table>\n',
"dijit/_MenuBase":function(){define("dijit/_MenuBase","dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/_base/lang,dojo/mouse,dojo/on,dojo/window,./a11yclick,./popup,./registry,./_Widget,./_KeyNavContainer,./_TemplatedMixin".split(","),function(f,k,g,b,e,i,d,h,l,j,n,o,q,c,a){return k("dijit._MenuBase",[q,a,c],{parentMenu:null,popupDelay:500,autoFocus:!1,postCreate:function(){var a=this,b=function(a){return e.contains(a,"dijitMenuItem")};this.own(h(this.containerNode,
h.selector(b,d.enter),function(){a.onItemHover(o.byNode(this))}),h(this.containerNode,h.selector(b,d.leave),function(){a.onItemUnhover(o.byNode(this))}),h(this.containerNode,h.selector(b,j),function(b){a.onItemClick(o.byNode(this),b);b.stopPropagation();b.preventDefault()}));this.inherited(arguments)},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,a);else(a=this._getTopMenu())&&
a._isMenuBar&&a.focusNext()},_onPopupHover:function(){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var a=this.currentPopup.parentMenu;a.focusedChild&&a.focusedChild._setSelected(!1);a.focusedChild=this.currentPopup.from_item;a.focusedChild._setSelected(!0);this._stopPendingCloseTimer(this.currentPopup)}},onItemHover:function(a){if(this.isActive&&(this.focusChild(a),this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer))this.hover_timer=this.defer("_openPopup",this.popupDelay);
this.focusedChild&&this.focusChild(a);this._hoveredChild=a;a._set("hovering",!0)},_onChildBlur:function(a){this._stopPopupTimer();a._setSelected(!1);var b=a.popup;if(b)this._stopPendingCloseTimer(b),b._pendingClose_timer=this.defer(function(){b._pendingClose_timer=null;if(b.parentMenu)b.parentMenu.currentPopup=null;n.close(b)},this.popupDelay)},onItemUnhover:function(a){this.isActive&&this._stopPopupTimer();if(this._hoveredChild==a)this._hoveredChild=null;a._set("hovering",!1)},_stopPopupTimer:function(){if(this.hover_timer)this.hover_timer=
this.hover_timer.remove()},_stopPendingCloseTimer:function(a){if(a._pendingClose_timer)a._pendingClose_timer=a._pendingClose_timer.remove()},_stopFocusTimer:function(){if(this._focus_timer)this._focus_timer=this._focus_timer.remove()},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,b){"undefined"==typeof this.isShowingNow&&this._markActive();this.focusChild(a);if(a.disabled)return!1;a.popup?this._openPopup("keypress"==b.type):(this.onExecute(),a._onClick?
a._onClick(b):a.onClick(b))},_openPopup:function(a){this._stopPopupTimer();var b=this.focusedChild;if(b){var c=b.popup;if(!c.isShowingNow){this.currentPopup&&(this._stopPendingCloseTimer(this.currentPopup),n.close(this.currentPopup));c.parentMenu=this;c.from_item=b;var d=this;n.open({parent:this,popup:c,around:b.domNode,orient:this._orient||["after","before"],onCancel:function(){d.focusChild(b);d._cleanUp();b._setSelected(!0);d.focusedChild=b},onExecute:i.hitch(this,"_cleanUp")});this.currentPopup=
c;c.connect(c.domNode,"onmouseenter",i.hitch(d,"_onPopupHover"))}if(a&&c.focus)c._focus_timer=this.defer(i.hitch(c,function(){this._focus_timer=null;this.focus()}))}},_markActive:function(){this.isActive=!0;e.replace(this.domNode,"dijitMenuActive","dijitMenuPassive")},onOpen:function(){this.isShowingNow=!0;this._markActive()},_markInactive:function(){this.isActive=!1;e.replace(this.domNode,"dijitMenuPassive","dijitMenuActive")},onClose:function(){this._stopFocusTimer();this._markInactive();this.isShowingNow=
!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();if(this.currentPopup)0<=f.indexOf(this._focusManager.activeStack,this.id)&&(b.set(this.focusedChild.focusNode,"tabIndex",this.tabIndex),this.focusedChild.focusNode.focus()),n.close(this.currentPopup),this.currentPopup=null;if(this.focusedChild)this.focusedChild._setSelected(!1),this.onItemUnhover(this.focusedChild),this.focusedChild=null},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild)},
_onBlur:function(){this._cleanUp();this.inherited(arguments)},_cleanUp:function(){this._closeChild();"undefined"==typeof this.isShowingNow&&this._markInactive()}})})},"dijit/_KeyNavContainer":function(){define("dijit/_KeyNavContainer","dojo/_base/kernel,./_Container,./_FocusMixin,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/_base/event,dojo/dom-attr,dojo/_base/lang".split(","),function(f,k,g,b,e,i,d,h,l){return i("dijit._KeyNavContainer",[g,k],{tabIndex:"0",connectKeyNavHandlers:function(d,
f){var h=this._keyNavCodes={},g=l.hitch(this,"focusPrev"),c=l.hitch(this,"focusNext");b.forEach(d,function(a){h[a]=g});b.forEach(f,function(a){h[a]=c});h[e.HOME]=l.hitch(this,"focusFirstChild");h[e.END]=l.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus")},startupKeyNavChildren:function(){f.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);
b.forEach(this.getChildren(),l.hitch(this,"_startupChild"))},addChild:function(b,d){this.inherited(arguments);this._startupChild(b)},focus:function(){this.focusFirstChild()},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},
focusChild:function(b,d){b&&(this.focusedChild&&b!==this.focusedChild&&this._onChildBlur(this.focusedChild),b.set("tabIndex",this.tabIndex),b.focus(d?"end":"start"),this._set("focusedChild",b))},_startupChild:function(b){b.set("tabIndex","-1");this.connect(b,"_onFocus",function(){b.set("tabIndex",this.tabIndex)});this.connect(b,"_onBlur",function(){b.set("tabIndex","-1")})},_onContainerFocus:function(b){b.target!==this.domNode||this.focusedChild||(this.focusFirstChild(),h.set(this.domNode,"tabIndex",
"-1"))},_onBlur:function(b){this.tabIndex&&h.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild=null;this.inherited(arguments)},_onContainerKeypress:function(b){if(!b.ctrlKey&&!b.altKey){var e=this._keyNavCodes[b.charOrCode];e&&(e(),d.stop(b))}},_onChildBlur:function(){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},_getNextFocusableChild:function(b,d){b&&(b=this._getSiblingOfChild(b,
d));for(var e=this.getChildren(),f=0;f<e.length;f++){b||(b=e[0<d?0:e.length-1]);if(b.isFocusable())return b;b=this._getSiblingOfChild(b,d)}return null}})})},"dijit/MenuItem":function(){require({cache:{"url:dijit/templates/MenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1">\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n\t\t<img src="${_blankGif}" alt="" class="dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"/>\n\t</td>\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">\n\t\t<div data-dojo-attach-point="arrowWrapper" style="visibility: hidden">\n\t\t\t<img src="${_blankGif}" alt="" class="dijitMenuExpand"/>\n\t\t\t<span class="dijitMenuExpandA11y">+</span>\n\t\t</div>\n\t</td>\n</tr>\n'}});
define("dijit/MenuItem","dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/_base/kernel,dojo/sniff,./_Widget,./_TemplatedMixin,./_Contained,./_CssStateMixin,dojo/text!./templates/MenuItem.html".split(","),function(f,k,g,b,e,i,d,h,l,j,n){return f("dijit.MenuItem",[d,h,l,j],{templateString:n,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(b){this.containerNode.innerHTML=b;this._set("label",b);"auto"===this.textDir&&this.applyTextDir(this.focusNode,this.label)},iconClass:"dijitNoIcon",
_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(b){b&&!("label"in this.params)&&this.set("label",b.innerHTML)},buildRendering:function(){this.inherited(arguments);var b=this.id+"_text";g.set(this.containerNode,"id",b);this.accelKeyNode&&(g.set(this.accelKeyNode,"id",this.id+"_accel"),b+=" "+this.id+"_accel");this.domNode.setAttribute("aria-labelledby",b);k.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==i("ie")&&this.containerNode.focus(),
this.focusNode.focus()}catch(b){}},_onFocus:function(){this._setSelected(!0);this.getParent()._onItemFocus(this);this.inherited(arguments)},_setSelected:function(d){b.toggle(this.domNode,"dijitMenuItemSelected",d)},setLabel:function(b){e.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",b)},setDisabled:function(b){e.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",b)},
_setDisabledAttr:function(b){this.focusNode.setAttribute("aria-disabled",b?"true":"false");this._set("disabled",b)},_setAccelKeyAttr:function(b){this.accelKeyNode.style.display=b?"":"none";this.accelKeyNode.innerHTML=b;g.set(this.containerNode,"colSpan",b?"1":"2");this._set("accelKey",b)},_setTextDirAttr:function(b){if(!this._created||this.textDir!=b)this._set("textDir",b),this.applyTextDir(this.focusNode,this.label)}})})},"dijit/_Contained":function(){define("dijit/_Contained",["dojo/_base/declare",
"./registry"],function(f,k){return f("dijit._Contained",null,{_getSibling:function(f){var b=this.domNode;do b=b[f+"Sibling"];while(b&&1!=b.nodeType);return b&&k.byNode(b)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var f=this.getParent();return!f||!f.getIndexOfChild?-1:f.getIndexOfChild(this)}})})},"url:dijit/templates/MenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1">\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n\t\t<img src="${_blankGif}" alt="" class="dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"/>\n\t</td>\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">\n\t\t<div data-dojo-attach-point="arrowWrapper" style="visibility: hidden">\n\t\t\t<img src="${_blankGif}" alt="" class="dijitMenuExpand"/>\n\t\t\t<span class="dijitMenuExpandA11y">+</span>\n\t\t</div>\n\t</td>\n</tr>\n',
"dijit/MenuSeparator":function(){require({cache:{"url:dijit/templates/MenuSeparator.html":'<tr class="dijitMenuSeparator">\n\t<td class="dijitMenuSeparatorIconCell">\n\t\t<div class="dijitMenuSeparatorTop"></div>\n\t\t<div class="dijitMenuSeparatorBottom"></div>\n\t</td>\n\t<td colspan="3" class="dijitMenuSeparatorLabelCell">\n\t\t<div class="dijitMenuSeparatorTop dijitMenuSeparatorLabel"></div>\n\t\t<div class="dijitMenuSeparatorBottom"></div>\n\t</td>\n</tr>'}});define("dijit/MenuSeparator","dojo/_base/declare,dojo/dom,./_WidgetBase,./_TemplatedMixin,./_Contained,dojo/text!./templates/MenuSeparator.html".split(","),
function(f,k,g,b,e,i){return f("dijit.MenuSeparator",[g,b,e],{templateString:i,buildRendering:function(){this.inherited(arguments);k.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"url:dijit/templates/MenuSeparator.html":'<tr class="dijitMenuSeparator">\n\t<td class="dijitMenuSeparatorIconCell">\n\t\t<div class="dijitMenuSeparatorTop"></div>\n\t\t<div class="dijitMenuSeparatorBottom"></div>\n\t</td>\n\t<td colspan="3" class="dijitMenuSeparatorLabelCell">\n\t\t<div class="dijitMenuSeparatorTop dijitMenuSeparatorLabel"></div>\n\t\t<div class="dijitMenuSeparatorBottom"></div>\n\t</td>\n</tr>',
"dijit/Tooltip":function(){require({cache:{"url:dijit/templates/Tooltip.html":'<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip"\n\t><div class="dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point="containerNode" role=\'alert\'></div\n\t><div class="dijitTooltipConnector" data-dojo-attach-point="connectorNode"></div\n></div>\n'}});define("dijit/Tooltip","dojo/_base/array,dojo/_base/declare,dojo/_base/fx,dojo/dom,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,dojo/mouse,dojo/on,dojo/sniff,./_base/manager,./place,./_Widget,./_TemplatedMixin,./BackgroundIframe,dojo/text!./templates/Tooltip.html,./main".split(","),
function(f,k,g,b,e,i,d,h,l,j,n,o,q,c,a,m,r,v){var B=k("dijit._MasterTooltip",[c,a],{duration:o.defaultDuration,templateString:r,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new m(this.domNode);this.fadeIn=g.fadeIn({node:this.domNode,duration:this.duration,onEnd:h.hitch(this,"_onShow")});this.fadeOut=g.fadeOut({node:this.domNode,duration:this.duration,onEnd:h.hitch(this,"_onHide")})},show:function(a,b,c,e,f){if(!this.aroundNode||!(this.aroundNode===b&&this.containerNode.innerHTML==
a))if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=a;f&&this.set("textDir",f);this.containerNode.align=e?"right":"left";var m=q.around(this.domNode,b,c&&c.length?c:u.defaultPosition,!e,h.hitch(this,"orient")),g=m.aroundNodePos;"M"==m.corner.charAt(0)&&"M"==m.aroundCorner.charAt(0)?(this.connectorNode.style.top=g.y+(g.h-this.connectorNode.offsetHeight>>1)-m.y+"px",this.connectorNode.style.left=""):"M"==m.corner.charAt(1)&&"M"==m.aroundCorner.charAt(1)?this.connectorNode.style.left=
g.x+(g.w-this.connectorNode.offsetWidth>>1)-m.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");d.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=b}},orient:function(a,b,c,d,e){this.connectorNode.style.top="";var f=d.h,d=d.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft",
"BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+c];this.domNode.style.width="auto";var h=i.position(this.domNode);9==n("ie")&&(h.w+=2);var m=Math.min(Math.max(d,1),h.w);i.setMarginBox(this.domNode,{w:m});"B"==c.charAt(0)&&"B"==b.charAt(0)?(a=i.position(a),b=this.connectorNode.offsetHeight,a.h>f?(this.connectorNode.style.top=f-(e.h+b>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=
Math.min(Math.max(e.h/2-b/2,0),a.h-b)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,h.w-d)},_onShow:function(){if(n("ie"))this.domNode.style.filter=""},hide:function(a){if(this._onDeck&&this._onDeck[1]==a)this._onDeck=null;else if(this.aroundNode===a)this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play()},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck)this.show.apply(this,
this._onDeck),this._onDeck=null},_setAutoTextDir:function(a){this.applyTextDir(a,n("ie")?a.outerText:a.textContent);f.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",a);"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});v.showTooltip=function(a,b,c,d,e){c&&(c=f.map(c,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));if(!u._masterTT)v._masterTT=u._masterTT=new B;return u._masterTT.show(a,
b,c,d,e)};v.hideTooltip=function(a){return u._masterTT&&u._masterTT.hide(a)};var u=k("dijit.Tooltip",c,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(a){f.forEach(this._connections||[],function(a){f.forEach(a,function(a){a.remove()})},this);this._connectIds=f.filter(h.isArrayLike(a)?a:a?[a]:[],function(a){return b.byId(a,this.ownerDocument)},this);this._connections=f.map(this._connectIds,function(a){var a=b.byId(a,this.ownerDocument),c=this.selector,d=c?function(a){return j.selector(c,
a)}:function(a){return a},e=this;return[j(a,d(l.enter),function(){e._onHover(this)}),j(a,d("focusin"),function(){e._onHover(this)}),j(a,d(l.leave),h.hitch(e,"_onUnHover")),j(a,d("focusout"),h.hitch(e,"_onUnHover"))]},this);this._set("connectId",a)},addTarget:function(a){a=a.id||a;-1==f.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=f.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},
buildRendering:function(){this.inherited(arguments);e.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;f.forEach(h.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(){return this.label||this.domNode.innerHTML},_onHover:function(a){if(!this._showTimer)this._showTimer=this.defer(function(){this.open(a)},this.showDelay)},_onUnHover:function(){this._showTimer&&(this._showTimer.remove(),delete this._showTimer);this.close()},open:function(a){this._showTimer&&
(this._showTimer.remove(),delete this._showTimer);var b=this.getContent(a);if(b)u.show(b,a,this.position,!this.isLeftToRight(),this.textDir),this._connectNode=a,this.onShow(a,this.position)},close:function(){this._connectNode&&(u.hide(this._connectNode),delete this._connectNode,this.onHide());this._showTimer&&(this._showTimer.remove(),delete this._showTimer)},onShow:function(){},onHide:function(){},destroy:function(){this.close();f.forEach(this._connections||[],function(a){f.forEach(a,function(a){a.remove()})},
this);this.inherited(arguments)}});u._MasterTooltip=B;u.show=v.showTooltip;u.hide=v.hideTooltip;u.defaultPosition=["after-centered","before-centered"];return u})},"url:dijit/templates/Tooltip.html":'<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip"\n\t><div class="dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point="containerNode" role=\'alert\'></div\n\t><div class="dijitTooltipConnector" data-dojo-attach-point="connectorNode"></div\n></div>\n',"url:dijit/form/templates/Select.html":'<table class="dijit dijitReset dijitInline dijitLeft"\n\tdata-dojo-attach-point="_buttonNode,tableNode,focusNode" cellspacing=\'0\' cellpadding=\'0\'\n\trole="listbox" aria-haspopup="true"\n\t><tbody role="presentation"><tr role="presentation"\n\t\t><td class="dijitReset dijitStretch dijitButtonContents" role="presentation"\n\t\t\t><div class="dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point="containerNode,_popupStateNode" role="presentation"></div\n\t\t\t><div class="dijitReset dijitValidationContainer"\n\t\t\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t\t/></div\n\t\t\t><input type="hidden" ${!nameAttrSetting} data-dojo-attach-point="valueNode" value="${value}" aria-hidden="true"\n\t\t/></td\n\t\t><td class="dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\n\t\t\tdata-dojo-attach-point="titleNode" role="presentation"\n\t\t\t><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/></td\n\t></tr></tbody\n></table>\n',
"dijit/TitlePane":function(){require({cache:{"url:dijit/templates/TitlePane.html":'<div>\n\t<div data-dojo-attach-event="onclick:_onTitleClick, onkeydown:_onTitleKey"\n\t\t\tclass="dijitTitlePaneTitle" data-dojo-attach-point="titleBarNode">\n\t\t<div class="dijitTitlePaneTitleFocus" data-dojo-attach-point="focusNode">\n\t\t\t<img src="${_blankGif}" alt="" data-dojo-attach-point="arrowNode" class="dijitArrowNode" role="presentation"\n\t\t\t/><span data-dojo-attach-point="arrowNodeInner" class="dijitArrowNodeInner"></span\n\t\t\t><span data-dojo-attach-point="titleNode" class="dijitTitlePaneTextNode"></span>\n\t\t</div>\n\t</div>\n\t<div class="dijitTitlePaneContentOuter" data-dojo-attach-point="hideNode" role="presentation">\n\t\t<div class="dijitReset" data-dojo-attach-point="wipeNode" role="presentation">\n\t\t\t<div class="dijitTitlePaneContentInner" data-dojo-attach-point="containerNode" role="region" id="${id}_pane">\n\t\t\t\t<\!-- nested divs because wipeIn()/wipeOut() doesn\'t work right on node w/padding etc.  Put padding on inner div. --\>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'}});
define("dijit/TitlePane","dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-geometry,dojo/_base/event,dojo/fx,dojo/_base/kernel,dojo/keys,./_CssStateMixin,./_TemplatedMixin,./layout/ContentPane,dojo/text!./templates/TitlePane.html,./_base/manager".split(","),function(f,k,g,b,e,i,d,h,l,j,n,o,q,c,a){return k("dijit.TitlePane",[q,o,n],{title:"",_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!0,toggleable:!0,tabIndex:"0",duration:a.defaultDuration,baseClass:"dijitTitlePane",
templateString:c,doLayout:!1,_setTooltipAttr:{node:"focusNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);g.setSelectable(this.titleNode,!1)},postCreate:function(){this.inherited(arguments);this.toggleable&&this._trackMouseState(this.titleBarNode,"dijitTitlePaneTitle");var a=this.hideNode,b=this.wipeNode;this._wipeIn=h.wipeIn({node:b,duration:this.duration,beforeBegin:function(){a.style.display=""}});this._wipeOut=h.wipeOut({node:b,duration:this.duration,
onEnd:function(){a.style.display="none"}})},_setOpenAttr:function(a,b){f.forEach([this._wipeIn,this._wipeOut],function(a){a&&"playing"==a.status()&&a.stop()});b?this[a?"_wipeIn":"_wipeOut"].play():this.hideNode.style.display=this.wipeNode.style.display=a?"":"none";if(this._started)if(a)this._onShow();else this.onHide();this.containerNode.setAttribute("aria-hidden",a?"false":"true");this.focusNode.setAttribute("aria-pressed",a?"true":"false");this._set("open",a);this._setCss()},_setToggleableAttr:function(a){this.focusNode.setAttribute("role",
a?"button":"heading");a?(this.focusNode.setAttribute("aria-controls",this.id+"_pane"),b.set(this.focusNode,"tabIndex",this.tabIndex)):b.remove(this.focusNode,"tabIndex");this._set("toggleable",a);this._setCss()},_setContentAttr:function(a){!this.open||!this._wipeOut||"playing"==this._wipeOut.status()?this.inherited(arguments):(this._wipeIn&&"playing"==this._wipeIn.status()&&this._wipeIn.stop(),i.setMarginBox(this.wipeNode,{h:i.getMarginBox(this.wipeNode).h}),this.inherited(arguments),this._wipeIn?
this._wipeIn.play():this.hideNode.style.display="")},toggle:function(){this._setOpenAttr(!this.open,!0)},_setCss:function(){var a=this.titleBarNode||this.focusNode,b=this._titleBarClass;this._titleBarClass="dijit"+(this.toggleable?"":"Fixed")+(this.open?"Open":"Closed");e.replace(a,this._titleBarClass,b||"");this.arrowNodeInner.innerHTML=this.open?"-":"+"},_onTitleKey:function(a){a.keyCode==j.ENTER||a.keyCode==j.SPACE?this.toggleable&&(this.toggle(),d.stop(a)):a.keyCode==j.DOWN_ARROW&&this.open&&
(this.containerNode.focus(),a.preventDefault())},_onTitleClick:function(){this.toggleable&&this.toggle()},setTitle:function(a){l.deprecated("dijit.TitlePane.setTitle() is deprecated.  Use set('title', ...) instead.","","2.0");this.set("title",a)}})})},"dojo/fx":function(){define("dojo/fx","./_base/lang,./Evented,./_base/kernel,./_base/array,./_base/connect,./_base/fx,./dom,./dom-style,./dom-geometry,./ready,require".split(","),function(f,k,g,b,e,i,d,h,l,j,n){g.isAsync||j(0,function(){n(["./fx/Toggler"])});
var g=g.fx={},j={_fire:function(b,a){this[b]&&this[b].apply(this,a||[]);return this}},o=function(c){this._index=-1;this._animations=c||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;b.forEach(this._animations,function(a){this.duration+=a.duration;a.delay&&(this.duration+=a.delay)},this)};o.prototype=new k;f.extend(o,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){e.disconnect(this._onAnimateCtx);e.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=
null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=e.connect(this._current,"onAnimate",this,"_onAnimate"),this._onEndCtx=e.connect(this._current,"onEnd",this,"_onEnd"),this._current.play(0,!0))},play:function(b,a){if(!this._current)this._current=this._animations[this._index=0];if(!a&&"playing"==this._current.status())return this;var d=e.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin")}),f=e.connect(this._current,
"onBegin",this,function(a){this._fire("onBegin",arguments)}),h=e.connect(this._current,"onPlay",this,function(a){this._fire("onPlay",arguments);e.disconnect(d);e.disconnect(f);e.disconnect(h)});this._onAnimateCtx&&e.disconnect(this._onAnimateCtx);this._onAnimateCtx=e.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx&&e.disconnect(this._onEndCtx);this._onEndCtx=e.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var b=
e.connect(this._current,"onPause",this,function(a){this._fire("onPause",arguments);e.disconnect(b)});this._current.pause()}return this},gotoPercent:function(c,a){this.pause();var d=this.duration*c;this._current=null;b.some(this._animations,function(a){if(a.duration<=d)return this._current=a,!0;d-=a.duration;return!1});this._current&&this._current.gotoPercent(d/this._current.duration,a);return this},stop:function(b){if(this._current){if(b){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);
this._current=this._animations[this._index]}var a=e.connect(this._current,"onStop",this,function(b){this._fire("onStop",arguments);e.disconnect(a)});this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this._onAnimateCtx&&e.disconnect(this._onAnimateCtx);this._onEndCtx&&e.disconnect(this._onEndCtx)}});f.extend(o,j);g.chain=function(b){return new o(b)};var q=function(c){this._animations=c||[];this._connects=[];this.duration=this._finished=
0;b.forEach(c,function(a){var b=a.duration;a.delay&&(b+=a.delay);if(this.duration<b)this.duration=b;this._connects.push(e.connect(a,"onEnd",this,"_onEnd"))},this);this._pseudoAnimation=new i.Animation({curve:[0,1],duration:this.duration});var a=this;b.forEach("beforeBegin,onBegin,onPlay,onAnimate,onPause,onStop,onEnd".split(","),function(b){a._connects.push(e.connect(a._pseudoAnimation,b,function(){a._fire(b,arguments)}))})};f.extend(q,{_doAction:function(c,a){b.forEach(this._animations,function(b){b[c].apply(b,
a)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(b,a){var d=this._pseudoAnimation;d[b].apply(d,a)},play:function(b,a){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(c,a){var d=this.duration*c;b.forEach(this._animations,function(b){b.gotoPercent(b.duration<d?1:d/b.duration,a)});
this._call("gotoPercent",arguments);return this},stop:function(b){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){b.forEach(this._connects,e.disconnect)}});f.extend(q,j);g.combine=function(b){return new q(b)};g.wipeIn=function(b){var a=b.node=d.byId(b.node),g=a.style,j,b=i.animateProperty(f.mixin({properties:{height:{start:function(){j=g.overflow;g.overflow="hidden";if("hidden"==g.visibility||"none"==
g.display)return g.height="1px",g.display="",g.visibility="",1;var b=h.get(a,"height");return Math.max(b,1)},end:function(){return a.scrollHeight}}}},b)),k=function(){g.height="auto";g.overflow=j};e.connect(b,"onStop",k);e.connect(b,"onEnd",k);return b};g.wipeOut=function(b){var a=(b.node=d.byId(b.node)).style,h,b=i.animateProperty(f.mixin({properties:{height:{end:1}}},b));e.connect(b,"beforeBegin",function(){h=a.overflow;a.overflow="hidden";a.display=""});var g=function(){a.overflow=h;a.height="auto";
a.display="none"};e.connect(b,"onStop",g);e.connect(b,"onEnd",g);return b};g.slideTo=function(b){var a=null,g=null,j=function(b){return function(){var c=h.getComputedStyle(b),d=c.position;a="absolute"==d?b.offsetTop:parseInt(c.top)||0;g="absolute"==d?b.offsetLeft:parseInt(c.left)||0;if("absolute"!=d&&"relative"!=d)c=l.position(b,!0),a=c.y,g=c.x,b.style.position="absolute",b.style.top=a+"px",b.style.left=g+"px"}}(b.node=d.byId(b.node));j();b=i.animateProperty(f.mixin({properties:{top:b.top||0,left:b.left||
0}},b));e.connect(b,"beforeBegin",b,j);return b};return g})},"url:dijit/templates/TitlePane.html":'<div>\n\t<div data-dojo-attach-event="onclick:_onTitleClick, onkeydown:_onTitleKey"\n\t\t\tclass="dijitTitlePaneTitle" data-dojo-attach-point="titleBarNode">\n\t\t<div class="dijitTitlePaneTitleFocus" data-dojo-attach-point="focusNode">\n\t\t\t<img src="${_blankGif}" alt="" data-dojo-attach-point="arrowNode" class="dijitArrowNode" role="presentation"\n\t\t\t/><span data-dojo-attach-point="arrowNodeInner" class="dijitArrowNodeInner"></span\n\t\t\t><span data-dojo-attach-point="titleNode" class="dijitTitlePaneTextNode"></span>\n\t\t</div>\n\t</div>\n\t<div class="dijitTitlePaneContentOuter" data-dojo-attach-point="hideNode" role="presentation">\n\t\t<div class="dijitReset" data-dojo-attach-point="wipeNode" role="presentation">\n\t\t\t<div class="dijitTitlePaneContentInner" data-dojo-attach-point="containerNode" role="region" id="${id}_pane">\n\t\t\t\t<\!-- nested divs because wipeIn()/wipeOut() doesn\'t work right on node w/padding etc.  Put padding on inner div. --\>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n',
"dote-client/TopicList":function(){require({cache:{"url:dote-client/resources/_TopicListItem.html":'<div class="${baseClass}">\n\t<div class="${baseClass}VoteContainer">\n\t\t<div class="${baseClass}VoteInner">\n\t\t\t<div class="${baseClass}Votes" data-dojo-attach-point="votesNode"></div>\n\t\t\t<div class="${baseClass}Spark">\n\t\t\t\t<table>\n\t\t\t\t\t<col class="${baseClass}SparkPlus" data-dojo-attach-point="sparkPlusNode">\n\t\t\t\t\t<col class="${baseClass}SparkNeutral" data-dojo-attach-point="sparkNeutralNode">\n\t\t\t\t\t<col class="${baseClass}SparkMinus" data-dojo-attach-point="sparkMinusNode">\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t\t<div class="${baseClass}VoteButtons">\n\t\t\t\t<ul>\n\t\t\t\t\t<li role="button">\n\t\t\t\t\t\t<a href="#" class="${baseClass}VoteUp" data-dojo-attach-point="voteUpNode" data-dojo-attach-event="ondijitclick:_onUpClick"><i class="icon-plus"></i><span>Up</span></a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li role="button">\n\t\t\t\t\t\t<a href="#" class="${baseClass}VoteNeutral" data-dojo-attach-point="voteNeutralNode" data-dojo-attach-event="ondijitclick:_onNeutralClick"><i class="icon-check-empty"></i><span>Neutral</span></a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li role="button">\n\t\t\t\t\t\t<a href="#" class="${baseClass}VoteDown" data-dojo-attach-point="voteDownNode" data-dojo-attach-event="ondijitclick:_onDownClick"><i class="icon-minus"></i><span>Minus</span></a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="${baseClass}ContentContainer">\n\t\t<div class="${baseClass}ContentInner">\n\t\t\t<div class="${baseClass}Title" data-dojo-attach-point="titleNode"></div>\n\t\t\t<div class="${baseClass}Status" data-dojo-attach-point="statusContainerNode">\n\t\t\t\t<div class="${baseClass}Action" data-dojo-attach-point="actionStatusNode"></div>\n\t\t\t\t<div class="${baseClass}Owner" data-dojo-attach-point="ownerNode"></div>\n\t\t\t\t<div class="${baseClass}Posted" data-dojo-attach-point="postedStatusNode"></div>\n\t\t\t\t<div class="${baseClass}Actioned" data-dojo-attach-point="actionedStatusNode"></div>\n\t\t\t\t<div class="${baseClass}CommentCount"><i class="icon-comments-alt"></i><span data-dojo-attach-point="commentsCountNode"></span></div>\n\t\t\t</div>\n\t\t\t<div class="${baseClass}Summary" data-dojo-attach-point="summaryNode"></div>\n\t\t\t<div class="${baseClass}TagsContainer">\n\t\t\t\t<i class="icon-tags icon-large"></i>\n\t\t\t\t<ul class="${baseClass}Tags" data-dojo-attach-point="tagsNode">\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class="${baseClass}VotersContainer">\n\t\t\t\t<i class="icon-check icon-large"></i>\n\t\t\t\t<ul class="${baseClass}Voters" data-dojo-attach-point="votersNode">\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class="${baseClass}HeightContainer"></div>\n\t\t</div>\n\t</div>\n\t<div class="${baseClass}HeightContainer"></div>\n</div>\n',
"url:dote-client/resources/TopicList.html":'<div class="${baseClass}" role="presentation" data-dojo-attach-point="wrapperNode">\n\t<div class="${baseClass}Container" data-dojo-attach-point="containerNode"></div>\n\t<div class="${baseClass}More ${baseClass}Hide" data-dojo-attach-point="moreNode">\n\t\t<button type="button" class="${baseClass}MoreButton" data-dojo-attach-event="ondijitclick:_onMoreClick" data-dojo-attach-point="moreButtonNode">${moreLabel}</button>\n\t</div>\n</div>'}});define("dote-client/TopicList",
"./_StoreMixin,./_TopicMixin,./fade,dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom-attr,dojo/dom-class,dojo/dom-geometry,dojo/json,dojo/on,dojo/window,dijit/_Contained,dijit/_CssStateMixin,dijit/_OnDijitClickMixin,dijit/_TemplatedMixin,dijit/_WidgetBase,dijit/layout/_LayoutWidget,dojo/text!./resources/_TopicListItem.html,dojo/text!./resources/TopicList.html".split(","),function(f,k,g,b,e,i,d,h,l,j,n,o,q,c,a,m,r,v,B,u,t){var p=e([v,c,r,k],{baseClass:"doteTopicItem",
templateString:u,cssStateNodes:{voteUpNode:"doteTopicItemVoteUp",voteNeutralNode:"doteTopicItemVoteNeutral",voteDownNode:"doteTopicItemVoteDown",titleNode:"doteTopicItemTitle"},item:null,_setItemAttr:function(a){for(var b in a)"id"!==b&&this.set(b,a[b]);this._set("item",a)},title:"",_setTitleAttr:function(a){this.titleNode.innerHTML='<a href="/topic/'+this.item.id+'">'+a+"</a>";this._set("title",a)},vote:null,_setVoteAttr:function(a){this.item&&(b.some(this.item.voters,function(b){return b.name===
this.topicList.user?(b.vote=a,!0):!1},this)||this.item.voters.push({name:this.topicList.user,vote:a}),this.set("voters",this.item.voters),this.topicList.store.put(this.item));this._set("vote",a)},_setDescriptionAttr:null,tags:[],_setTagsAttr:function(a){"string"===typeof a&&(a=a.split(/\s*,\s*/));if(this.item&&this.tags&&a&&this._started&&a.join()!==this.tags.join())this.item.tags=a,this.topicList.store.put(this.item);this._set("tags",a);this._started&&this._displayTags()},tagsEditable:!0,topicList:null,
startup:function(){this.inherited(arguments);g.show(this.domNode)},_onActionChange:function(a){this.inherited(arguments);if(this.item.action!==a){this.item.action=a;var b=this;when(this.topicList.store.put(this.item),function(a){b.set("item",a)})}}});return e([B,r,a,m,f],{baseClass:"doteTopicList",templateString:t,moreLabel:"More...",loadingLabel:'<span class="dijitInline doteTopicListLoadingIcon"></span>Loading...',cssStateNodes:{moreButtonNode:"doteTopicListMoreButton"},user:"",more:!1,_setMoreAttr:function(a){if(a!==
this.more)a?(l.remove(this.moreNode,this.baseClass+"Hide"),this._signals.push(o(this.domNode.parentNode,"scroll",i.hitch(this,this._calcMoreVisible))),this._signals.push(o(d.doc,"scroll",i.hitch(this,this._calcMoreVisible)))):(l.add(this.moreNode,this.baseClass+"Hide"),b.forEach(this._signals,function(a){a.remove()}),this._signals=[]),this._set("more",a)},moreVisible:!1,_signals:null,_morePos:null,constructor:function(){this._signals=[]},startup:function(){this.inherited(arguments);this.own(this.on("results",
i.hitch(this,this._onResults)));this.own(this.on("visible",i.hitch(this,this._onVisible)))},addTopic:function(a){a=i.mixin(a,{id:this.id+"_topic"+this.getChildren().length});this.addChild(new p(a))},empty:function(){this.set("more",!1);this.set("start",0);this.destroyDescendants()},_onResults:function(a){if(a&&a.items){var b=this;this._morePos=null;a.items.forEach(function(a){b.addChild(new p({id:b.id+"_topic"+b.getChildren().length,voter:b.user,topicList:b,item:a}))});this.total&&this.total>this.getChildren().length?
this.set("more",!0):this.set("more",!1)}},_calcMoreVisible:function(){var a=this._morePos=this._morePos||j.position(this.moreNode,!0),b=q.getBox(),c=a.y>b.t&&a.y<=b.h+b.t&&a.x>b.l&&a.x<=b.w+b.l;c!==this.moreVisible&&(c&&!this.moreVisible&&this.emit("visible",{node:this.moreNode,position:{node:a,win:b}}),this.set("moreVisible",c))},_setLoading:function(a){a?(h.set(this.moreButtonNode,"disabled","disabled"),this.moreButtonNode.innerHTML=this.loadingLabel):(h.remove(this.moreButtonNode,"disabled"),this.moreButtonNode.innerHTML=
this.moreLabel)},_onVisible:function(a){a.node===this.moreNode&&this.start<this.maxCount&&(this._setLoading(!0),this.fetch().then(i.hitch(this,this._setLoading)))},_onMoreClick:function(a){a&&a.preventDefault();this._setLoading(!0);this.fetch().then(i.hitch(this,this._setLoading))}})})},"dote-client/_StoreMixin":function(){define("dote-client/_StoreMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/when"],function(f,k,g,b){return k(null,{store:null,_setStoreAttr:function(b){this._set("store",
b);this.dirty={}},query:null,_setQueryAttr:function(b){this._set("query",void 0!==b?b:this.query);if(this.started)this.start=0},_getQueryAttr:function(){return"object"==typeof this.query&&null!==this.query?g.delegate(this.query,{}):this.query},queryOptions:null,_setQueryOptionsAttr:function(b){this._set("queryOptions",b||this.queryOptions)},_getQueryOptionsAttr:function(){return g.delegate(this.queryOptions,{})},start:0,count:10,maxCount:Infinity,total:null,getBeforePut:!0,noDataMessage:"",loadingMessage:"",
constructor:function(){this.query={};this.queryOptions={};this.dirty={};this.sort=[];this._updating={}},_results:null,_querying:!1,_doQuery:function(){this._qeurying=!0;var e=this._results=this.store.query(this.query,g.mixin({start:this.start,count:this.count},this.queryOptions||{})),f=this;return b(e.total,function(d){f._set("total",d);return b(e,function(b){f.emit("results",{items:b});f._querying=!1;return b})})},fetch:function(){if(!this._querying){var b=this;return this._doQuery().then(function(f){b._set("start",
b.start+f.length)})}},refresh:function(){if(!this._querying)return this._doQuery()}})})},"dote-client/_TopicMixin":function(){define("dote-client/_TopicMixin","dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/on,dijit/_CssStateMixin,dijit/_OnDijitClickMixin,dijit/form/Select,dijit/form/TextBox,moment/moment".split(","),function(f,k,g,b,e,i,d,h,l,j,n,o){var q=["open","reopened"],c=[{value:"open",label:"Open"},{value:"reopened",label:"Reopened"},
{value:"accepted",label:"Accepted"},{value:"rejected",label:"Rejected"}];return k([h,l],{cssStateNodes:{voteUpNode:"doteTopicItemVoteUp",voteNeutralNode:"doteTopicItemVoteNeutral",voteDownNode:"doteTopicItemVoteDown"},title:"",_setTitleAttr:{node:"titleNode",type:"innerHTML"},description:"",_setDescriptionAttr:{node:"descriptionNode",type:"innerHTML"},summary:"",_setSummaryAttr:{node:"summaryNode",type:"innerHTML"},votes:0,_setVotesAttr:{node:"votesNode",type:"innerHTML"},voter:"",voters:[],_setVotersAttr:function(a){var b=
0;a instanceof Array?this._set("voters",a):this._set("voters",JSON.parse(a));f.forEach(this.voters,function(a){a.vote&&(b+=a.vote)});this.set("votes",b);this._started&&(this._displayVoters(),this._displayVote(),this._displaySpark())},itemWidgets:{},actionSelect:null,action:"",_setActionAttr:function(a){this.actionSelect?this.actionSelect.set("value",a):this.actionStatusNode.innerHTML=a;this._set("action",a);this._started&&this._displayStatus()},owner:"",_setOwnerAttr:function(a){if(a===(this.user||
this.topicList&&this.topicList.user||"")){if(!this.actionSelect)this.actionSelect=new j({id:this.id+"_actionSelect",name:"action",options:c,value:this.action}),e.empty(this.actionStatusNode),this.actionSelect.placeAt(this.actionStatusNode),this.actionSelect.startup(),this.own(this.actionSelect.on("change",g.hitch(this,this._onActionChange)))}else this.actionSelect&&this.actionSelect.destroy(),e.empty(this.actionStatusNode),this.actionStatusNode.innerHTML=this.action;this.ownerNode.innerHTML=a;this._set("owner",
a)},author:"",actioned:"",_setActionedAttr:function(a){a instanceof Date||a instanceof Array?a=o(a).fromNow():parseFloat(a)==parseInt(a,10)&&!isNaN(a)&&(a=o.unix(a).fromNow());this.actionedStatusNode.innerHTML=a?"Actioned "+a:"";this._set("actionTime",a)},created:"",_setCreatedAttr:function(a){a instanceof Date||a instanceof Array?a=o(a).fromNow():parseFloat(a)==parseInt(a,10)&&!isNaN(a)&&(a=o.unix(a).fromNow());this.postedStatusNode.innerHTML=(a?"Posted "+a:"")+(this.author?"<br>by "+this.author:
"");this._set("created",a)},commentsCount:0,_setCommentsCountAttr:{node:"commentsCountNode",type:"innerHTML"},tagsEditable:!1,addTagNode:null,addTagListener:null,constructor:function(){this.voters=[];this.tags=[];this.itemWidgets={}},postCreate:function(){this.inherited(arguments);this._displayTags();this._displayVoters();this._displayVote();this._displaySpark();this._displayStatus()},_displayVoters:function(){e.empty(this.votersNode);f.forEach(this.voters,function(a){e.create("li",{innerHTML:a.name,
"class":0<a.vote?this.baseClass+"VoterPlus":0>a.vote?this.baseClass+"VoterMinus":this.baseClass+"VoterNeutral"},this.votersNode)},this)},_displayTags:function(){this.addTagListener&&this.addTagListener.remove();e.empty(this.tagsNode);f.forEach(this.tags,function(a){e.create("li",{innerHTML:a},this.tagsNode)},this);if(this.tagsEditable)this.addTagNode=e.create("a",{href:"/editTags",innerHTML:'<i class="icon-edit icon-large"></i><span class="a11yLabel">Add Tag</span>'},this.tagsNode),this.addTagListener=
d(this.addTagNode,"click",g.hitch(this,this._editTags))},_editTags:function(a){function b(a){if(!a||a&&13==a.charOrCode)a=c.get("value"),c.destroy(),this.set("tags",a)}a&&a.preventDefault();this.addTagListener.remove();e.empty(this.tagsNode);var c=new n({id:this.id+"_editTags",name:"editTags",value:this.get("tags").join(", "),style:{width:"550px"}});c.on("blur",g.hitch(this,b));c.on("keypress",g.hitch(this,b));c.placeAt(this.tagsNode);c.startup()},_displayVote:function(){var a=this.baseClass+"VoteSelected";
f.some(this.voters,function(c){if(c.name===this.voter){switch(c.vote){case -1:b.remove(this.voteUpNode,a);b.remove(this.voteNeutralNode,a);b.add(this.voteDownNode,a);break;case 1:b.add(this.voteUpNode,a);b.remove(this.voteNeutralNode,a);b.remove(this.voteDownNode,a);break;case 0:b.remove(this.voteUpNode,a),b.add(this.voteNeutralNode,a),b.remove(this.voteDownNode,a)}return!0}return!1},this)},_displaySpark:function(){if(this.voters.length){var a=0,b=0,c=0;f.forEach(this.voters,function(d){switch(d.vote){case -1:b++;
break;case 1:a++;break;default:c++}});var a=Math.round(100*(a/this.voters.length)),b=Math.round(100*(b/this.voters.length)),c=Math.round(100*(c/this.voters.length)),d=100-a-b-c;a?a+=d:b?b+=d:c+=d;i.set(this.sparkPlusNode,"width",a+"%");i.set(this.sparkNeutralNode,"width",c+"%");i.set(this.sparkMinusNode,"width",b+"%")}},_displayStatus:function(){~q.indexOf(this.action)?b.add(this.statusContainerNode,this.baseClass+"StatusActive"):b.remove(this.statusContainerNode,this.baseClass+"StatusActive")},_onActionChange:function(a){this.set("action",
a)},_onUpClick:function(a){a&&a.preventDefault();this.set("vote",1)},_onNeutralClick:function(a){a&&a.preventDefault();this.set("vote",0)},_onDownClick:function(a){a&&a.preventDefault();this.set("vote",-1)}})})},"moment/moment":function(){define("moment/moment",[],function(){function f(a,b,c,d){var e=c.lang();return e[a].call?e[a](c,d):e[a][b]}function k(a,b){return function(c){return d(a.call(this,c),b)}}function g(a){return function(b){b=a.call(this,b);return b+this.lang().ordinal(b)}}function b(a,
b,c){this._d=a;this._isUTC=!!b;this._a=a._a||null;this._lang=c||!1}function e(a){var b=this._data={},c=a.years||a.y||0,d=a.months||a.M||0,e=a.weeks||a.w||0,f=a.days||a.d||0,h=a.hours||a.h||0,g=a.minutes||a.m||0,j=a.seconds||a.s||0,a=a.milliseconds||a.ms||0;this._milliseconds=a+1E3*j+6E4*g+36E5*h;this._days=f+7*e;this._months=d+12*c;b.milliseconds=a%1E3;j+=i(a/1E3);b.seconds=j%60;g+=i(j/60);b.minutes=g%60;h+=i(g/60);b.hours=h%24;f+=i(h/24);f+=7*e;b.days=f%30;d+=i(f/30);b.months=d%12;c+=i(d/12);b.years=
c;this._lang=!1}function i(a){return 0>a?Math.ceil(a):Math.floor(a)}function d(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function h(a,b,c){var d=b._milliseconds,e=b._days,b=b._months;d&&a._d.setTime(+a+d*c);e&&a.date(a.date()+e*c);b&&(d=a.date(),a.date(1).month(a.month()+b*c).date(Math.min(d,a.daysInMonth())))}function l(a){return"[object Array]"===Object.prototype.toString.call(a)}function j(a,b){var c=Math.min(a.length,b.length),d=Math.abs(a.length-b.length),e=0,f;for(f=0;f<c;f++)~~a[f]!==
~~b[f]&&e++;return e+d}function n(a,b,c,d){var e,f=[];for(e=0;7>e;e++)f[e]=a[e]=null==a[e]?2===e?1:0:a[e];a[7]=f[7]=b;null!=a[8]&&(f[8]=a[8]);a[3]+=c||0;a[4]+=d||0;c=new Date(0);b?(c.setUTCFullYear(a[0],a[1],a[2]),c.setUTCHours(a[3],a[4],a[5],a[6])):(c.setFullYear(a[0],a[1],a[2]),c.setHours(a[3],a[4],a[5],a[6]));c._a=f;return c}function o(a,b){var c,d,e=[];!b&&H&&(b=require("./lang/"+a));for(c=0;c<z.length;c++)b[z[c]]=b[z[c]]||A.en[z[c]];for(c=0;12>c;c++)d=p([2E3,c]),e[c]=RegExp("^"+(b.months[c]||
b.months(d,""))+"|^"+(b.monthsShort[c]||b.monthsShort(d,"")).replace(".",""),"i");b.monthsParse=b.monthsParse||e;return A[a]=b}function q(a){return(a="string"===typeof a&&a||a&&a._lang||null)?A[a]||o(a):p}function c(a){var b=a.match(F),c,d;for(c=0,d=b.length;c<d;c++)b[c]=C[b[c]]?C[b[c]]:b[c].match(/\[.*\]/)?b[c].replace(/^\[|\]$/g,""):b[c].replace(/\\/g,"");return function(e){var f="";for(c=0;c<d;c++)f+="function"===typeof b[c].call?b[c].call(e,a):b[c];return f}}function a(a,b){function d(b){return a.lang().longDateFormat[b]||
b}for(var e=5;e--&&G.test(b);)b=b.replace(G,d);I[b]||(I[b]=c(b));return I[b](a)}function m(a){switch(a){case "DDDD":return Q;case "YYYY":return R;case "S":case "SS":case "SSS":case "DDD":return y;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":case "a":case "A":return S;case "Z":case "ZZ":return J;case "T":return T;case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return E;default:return RegExp(a.replace("\\",
""))}}function r(a,b){var c=[0,0,1,0,0,0,0],d={tzh:0,tzm:0},e=b.match(F),f,h;for(f=0;f<e.length;f++)if((h=(m(e[f]).exec(a)||[])[0])&&(a=a.slice(a.indexOf(h)+h.length)),C[e[f]]){var g=c,j=d,i=void 0,k=void 0;switch(e[f]){case "M":case "MM":g[1]=null==h?0:~~h-1;break;case "MMM":case "MMMM":for(i=0;12>i;i++)if(q().monthsParse[i].test(h)){g[1]=i;k=!0;break}k||(g[8]=!1);break;case "D":case "DD":case "DDD":case "DDDD":null!=h&&(g[2]=~~h);break;case "YY":g[0]=~~h+(70<~~h?1900:2E3);break;case "YYYY":g[0]=
~~Math.abs(h);break;case "a":case "A":j.isPm="pm"===(h+"").toLowerCase();break;case "H":case "HH":case "h":case "hh":g[3]=~~h;break;case "m":case "mm":g[4]=~~h;break;case "s":case "ss":g[5]=~~h;break;case "S":case "SS":case "SSS":g[6]=~~(1E3*("0."+h));break;case "Z":case "ZZ":j.isUTC=!0;if((i=(h+"").match(U))&&i[1])j.tzh=~~i[1];if(i&&i[2])j.tzm=~~i[2];if(i&&"+"===i[0])j.tzh=-j.tzh,j.tzm=-j.tzm}null==h&&(g[8]=!1)}d.isPm&&12>c[3]&&(c[3]+=12);!1===d.isPm&&12===c[3]&&(c[3]=0);return n(c,d.isUTC,d.tzh,
d.tzm)}function v(a,b,c,d,e){e=e.relativeTime[a];return"function"===typeof e?e(b||1,!!c,a,d):e.replace(/%d/i,b||1)}function B(a,b){p.fn[a]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),this):this._d["get"+c+b]()}}function u(a){p.duration.fn[a]=function(){return this._data[a]}}function t(a,b){p.duration.fn["as"+a]=function(){return+this/b}}for(var p,w=Math.round,s,A={},x="en",H="undefined"!==typeof module&&module.exports,z="months|monthsShort|weekdays|weekdaysShort|weekdaysMin|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),
K=/^\/?Date\((\-?\d+)/i,F=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|.)/g,G=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?)/g,D=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,E=/\d\d?/,y=/\d{1,3}/,Q=/\d{3}/,R=/\d{1,4}/,S=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,J=/Z|[\+\-]\d\d:?\d\d/i,T=/T/i,V=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,N=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",
/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],U=/([\+\-]|\d\d)/gi,L="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),M={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},I={},O="DDD w M D d".split(" "),P="M D H h m s w".split(" "),C={M:function(){return this.month()+1},MMM:function(a){return f("monthsShort",this.month(),this,a)},MMMM:function(a){return f("months",this.month(),this,a)},D:function(){return this.date()},DDD:function(){var a=
new Date(this.year(),this.month(),this.date()),b=new Date(this.year(),0,1);return~~((a-b)/864E5+1.5)},d:function(){return this.day()},dd:function(a){return f("weekdaysMin",this.day(),this,a)},ddd:function(a){return f("weekdaysShort",this.day(),this,a)},dddd:function(a){return f("weekdays",this.day(),this,a)},w:function(){var a=new Date(this.year(),this.month(),this.date()-this.day()+5),b=new Date(a.getFullYear(),0,4);return~~((a-b)/864E5/7+1.5)},YY:function(){return d(this.year()%100,2)},YYYY:function(){return d(this.year(),
4)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return d(~~(this.milliseconds()/10),2)},SSS:function(){return d(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");
return b+d(~~(a/60),2)+":"+d(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+d(~~(10*a/6),4)}};O.length;)s=O.pop(),C[s+"o"]=g(C[s]);for(;P.length;)s=P.pop(),C[s+s]=k(C[s],2);C.DDDD=k(C.DDD,3);p=function(c,d){if(null===c||""===c)return null;var e;if(p.isMoment(c))return new b(new Date(+c._d),c._isUTC,c._lang);if(d)if(l(d)){var f=c.match(D)||[],h,g=99,i,k;for(i=0;i<d.length;i++)k=r(c,d[i]),h=a(new b(k),d[i]).match(D)||[],h=j(f,h),h<g&&(g=h,e=k)}else e=r(c,d);else if(e=K.exec(c),
void 0===c)e=new Date;else if(e)e=new Date(+e[1]);else if(c instanceof Date)e=c;else if(l(c))e=n(c);else if("string"===typeof c)if(e="YYYY-MM-DDT",V.exec(c)){for(f=0;4>f;f++)if(N[f][1].exec(c)){e+=N[f][0];break}e=J.exec(c)?r(c,e+" Z"):r(c,e)}else e=new Date(c);else e=new Date(c);return new b(e)};p.utc=function(a,c){if(l(a))return new b(n(a,!0),!0);"string"===typeof a&&!J.exec(a)&&(a+=" +0000",c&&(c+=" Z"));return p(a,c).utc()};p.unix=function(a){return p(1E3*a)};p.duration=function(a,b){var c=p.isDuration(a),
d="number"===typeof a,f=c?a._data:d?{}:a;if(d)b?f[b]=a:f.milliseconds=a;d=new e(f);if(c)d._lang=a._lang;return d};p.humanizeDuration=function(a,b,c){return p.duration(a,!0===b?null:b).humanize(!0===b?!0:c)};p.version="1.7.2";p.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";p.lang=function(a,b){var c;if(!a)return x;(b||!A[a])&&o(a,b);if(A[a]){for(c=0;c<z.length;c++)p[z[c]]=A[a][z[c]];p.monthsParse=A[a].monthsParse;x=a}};p.langData=q;p.isMoment=function(a){return a instanceof b};p.isDuration=function(a){return a instanceof
e};p.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(a,
b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"}});p.fn=b.prototype=
{clone:function(){return p(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1E3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?null!=this._a[8]?!!this._a[8]:!j(this._a,(this._a[7]?p.utc(this._a):p(this._a)).toArray()):!isNaN(this._d.getTime())},utc:function(){this._isUTC=
!0;return this},local:function(){this._isUTC=!1;return this},format:function(b){return a(this,b?b:p.defaultFormat)},add:function(a,b){var c=b?p.duration(+b,a):p.duration(a);h(this,c,1);return this},subtract:function(a,b){var c=b?p.duration(+b,a):p.duration(a);h(this,c,-1);return this},diff:function(a,b,c){var a=this._isUTC?p(a).utc():p(a).local(),d=6E4*(this.zone()-a.zone()),d=this._d-a._d-d,e=this.year()-a.year(),f=this.month()-a.month(),a=this.date()-a.date(),b="months"===b?12*e+f+a/30:"years"===
b?e+(f+a/30)/12:"seconds"===b?d/1E3:"minutes"===b?d/6E4:"hours"===b?d/36E5:"days"===b?d/864E5:"weeks"===b?d/6048E5:d;return c?b:w(b)},from:function(a,b){return p.duration(this.diff(a)).lang(this._lang).humanize(!b)},fromNow:function(a){return this.from(p(),a)},calendar:function(){var a=this.diff(p().sod(),"days",!0),b=this.lang().calendar,c=b.sameElse,a=-6>a?c:-1>a?b.lastWeek:0>a?b.lastDay:1>a?b.sameDay:2>a?b.nextDay:7>a?b.nextWeek:c;return this.format("function"===typeof a?a.apply(this):a)},isLeapYear:function(){var a=
this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<p([this.year()]).zone()||this.zone()<p([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==a?b:this.add({d:a-b})},startOf:function(a){switch(a.replace(/s$/,"")){case "year":this.month(0);case "month":this.date(1);case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return this},endOf:function(a){return this.startOf(a).add(a.replace(/s?$/,
"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return p.utc([this.year(),this.month()+1,0]).date()},lang:function(a){if(void 0===a)return q(this);this._lang=a;return this}};for(s=0;s<L.length;s++)B(L[s].toLowerCase(),L[s]);B("year","FullYear");p.duration.fn=e.prototype={weeks:function(){return i(this.days()/7)},valueOf:function(){return this._milliseconds+
864E5*this._days+2592E6*this._months},humanize:function(a){var b=+this,c=this.lang().relativeTime,d;d=!a;var e=this.lang(),f=w(Math.abs(b)/1E3),h=w(f/60),g=w(h/60),j=w(g/24),i=w(j/365),f=45>f&&["s",f]||1===h&&["m"]||45>h&&["mm",h]||1===g&&["h"]||22>g&&["hh",g]||1===j&&["d"]||25>=j&&["dd",j]||45>=j&&["M"]||345>j&&["MM",w(j/30)]||1===i&&["y"]||["yy",i];f[2]=d;f[3]=0<b;f[4]=e;d=v.apply({},f);b=0>=b?c.past:c.future;a&&(d="function"===typeof b?b(d):b.replace(/%s/i,d));return d},lang:p.fn.lang};for(s in M)M.hasOwnProperty(s)&&
(t(s,M[s]),u(s.toLowerCase()));t("Weeks",6048E5);return p})},"dote-client/fade":function(){define("dote-client/fade",["dojo/_base/fx","dojo/dom","dojo/dom-style"],function(f,k,g){return{show:function(b,e,i){"string"===typeof b&&(b=k.byId(b));g.set(b,"opacity","0");g.set(b,"display","block");f.fadeIn({node:b,duration:e||500}).play();i&&i.focus()}}})},"dijit/layout/_LayoutWidget":function(){define("dijit/layout/_LayoutWidget","dojo/_base/lang,../_Widget,../_Container,../_Contained,../Viewport,dojo/_base/declare,dojo/dom-class,dojo/dom-geometry,dojo/dom-style".split(","),
function(f,k,g,b,e,i,d,h,l){return i("dijit.layout._LayoutWidget",[k,g,b],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,buildRendering:function(){this.inherited(arguments);d.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var b=this.getParent&&this.getParent();if(!b||!b.isLayoutContainer)this.resize(),this.own(e.on("resize",f.hitch(this,"resize")))}},resize:function(b,d){var e=this.domNode;b&&h.setMarginBox(e,b);var g=d||{};f.mixin(g,b||
{});if(!("h"in g)||!("w"in g))g=f.mixin(h.getMarginBox(e),g);var c=l.getComputedStyle(e),a=h.getMarginExtents(e,c),i=h.getBorderExtents(e,c),g=this._borderBox={w:g.w-(a.w+i.w),h:g.h-(a.h+i.h)},a=h.getPadExtents(e,c);this._contentBox={l:l.toPixelValue(e,c.paddingLeft),t:l.toPixelValue(e,c.paddingTop),w:g.w-a.w,h:g.h-a.h};this.layout()},layout:function(){},_setupChild:function(b){d.add(b.domNode,this.baseClass+"-child "+(b.baseClass?this.baseClass+"-"+b.baseClass:""))},addChild:function(b,d){this.inherited(arguments);
this._started&&this._setupChild(b)},removeChild:function(b){d.remove(b.domNode,this.baseClass+"-child"+(b.baseClass?" "+this.baseClass+"-"+b.baseClass:""));this.inherited(arguments)}})})},"url:dote-client/resources/_TopicListItem.html":'<div class="${baseClass}">\n\t<div class="${baseClass}VoteContainer">\n\t\t<div class="${baseClass}VoteInner">\n\t\t\t<div class="${baseClass}Votes" data-dojo-attach-point="votesNode"></div>\n\t\t\t<div class="${baseClass}Spark">\n\t\t\t\t<table>\n\t\t\t\t\t<col class="${baseClass}SparkPlus" data-dojo-attach-point="sparkPlusNode">\n\t\t\t\t\t<col class="${baseClass}SparkNeutral" data-dojo-attach-point="sparkNeutralNode">\n\t\t\t\t\t<col class="${baseClass}SparkMinus" data-dojo-attach-point="sparkMinusNode">\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t\t<div class="${baseClass}VoteButtons">\n\t\t\t\t<ul>\n\t\t\t\t\t<li role="button">\n\t\t\t\t\t\t<a href="#" class="${baseClass}VoteUp" data-dojo-attach-point="voteUpNode" data-dojo-attach-event="ondijitclick:_onUpClick"><i class="icon-plus"></i><span>Up</span></a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li role="button">\n\t\t\t\t\t\t<a href="#" class="${baseClass}VoteNeutral" data-dojo-attach-point="voteNeutralNode" data-dojo-attach-event="ondijitclick:_onNeutralClick"><i class="icon-check-empty"></i><span>Neutral</span></a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li role="button">\n\t\t\t\t\t\t<a href="#" class="${baseClass}VoteDown" data-dojo-attach-point="voteDownNode" data-dojo-attach-event="ondijitclick:_onDownClick"><i class="icon-minus"></i><span>Minus</span></a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="${baseClass}ContentContainer">\n\t\t<div class="${baseClass}ContentInner">\n\t\t\t<div class="${baseClass}Title" data-dojo-attach-point="titleNode"></div>\n\t\t\t<div class="${baseClass}Status" data-dojo-attach-point="statusContainerNode">\n\t\t\t\t<div class="${baseClass}Action" data-dojo-attach-point="actionStatusNode"></div>\n\t\t\t\t<div class="${baseClass}Owner" data-dojo-attach-point="ownerNode"></div>\n\t\t\t\t<div class="${baseClass}Posted" data-dojo-attach-point="postedStatusNode"></div>\n\t\t\t\t<div class="${baseClass}Actioned" data-dojo-attach-point="actionedStatusNode"></div>\n\t\t\t\t<div class="${baseClass}CommentCount"><i class="icon-comments-alt"></i><span data-dojo-attach-point="commentsCountNode"></span></div>\n\t\t\t</div>\n\t\t\t<div class="${baseClass}Summary" data-dojo-attach-point="summaryNode"></div>\n\t\t\t<div class="${baseClass}TagsContainer">\n\t\t\t\t<i class="icon-tags icon-large"></i>\n\t\t\t\t<ul class="${baseClass}Tags" data-dojo-attach-point="tagsNode">\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class="${baseClass}VotersContainer">\n\t\t\t\t<i class="icon-check icon-large"></i>\n\t\t\t\t<ul class="${baseClass}Voters" data-dojo-attach-point="votersNode">\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class="${baseClass}HeightContainer"></div>\n\t\t</div>\n\t</div>\n\t<div class="${baseClass}HeightContainer"></div>\n</div>\n',
"url:dote-client/resources/TopicList.html":'<div class="${baseClass}" role="presentation" data-dojo-attach-point="wrapperNode">\n\t<div class="${baseClass}Container" data-dojo-attach-point="containerNode"></div>\n\t<div class="${baseClass}More ${baseClass}Hide" data-dojo-attach-point="moreNode">\n\t\t<button type="button" class="${baseClass}MoreButton" data-dojo-attach-event="ondijitclick:_onMoreClick" data-dojo-attach-point="moreButtonNode">${moreLabel}</button>\n\t</div>\n</div>',"dote-client/userControls":function(){define("dote-client/userControls",
["dojo/_base/window","dojo/dom","dojo/on","./displayHelp"],function(f,k,g,b){function e(e){e.preventDefault();b.display()}return{start:function(){g(k.byId("help"),"click",e)}}})},"dote-client/displayHelp":function(){define("dote-client/displayHelp",["dijit/Dialog"],function(){return{display:function(){}}})},"dijit/Dialog":function(){require({cache:{"url:dijit/templates/Dialog.html":'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\n\t<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\n\t\t<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\n\t\t\t\trole="header" level="1"></span>\n\t\t<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabIndex="-1">\n\t\t\t<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\n</div>\n'}});
define("dijit/Dialog","require,dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/Deferred,dojo/dom,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/_base/fx,dojo/i18n,dojo/keys,dojo/_base/lang,dojo/on,dojo/ready,dojo/sniff,dojo/window,dojo/dnd/Moveable,dojo/dnd/TimedMoveable,./focus,./_base/manager,./_Widget,./_TemplatedMixin,./_CssStateMixin,./form/_FormMixin,./_DialogMixin,./DialogUnderlay,./layout/ContentPane,dojo/text!./templates/Dialog.html,./main,dojo/i18n!./nls/common".split(","),
function(f,k,g,b,e,i,d,h,l,j,n,o,q,c,a,m,r,v,B,u,t,p,w,s,A,x,H,z,K,F,G){var f=b("dijit._DialogBase",[s,x,H,A],{templateString:F,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],open:!1,duration:p.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,doLayout:!1,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},"aria-describedby":"",maxRatio:0.9,
postMixInProperties:function(){var a=o.getLocalization("dijit","common");c.mixin(this,a);this.inherited(arguments)},postCreate:function(){l.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[]},onLoad:function(){this._position();this.autofocus&&E.isTop(this)&&(this._getFocusItems(this.domNode),t.focus(this._firstFocusItem));
this.inherited(arguments)},_endDrag:function(){var a=h.position(this.domNode),b=v.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),b.h-a.h);a.x=Math.min(Math.max(a.x,0),b.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var a=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==r("ie")?u:B)(a,{handle:this.titleBar}),this.connect(this._moveable,"onMoveStop","_endDrag")):d.add(a,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":k.map(this["class"].split(/\s/),
function(a){return a+"_underlay"}).join(" "),ownerDocument:this.ownerDocument}},_size:function(){this._checkIfSingleChild();if(this._singleChild){if("undefined"!=typeof this._singleChildOriginalStyle)this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle}else l.set(this.containerNode,{width:"auto",height:"auto"});var a=h.position(this.domNode),b=v.getBox(this.ownerDocument);b.w*=this.maxRatio;b.h*=this.maxRatio;if(a.w>=b.w||a.h>=b.h){var c=h.position(this.containerNode),
d=Math.min(a.w,b.w)-(a.w-c.w),a=Math.min(a.h,b.h)-(a.h-c.h);if(this._singleChild&&this._singleChild.resize){if("undefined"==typeof this._singleChildOriginalStyle)this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;this._singleChild.resize({w:d,h:a})}else l.set(this.containerNode,{width:d+"px",height:a+"px",overflow:"auto",position:"relative"})}else this._singleChild&&this._singleChild.resize&&this._singleChild.resize()},_position:function(){if(!d.contains(this.ownerDocumentBody,
"dojoMove")){var a=this.domNode,b=v.getBox(this.ownerDocument),c=this._relativePosition,e=c?null:h.position(a);l.set(a,{left:Math.floor(b.l+(c?c.x:(b.w-e.w)/2))+"px",top:Math.floor(b.t+(c?c.y:(b.h-e.h)/2))+"px"})}},_onKey:function(a){if(a.charOrCode){var b=a.target;a.charOrCode===q.TAB&&this._getFocusItems(this.domNode);var c=this._firstFocusItem==this._lastFocusItem;if(b==this._firstFocusItem&&a.shiftKey&&a.charOrCode===q.TAB)c||t.focus(this._lastFocusItem),j.stop(a);else if(b==this._lastFocusItem&&
a.charOrCode===q.TAB&&!a.shiftKey)c||t.focus(this._firstFocusItem),j.stop(a);else{for(;b;){if(b==this.domNode||d.contains(b,"dijitPopup"))if(a.charOrCode==q.ESCAPE)this.onCancel();else return;b=b.parentNode}if(a.charOrCode!==q.TAB)j.stop(a);else try{this._firstFocusItem.focus()}catch(e){}}}},show:function(){if(!this.open){this._started||this.startup();if(!this._alreadyInitialized)this._setup(),this._alreadyInitialized=!0;this._fadeOutDeferred&&this._fadeOutDeferred.cancel();var b=v.get(this.ownerDocument);
this._modalconnects.push(a(b,"scroll",c.hitch(this,"resize")));this._modalconnects.push(a(this.domNode,g._keypress,c.hitch(this,"_onKey")));l.set(this.domNode,{opacity:0,display:""});this._set("open",!0);this._onShow();this._size();this._position();var d;this._fadeInDeferred=new e(c.hitch(this,function(){d.stop();delete this._fadeInDeferred}));d=n.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:c.hitch(this,function(){E.show(this,this.underlayAttrs)}),onEnd:c.hitch(this,function(){this.autofocus&&
E.isTop(this)&&(this._getFocusItems(this.domNode),t.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();return this._fadeInDeferred}},hide:function(){if(this._alreadyInitialized&&this.open){this._fadeInDeferred&&this._fadeInDeferred.cancel();var a;this._fadeOutDeferred=new e(c.hitch(this,function(){a.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(c.hitch(this,"onHide"));a=n.fadeOut({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,
function(){this.domNode.style.display="none";E.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();if(this._scrollConnected)this._scrollConnected=!1;for(var b;b=this._modalconnects.pop();)b.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return this._fadeOutDeferred}},resize:function(){"none"!=this.domNode.style.display&&(z._singleton&&z._singleton.layout(),this._position(),this._size())},destroy:function(){this._fadeInDeferred&&
this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();E.hide(this);this.inherited(arguments)}}),D=b("dijit.Dialog",[K,f],{});D._DialogBase=f;var E=D._DialogLevelManager={_beginZIndex:950,show:function(a,b){y[y.length-1].focus=t.curNode;var c=z._singleton;!c||c._destroyed?c=G._underlay=z._singleton=new z(b):c.set(a.underlayAttrs);var d=y[y.length-1].dialog?y[y.length-1].zIndex+2:
D._DialogLevelManager._beginZIndex;1==y.length&&c.show();l.set(z._singleton.domNode,"zIndex",d-1);l.set(a.domNode,"zIndex",d);y.push({dialog:a,underlayAttrs:b,zIndex:d})},hide:function(a){if(y[y.length-1].dialog==a){y.pop();var b=y[y.length-1];z._singleton._destroyed||(1==y.length?z._singleton.hide():(l.set(z._singleton.domNode,"zIndex",b.zIndex-1),z._singleton.set(b.underlayAttrs)));if(a.refocus){a=b.focus;if(b.dialog&&(!a||!i.isDescendant(a,b.dialog.domNode)))b.dialog._getFocusItems(b.dialog.domNode),
a=b.dialog._firstFocusItem;if(a)try{a.focus()}catch(c){}}}else b=k.indexOf(k.map(y,function(a){return a.dialog}),a),-1!=b&&y.splice(b,1)},isTop:function(a){return y[y.length-1].dialog==a}},y=D._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];return D})},"dojo/dnd/Moveable":function(){define("dojo/dnd/Moveable","../_base/array,../_base/declare,../_base/event,../_base/lang,../dom,../dom-class,../Evented,../on,../topic,../touch,./common,./Mover,../_base/window".split(","),function(f,k,g,b,
e,i,d,h,l,j,n,o,q){return k("dojo.dnd.Moveable",[d],{handle:"",delay:0,skip:!1,constructor:function(c,a){this.node=e.byId(c);a||(a={});this.handle=a.handle?e.byId(a.handle):null;if(!this.handle)this.handle=this.node;this.delay=0<a.delay?a.delay:0;this.skip=a.skip;this.mover=a.mover?a.mover:o;this.events=[h(this.handle,j.press,b.hitch(this,"onMouseDown")),h(this.handle,"dragstart",b.hitch(this,"onSelectStart")),h(this.handle,"selectstart",b.hitch(this,"onSelectStart"))]},markupFactory:function(b,a,
d){return new d(a,b)},destroy:function(){f.forEach(this.events,function(b){b.remove()});this.events=this.node=this.handle=null},onMouseDown:function(c){if(!this.skip||!n.isFormElement(c)){if(this.delay)this.events.push(h(this.handle,j.move,b.hitch(this,"onMouseMove")),h(this.handle,j.release,b.hitch(this,"onMouseUp"))),this._lastX=c.pageX,this._lastY=c.pageY;else this.onDragDetected(c);g.stop(c)}},onMouseMove:function(b){if(Math.abs(b.pageX-this._lastX)>this.delay||Math.abs(b.pageY-this._lastY)>this.delay)this.onMouseUp(b),
this.onDragDetected(b);g.stop(b)},onMouseUp:function(b){for(var a=0;2>a;++a)this.events.pop().remove();g.stop(b)},onSelectStart:function(b){(!this.skip||!n.isFormElement(b))&&g.stop(b)},onDragDetected:function(b){new this.mover(this.node,b,this)},onMoveStart:function(b){l.publish("/dnd/move/start",b);i.add(q.body(),"dojoMove");i.add(this.node,"dojoMoveItem")},onMoveStop:function(b){l.publish("/dnd/move/stop",b);i.remove(q.body(),"dojoMove");i.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},
onMove:function(b,a){this.onMoving(b,a);var d=b.node.style;d.left=a.l+"px";d.top=a.t+"px";this.onMoved(b,a)},onMoving:function(){},onMoved:function(){}})})},"dojo/dnd/common":function(){define("dojo/dnd/common",["../_base/connect","../_base/kernel","../_base/lang","../dom"],function(f,k,g,b){var e=g.getObject("dojo.dnd",!0);e.getCopyKeyState=f.isCopyKey;e._uniqueId=0;e.getUniqueId=function(){var f;do f=k._scopeName+"Unique"+ ++e._uniqueId;while(b.byId(f));return f};e._empty={};e.isFormElement=function(b){b=
b.target;if(3==b.nodeType)b=b.parentNode;return 0<=" button textarea input select option ".indexOf(" "+b.tagName.toLowerCase()+" ")};return e})},"dojo/dnd/Mover":function(){define("dojo/dnd/Mover","../_base/array,../_base/declare,../_base/event,../_base/lang,../sniff,../_base/window,../dom,../dom-geometry,../dom-style,../Evented,../on,../touch,./common,./autoscroll".split(","),function(f,k,g,b,e,i,d,h,l,j,n,o,q,c){return k("dojo.dnd.Mover",[j],{constructor:function(a,e,f){this.node=d.byId(a);this.marginBox=
{l:e.pageX,t:e.pageY};this.mouseButton=e.button;e=this.host=f;a=a.ownerDocument;this.events=[n(a,o.move,b.hitch(this,"onFirstMove")),n(a,o.move,b.hitch(this,"onMouseMove")),n(a,o.release,b.hitch(this,"onMouseUp")),n(a,"dragstart",g.stop),n(a.body,"selectstart",g.stop)];c.autoScrollStart(a);if(e&&e.onMoveStart)e.onMoveStart(this)},onMouseMove:function(a){c.autoScroll(a);var b=this.marginBox;this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);g.stop(a)},onMouseUp:function(a){(e("webkit")&&e("mac")&&
2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();g.stop(a)},onFirstMove:function(a){var b=this.node.style,c,d=this.host;switch(b.position){case "relative":case "absolute":c=Math.round(parseFloat(b.left))||0;b=Math.round(parseFloat(b.top))||0;break;default:b.position="absolute";b=h.getMarginBox(this.node);c=i.doc.body;var e=l.getComputedStyle(c),f=h.getMarginBox(c,e),e=h.getContentBox(c,e);c=b.l-(e.l-f.l);b=b.t-(e.t-f.t)}this.marginBox.l=c-this.marginBox.l;this.marginBox.t=
b-this.marginBox.t;if(d&&d.onFirstMove)d.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){f.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/dnd/autoscroll":function(){define("dojo/dnd/autoscroll","../_base/lang,../sniff,../_base/window,../dom-geometry,../dom-style,../window".split(","),function(f,k,g,b,e,i){var d={};f.setObject("dojo.dnd.autoscroll",d);d.getViewport=i.getBox;d.V_TRIGGER_AUTOSCROLL=
32;d.H_TRIGGER_AUTOSCROLL=32;d.V_AUTOSCROLL_VALUE=16;d.H_AUTOSCROLL_VALUE=16;var h,l=g.doc,j=Infinity,n=Infinity;d.autoScrollStart=function(b){l=b;h=i.getBox(l);b=g.body(l).parentNode;j=Math.max(b.scrollHeight-h.h,0);n=Math.max(b.scrollWidth-h.w,0)};d.autoScroll=function(b){var e=h||i.getBox(l),c=g.body(l).parentNode,a=0,f=0;b.clientX<d.H_TRIGGER_AUTOSCROLL?a=-d.H_AUTOSCROLL_VALUE:b.clientX>e.w-d.H_TRIGGER_AUTOSCROLL&&(a=Math.min(d.H_AUTOSCROLL_VALUE,n-c.scrollLeft));b.clientY<d.V_TRIGGER_AUTOSCROLL?
f=-d.V_AUTOSCROLL_VALUE:b.clientY>e.h-d.V_TRIGGER_AUTOSCROLL&&(f=Math.min(d.V_AUTOSCROLL_VALUE,j-c.scrollTop));window.scrollBy(a,f)};d._validNodes={div:1,p:1,td:1};d._validOverflow={auto:1,scroll:1};d.autoScrollNodes=function(f){for(var h,c,a,i,j,l,n=0,u=0,t=f.target;t;){if(1==t.nodeType&&t.tagName.toLowerCase()in d._validNodes){a=e.getComputedStyle(t);i=a.overflow.toLowerCase()in d._validOverflow;j=a.overflowX.toLowerCase()in d._validOverflow;l=a.overflowY.toLowerCase()in d._validOverflow;if(i||
j||l)h=b.getContentBox(t,a),c=b.position(t,!0);if(i||j)a=Math.min(d.H_TRIGGER_AUTOSCROLL,h.w/2),j=f.pageX-c.x,k("webkit")&&(j+=g.body().scrollLeft),n=0,0<j&&j<h.w&&(j<a?n=-a:j>h.w-a&&(n=a),t.scrollLeft+=n);if(i||l)i=Math.min(d.V_TRIGGER_AUTOSCROLL,h.h/2),l=f.pageY-c.y,k("webkit")&&(l+=g.body().scrollTop),u=0,0<l&&l<h.h&&(l<i?u=-i:l>h.h-i&&(u=i),t.scrollTop+=u);if(n||u)return}try{t=t.parentNode}catch(p){t=null}}d.autoScroll(f)};return d})},"dojo/dnd/TimedMoveable":function(){define("dojo/dnd/TimedMoveable",
["../_base/declare","./Moveable"],function(f,k){var g=k.prototype.onMove;return f("dojo.dnd.TimedMoveable",k,{timeout:40,constructor:function(b,e){e||(e={});if(e.timeout&&"number"==typeof e.timeout&&0<=e.timeout)this.timeout=e.timeout},onMoveStop:function(b){b._timer&&(clearTimeout(b._timer),g.call(this,b,b._leftTop));k.prototype.onMoveStop.apply(this,arguments)},onMove:function(b,e){b._leftTop=e;if(!b._timer){var f=this;b._timer=setTimeout(function(){b._timer=null;g.call(f,b,b._leftTop)},this.timeout)}}})})},
"dijit/form/_FormMixin":function(){define("dijit/form/_FormMixin","dojo/_base/array,dojo/_base/declare,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/window".split(","),function(f,k,g,b,e,i){return k("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(b){var e=[];f.forEach(b||this.getChildren(),function(b){"value"in b?e.push(b):e=e.concat(this._getDescendantFormWidgets(b.getChildren()))},this);return e},reset:function(){f.forEach(this._getDescendantFormWidgets(),function(b){b.reset&&
b.reset()})},validate:function(){var b=!1;return f.every(f.map(this._getDescendantFormWidgets(),function(e){e._hasBeenBlurred=!0;var f=e.disabled||!e.validate||e.validate();!f&&!b&&(i.scrollIntoView(e.containerNode||e.domNode),e.focus(),b=!0);return f}),function(b){return b})},setValues:function(b){g.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",b)},_setValueAttr:function(d){var e={};f.forEach(this._getDescendantFormWidgets(),
function(b){b.name&&(e[b.name]||(e[b.name]=[])).push(b)});for(var g in e)if(e.hasOwnProperty(g)){var j=e[g],i=b.getObject(g,!1,d);void 0!==i&&(b.isArray(i)||(i=[i]),"boolean"==typeof j[0].checked?f.forEach(j,function(b){b.set("value",-1!=f.indexOf(i,b.value))}):j[0].multiple?j[0].set("value",i):f.forEach(j,function(b,d){b.set("value",i[d])}))}},getValues:function(){g.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var d=
{};f.forEach(this._getDescendantFormWidgets(),function(e){var f=e.name;if(f&&!e.disabled){var g=e.get("value");"boolean"==typeof e.checked?/Radio/.test(e.declaredClass)?!1!==g?b.setObject(f,g,d):(g=b.getObject(f,!1,d),void 0===g&&b.setObject(f,null,d)):(e=b.getObject(f,!1,d),e||(e=[],b.setObject(f,e,d)),!1!==g&&e.push(g)):(e=b.getObject(f,!1,d),"undefined"!=typeof e?b.isArray(e)?e.push(g):b.setObject(f,[e,g],d):b.setObject(f,g,d))}});return d},isValid:function(){return""==this.state},onValidStateChange:function(){},
_getState:function(){var b=f.map(this._descendants,function(b){return b.get("state")||""});return 0<=f.indexOf(b,"Error")?"Error":0<=f.indexOf(b,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(b){this._descendants=this._getDescendantFormWidgets();f.forEach(this._descendants,function(b){b._started||b.startup()});b||this._onChildChange()},_onChildChange:function(b){(!b||"state"==b||"disabled"==b)&&this._set("state",this._getState());if(!b||"value"==b||"disabled"==
b||"checked"==b)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var b=this;this.own(e(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(e){e.target!=b.domNode&&
b._onChildChange(e.type.replace("attrmodified-",""))}));this.watch("state",function(b,d,e){this.onValidStateChange(""==e)})},destroy:function(){this.inherited(arguments)}})})},"dijit/_DialogMixin":function(){define("dijit/_DialogMixin",["dojo/_base/declare","./a11y"],function(f,k){return f("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var f=k._getTabNavigable(this.containerNode);
this._firstFocusItem=f.lowest||f.first||this.closeButtonNode||this.domNode;this._lastFocusItem=f.last||f.highest||this._firstFocusItem}})})},"dijit/DialogUnderlay":function(){define("dijit/DialogUnderlay","dojo/_base/declare,dojo/dom-attr,dojo/window,./_Widget,./_TemplatedMixin,./BackgroundIframe".split(","),function(f,k,g,b,e,i){return f("dijit.DialogUnderlay",[b,e],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' data-dojo-attach-point='node'></div></div>",
dialogId:"","class":"",_setDialogIdAttr:function(b){k.set(this.node,"id",b+"_underlay");this._set("dialogId",b)},_setClassAttr:function(b){this.node.className="dijitDialogUnderlay "+b;this._set("class",b)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode)},layout:function(){var b=this.node.style,e=this.domNode.style;e.display="none";var f=g.getBox(this.ownerDocument);e.top=f.t+"px";e.left=f.l+"px";b.width=f.w+"px";b.height=f.h+"px";e.display="block"},show:function(){this.domNode.style.display=
"block";this.layout();this.bgIframe=new i(this.domNode)},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none"}})})},"url:dijit/templates/Dialog.html":'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\n\t<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\n\t\t<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\n\t\t\t\trole="header" level="1"></span>\n\t\t<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabIndex="-1">\n\t\t\t<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\n</div>\n',
"*now":function(f){f(['dojo/i18n!*preload*dote-client/nls/viewTopicList*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define("dote-client/viewTopicList","dojo/_base/array,dojo/dom,dojo/promise/all,dojo/ready,dojo/store/Cache,dojo/store/JsonRest,dojo/store/Memory,dojo/when,dijit/form/Button,dijit/form/CheckBox,dijit/form/Select,dijit/form/TextBox,dijit/TitlePane,./TopicList,./userControls,moment/moment".split(","),function(f,k,g,b,e,i,d,h,l,j,n,o,q,c,a){function m(a){var b=[],c,d;for(c in a)switch(d=a[c],c){case "filterTagTextBox":d&&b.push("in(tags,("+d.split(/\s*,\s*/).join(",")+"))");break;case "filterInactive":d&&
b.push("in(action,(open,reopened))");break;case "filterAuthorSelect":d&&b.push("author="+d);break;case "filterOwnerSelect":"__undefined"===d?b.push("owner=null"):d&&b.push("owner="+d)}return"?"+b.join("&")}var r=e(new i({target:"/topics/"}),new d,{}),v=(new i({target:"/owners/"})).query(),B=(new i({target:"/authors/"})).query();b(function(){a.start();var b=[];new o({id:"filterTagTextBox",name:"filterTagTextBox",placeHolder:"Comma seperated"},"filterTagTextBox");new j({id:"filterInactive",name:"filterInactive"},
"filterInactive");var d=new n({id:"filterAuthorSelect",name:"filterAuthorSelect"},"filterAuthorSelect"),e=new n({id:"filterOwnerSelect",name:"filterOwnerSelect"},"filterOwnerSelect"),h=new l({id:"filterButton",label:"Filter",type:"button"},"filterButton");h.on("click",function(a){a&&a.preventDefault();i.set("disabled",!1);A.set("title","Filter (Active)");var b={};f.forEach(k.byId("filterForm").elements,function(a){if(a.name&&"checkbox"!==a.type)b[a.name]=a.value;else if(a.name)b[a.name]=a.checked});
x.set("query",m(b));x.empty();x.fetch()});var i=new l({id:"clearButton",label:"Clear",type:"button",disabled:!0},"clearButton");i.on("click",function(a){a&&a.preventDefault();i.set("disabled",!0);h.focus();A.set("title","Filter");x.set("query","");x.empty();x.fetch()});var A=new q({id:"filterPane",title:"Filter",open:!1},"filterPane");b.push(A);var x=new c({store:r,maxCount:20,queryOptions:{sort:[{attribute:"created",descending:!0}]},user:dote&&dote.username||""},"topicList");b.push(x);g({owners:v,
authors:B}).then(function(a){var c=a.owners,a=a.authors;c.unshift({label:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",value:null});e.set("options",c);a.unshift({label:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",value:null});d.set("options",a);f.forEach(b,function(a){a.startup()});x.fetch()})});return{}});