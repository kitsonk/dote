//>>built
require({cache:{"dojo/store/Cache":function(){define("dojo/store/Cache",["../_base/lang","../_base/Deferred"],function(g,i){var j=function(d,f,e){return g.delegate(d,{query:function(a,c){var k=d.query(a,c);k.forEach(function(a){(!e.isLoaded||e.isLoaded(a))&&f.put(a)});return k},queryEngine:d.queryEngine||f.queryEngine,get:function(a,c){return i.when(f.get(a),function(e){return e||i.when(d.get(a,c),function(c){c&&f.put(c,{id:a});return c})})},add:function(a,c){return i.when(d.add(a,c),function(e){f.add("object"==
typeof e?e:a,c);return e})},put:function(a,c){f.remove(c&&c.id||this.getIdentity(a));return i.when(d.put(a,c),function(e){f.put("object"==typeof e?e:a,c);return e})},remove:function(a,c){return i.when(d.remove(a,c),function(){return f.remove(a,c)})},evict:function(a){return f.remove(a)}})};g.setObject("dojo.store.Cache",j);return j})},"dojo/store/JsonRest":function(){define("dojo/store/JsonRest",["../_base/xhr","../_base/lang","../json","../_base/declare","./util/QueryResults"],function(g,i,j,d,f){return d("dojo.store.JsonRest",
null,{constructor:function(e){this.headers={};d.safeMixin(this,e)},headers:{},target:"",idProperty:"id",get:function(e,a){var a=a||{},c=i.mixin({Accept:this.accepts},this.headers,a.headers||a);return g("GET",{url:this.target+e,handleAs:"json",headers:c})},accepts:"application/javascript, application/json",getIdentity:function(e){return e[this.idProperty]},put:function(e,a){var a=a||{},c="id"in a?a.id:this.getIdentity(e),d="undefined"!=typeof c;return g(d&&!a.incremental?"PUT":"POST",{url:d?this.target+
c:this.target,postData:j.stringify(e),handleAs:"json",headers:i.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":!0===a.overwrite?"*":null,"If-None-Match":!1===a.overwrite?"*":null},this.headers,a.headers)})},add:function(e,a){a=a||{};a.overwrite=!1;return this.put(e,a)},remove:function(e,a){a=a||{};return g("DELETE",{url:this.target+e,headers:i.mixin({},this.headers,a.headers)})},query:function(e,a){var a=a||{},c=i.mixin({Accept:this.accepts},this.headers,a.headers);if(0<=
a.start||0<=a.count)c.Range=c["X-Range"]="items="+(a.start||"0")+"-"+("count"in a&&Infinity!=a.count?a.count+(a.start||0)-1:"");var d=-1<this.target.indexOf("?");e&&"object"==typeof e&&(e=(e=g.objectToQuery(e))?(d?"&":"?")+e:"");if(a&&a.sort){for(var l=this.sortParam,e=e+((e||d?"&":"?")+(l?l+"=":"sort(")),d=0;d<a.sort.length;d++)var o=a.sort[d],e=e+((0<d?",":"")+(o.descending?"-":"+")+encodeURIComponent(o.attribute));l||(e+=")")}var m=g("GET",{url:this.target+(e||""),handleAs:"json",headers:c});m.total=
m.then(function(){var a=m.ioArgs.xhr.getResponseHeader("Content-Range");return a&&(a=a.match(/\/(.*)/))&&+a[1]});return f(m)}})})},"dojo/store/util/QueryResults":function(){define("dojo/store/util/QueryResults",["../../_base/array","../../_base/lang","../../_base/Deferred"],function(g,i,j){var d=function(f){function e(a){f[a]||(f[a]=function(){var c=arguments;return j.when(f,function(e){Array.prototype.unshift.call(c,e);return d(g[a].apply(g,c))})})}if(!f)return f;f.then&&(f=i.delegate(f));e("forEach");
e("filter");e("map");if(!f.total)f.total=j.when(f,function(a){return a.length});return f};i.setObject("dojo.store.util.QueryResults",d);return d})},"dojo/store/Memory":function(){define("dojo/store/Memory",["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(g,i,j){return g("dojo.store.Memory",null,{constructor:function(d){for(var f in d)this[f]=d[f];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:j,get:function(d){return this.data[this.index[d]]},
getIdentity:function(d){return d[this.idProperty]},put:function(d,f){var e=this.data,a=this.index,c=this.idProperty,c=d[c]=f&&"id"in f?f.id:c in d?d[c]:Math.random();if(c in a){if(f&&!1===f.overwrite)throw Error("Object already exists");e[a[c]]=d}else a[c]=e.push(d)-1;return c},add:function(d,f){(f=f||{}).overwrite=!1;return this.put(d,f)},remove:function(d){var f=this.index,e=this.data;if(d in f)return e.splice(f[d],1),this.setData(e),!0},query:function(d,f){return i(this.queryEngine(d,f)(this.data))},
setData:function(d){var a;d.items?(this.idProperty=d.identifier,a=this.data=d.items,d=a):this.data=d;this.index={};for(var f=0,e=d.length;f<e;f++)this.index[d[f][this.idProperty]]=f}})})},"dojo/store/util/SimpleQueryEngine":function(){define("dojo/store/util/SimpleQueryEngine",["../../_base/array"],function(g){return function(i,j){function d(e){var e=g.filter(e,i),a=j&&j.sort;a&&e.sort("function"==typeof a?a:function(c,e){for(var d,m=0;d=a[m];m++){var f=c[d.attribute],n=e[d.attribute];if(f!=n)return!!d.descending==
(null==f||f>n)?-1:1}return 0});if(j&&(j.start||j.count)){var c=e.length,e=e.slice(j.start||0,(j.start||0)+(j.count||Infinity));e.total=c}return e}switch(typeof i){default:throw Error("Can not query with a "+typeof i);case "object":case "undefined":var f=i,i=function(d){for(var a in f){var c=f[a];if(c&&c.test){if(!c.test(d[a],d))return!1}else if(c!=d[a])return!1}return!0};break;case "string":if(!this[i])throw Error("No filter function "+i+" was found in store");i=this[i];case "function":}d.matches=
i;return d}})},"dote-client/TopicList":function(){require({cache:{"url:dote-client/resources/_TopicListItem.html":'<div class="${baseClass}">\n\t<div class="${baseClass}VoteContainer">\n\t\t<div class="${baseClass}VoteInner">\n\t\t\t<div class="${baseClass}Votes" data-dojo-attach-point="votesNode"></div>\n\t\t\t<div class="${baseClass}Spark">\n\t\t\t\t<table>\n\t\t\t\t\t<col class="${baseClass}SparkPlus" data-dojo-attach-point="sparkPlusNode">\n\t\t\t\t\t<col class="${baseClass}SparkNeutral" data-dojo-attach-point="sparkNeutralNode">\n\t\t\t\t\t<col class="${baseClass}SparkMinus" data-dojo-attach-point="sparkMinusNode">\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t\t<div class="${baseClass}VoteButtons">\n\t\t\t\t<ul>\n\t\t\t\t\t<li role="button">\n\t\t\t\t\t\t<a href="#" class="${baseClass}VoteUp" data-dojo-attach-point="voteUpNode" data-dojo-attach-event="ondijitclick:_onUpClick"><i class="icon-plus"></i><span>Up</span></a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li role="button">\n\t\t\t\t\t\t<a href="#" class="${baseClass}VoteNeutral" data-dojo-attach-point="voteNeutralNode" data-dojo-attach-event="ondijitclick:_onNeutralClick"><i class="icon-check-empty"></i><span>Neutral</span></a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li role="button">\n\t\t\t\t\t\t<a href="#" class="${baseClass}VoteDown" data-dojo-attach-point="voteDownNode" data-dojo-attach-event="ondijitclick:_onDownClick"><i class="icon-minus"></i><span>Minus</span></a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="${baseClass}ContentContainer">\n\t\t<div class="${baseClass}ContentInner">\n\t\t\t<div class="${baseClass}Title" data-dojo-attach-point="titleNode"></div>\n\t\t\t<div class="${baseClass}Status" data-dojo-attach-point="statusContainerNode">\n\t\t\t\t<div class="${baseClass}Action" data-dojo-attach-point="actionStatusNode"></div>\n\t\t\t\t<div class="${baseClass}Owner" data-dojo-attach-point="ownerNode"></div>\n\t\t\t\t<div class="${baseClass}Posted" data-dojo-attach-point="postedStatusNode"></div>\n\t\t\t\t<div class="${baseClass}Actioned" data-dojo-attach-point="actionedStatusNode"></div>\n\t\t\t\t<div class="${baseClass}CommentCount"><i class="icon-comments-alt"></i><span data-dojo-attach-point="commentsCountNode"></span></div>\n\t\t\t</div>\n\t\t\t<div class="${baseClass}Summary" data-dojo-attach-point="summaryNode"></div>\n\t\t\t<div class="${baseClass}TagsContainer">\n\t\t\t\t<i class="icon-tags icon-large"></i>\n\t\t\t\t<ul class="${baseClass}Tags" data-dojo-attach-point="tagsNode">\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class="${baseClass}VotersContainer">\n\t\t\t\t<i class="icon-check icon-large"></i>\n\t\t\t\t<ul class="${baseClass}Voters" data-dojo-attach-point="votersNode">\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class="${baseClass}HeightContainer"></div>\n\t\t</div>\n\t</div>\n\t<div class="${baseClass}HeightContainer"></div>\n</div>\n',
"url:dote-client/resources/TopicList.html":'<div class="${baseClass}" role="presentation" data-dojo-attach-point="wrapperNode">\n\t<div class="${baseClass}Container" data-dojo-attach-point="containerNode"></div>\n\t<div class="${baseClass}More ${baseClass}Hide" data-dojo-attach-point="moreNode">\n\t\t<button type="button" class="${baseClass}MoreButton" data-dojo-attach-event="ondijitclick:_onMoreClick" data-dojo-attach-point="moreButtonNode">${moreLabel}</button>\n\t</div>\n</div>'}});define("dote-client/TopicList",
"./_StoreMixin,./_TopicMixin,dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-geometry,dojo/json,dojo/on,dojo/window,dijit/_Contained,dijit/_CssStateMixin,dijit/_OnDijitClickMixin,dijit/_TemplatedMixin,dijit/_WidgetBase,dijit/layout/_LayoutWidget,dojo/text!./resources/_TopicListItem.html,dojo/text!./resources/TopicList.html".split(","),function(g,i,j,d,f,e,a,c,k,l,o,m,s,n,b,z,q,t,v){var u=d([z,m,b,i],{baseClass:"doteTopicItem",templateString:t,cssStateNodes:{voteUpNode:"doteTopicItemVoteUp",
voteNeutralNode:"doteTopicItemVoteNeutral",voteDownNode:"doteTopicItemVoteDown",titleNode:"doteTopicItemTitle"},item:null,_setItemAttr:function(h){for(var b in h)"id"!==b&&this.set(b,h[b]);this._set("item",h)},title:"",_setTitleAttr:function(h){this.titleNode.innerHTML='<a href="/topic/'+this.item.id+'">'+h+"</a>";this._set("title",h)},vote:null,_setVoteAttr:function(h){this.item&&(j.some(this.item.voters,function(b){return b.name===this.topicList.user?(b.vote=h,!0):!1},this)||this.item.voters.push({name:this.topicList.user,
vote:h}),this.set("voters",this.item.voters),this.topicList.store.put(this.item));this._set("vote",h)},_setDescriptionAttr:null,tags:[],_setTagsAttr:function(h){"string"===typeof h&&(h=h.split(/\s*,\s*/));if(this.item&&this.tags&&h&&this._started&&h.join()!==this.tags.join())this.item.tags=h,this.topicList.store.put(this.item);this._set("tags",h);this._started&&this._displayTags()},tagsEditable:!0,topicList:null,_onActionChange:function(h){this.inherited(arguments);if(this.item.action!==h){this.item.action=
h;var b=this;when(this.topicList.store.put(this.item),function(h){b.set("item",h)})}}});return d([q,b,s,n,g],{baseClass:"doteTopicList",templateString:v,moreLabel:"More...",loadingLabel:"Loading...",cssStateNodes:{moreButtonNode:"doteTopicListMoreButton"},user:"",more:!1,_setMoreAttr:function(h){if(h!==this.more)h?(a.remove(this.moreNode,this.baseClass+"Hide"),this._signals.push(l(this.domNode.parentNode,"scroll",f.hitch(this,this._calcMoreVisible))),this._signals.push(l(e.doc,"scroll",f.hitch(this,
this._calcMoreVisible)))):(a.add(this.moreNode,this.baseClass+"Hide"),j.forEach(this._signals,function(h){h.remove()}),this._signals=[]),this._set("more",h)},moreVisible:!1,_signals:null,_morePos:null,constructor:function(){this._signals=[]},startup:function(){this.inherited(arguments);this.own(this.on("results",f.hitch(this,this._onResults)));this.own(this.on("visible",f.hitch(this,this._onVisible)))},addTopic:function(h){h=f.mixin(h,{id:this.id+"_topic"+this.getChildren().length});this.addChild(new u(h))},
_onResults:function(h){if(h&&h.items){var b=this;h.items.forEach(function(h){this._morePos=null;b.addChild(new u({id:b.id+"_topic"+b.getChildren().length,voter:b.user,topicList:b,item:h}))});this.total&&this.total>this.getChildren().length?this.set("more",!0):this.set("more",!1)}},_calcMoreVisible:function(){var h=this._morePos=this._morePos||c.position(this.moreNode,!0),b=o.getBox(),a=h.y>b.t&&h.y<=b.h+b.t&&h.x>b.l&&h.x<=b.w+b.l;a!==this.moreVisible&&(a&&!this.moreVisible&&this.emit("visible",{node:this.moreNode,
position:{node:h,win:b}}),this.set("moreVisible",a))},_setLoading:function(){this.moreButtonNode.innerHTML=this._querying?this.loadingLabel:this.moreLabel},_onVisible:function(b){b.node===this.moreNode&&this.start<this.maxCount&&(this._setLoading(),this.fetch().then(f.hitch(this,this._setLoading)))},_onMoreClick:function(b){b&&b.preventDefault();this._setLoading();this.fetch().then(f.hitch(this,this._setLoading))}})})},"dote-client/_StoreMixin":function(){define("dote-client/_StoreMixin",["dojo/_base/array",
"dojo/_base/declare","dojo/_base/lang","dojo/when"],function(g,i,j,d){return i(null,{store:null,_setStoreAttr:function(d){this._set("store",d);this.dirty={}},query:null,_setQueryAttr:function(d){this._set("query",void 0!==d?d:this.query)},_getQueryAttr:function(){return"object"==typeof this.query&&null!==this.query?j.delegate(this.query,{}):this.query},queryOptions:null,_setQueryOptionsAttr:function(d){this._set("queryOptions",d||this.queryOptions)},_getQueryOptionsAttr:function(){return j.delegate(this.queryOptions,
{})},start:0,count:10,maxCount:Infinity,total:null,getBeforePut:!0,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this.sort=[];this._updating={}},_results:null,_querying:!1,fetch:function(){if(!this._querying){this._querying=!0;var f=this._results=this.store.query(this.query,j.mixin({start:this.start,count:this.count},this.queryOptions||{})),e=this;return d(f.total,function(a){e._set("total",a);return d(f,function(a){e._set("start",e.start+
a.length);e.emit("results",{items:a});e._querying=!1})})}},refresh:function(){var f=this._results=this.store.query(this.query,this.queryOptions),e=this;return d(f.total,function(a){e._set("total",a);return d(f,function(a){e.emit("results",{items:a})})})}})})},"dote-client/_TopicMixin":function(){define("dote-client/_TopicMixin","dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/on,dijit/_CssStateMixin,dijit/_OnDijitClickMixin,dijit/form/Select,dijit/form/TextBox,moment/moment".split(","),
function(g,i,j,d,f,e,a,c,k,l,o,m){var s=["open","reopened"],n=[{value:"open",label:"Open"},{value:"reopened",label:"Reopened"},{value:"accepted",label:"Accepted"},{value:"rejected",label:"Rejected"}];return i([c,k],{cssStateNodes:{voteUpNode:"doteTopicItemVoteUp",voteNeutralNode:"doteTopicItemVoteNeutral",voteDownNode:"doteTopicItemVoteDown"},title:"",_setTitleAttr:{node:"titleNode",type:"innerHTML"},description:"",_setDescriptionAttr:{node:"descriptionNode",type:"innerHTML"},summary:"",_setSummaryAttr:{node:"summaryNode",
type:"innerHTML"},votes:0,_setVotesAttr:{node:"votesNode",type:"innerHTML"},voter:"",voters:[],_setVotersAttr:function(b){var a=0;b instanceof Array?this._set("voters",b):this._set("voters",JSON.parse(b));g.forEach(this.voters,function(b){b.vote&&(a+=b.vote)});this.set("votes",a);this._started&&(this._displayVoters(),this._displayVote(),this._displaySpark())},itemWidgets:{},actionSelect:null,action:"",_setActionAttr:function(b){this.actionSelect?this.actionSelect.set("value",b):this.actionStatusNode.innerHTML=
b;this._set("action",b);this._started&&this._displayStatus()},owner:"",_setOwnerAttr:function(b){if(b===(this.user||this.topicList&&this.topicList.user||"")){if(!this.actionSelect)this.actionSelect=new l({id:this.id+"_actionSelect",name:"action",options:n,value:this.action}),f.empty(this.actionStatusNode),this.actionSelect.placeAt(this.actionStatusNode),this.actionSelect.startup(),this.own(this.actionSelect.on("change",j.hitch(this,this._onActionChange)))}else this.actionSelect&&this.actionSelect.destroy(),
f.empty(this.actionStatusNode),this.actionStatusNode.innerHTML=this.action;this.ownerNode.innerHTML=b;this._set("owner",b)},author:"",actioned:"",_setActionedAttr:function(b){b instanceof Date||b instanceof Array?b=m(b).fromNow():parseFloat(b)==parseInt(b,10)&&!isNaN(b)&&(b=m.unix(b).fromNow());this.actionedStatusNode.innerHTML=b?"Actioned "+b:"";this._set("actionTime",b)},created:"",_setCreatedAttr:function(b){b instanceof Date||b instanceof Array?b=m(b).fromNow():parseFloat(b)==parseInt(b,10)&&
!isNaN(b)&&(b=m.unix(b).fromNow());this.postedStatusNode.innerHTML=(b?"Posted "+b:"")+(this.author?"<br>by "+this.author:"");this._set("created",b)},commentsCount:0,_setCommentsCountAttr:{node:"commentsCountNode",type:"innerHTML"},tagsEditable:!1,addTagNode:null,addTagListener:null,constructor:function(){this.voters=[];this.tags=[];this.itemWidgets={}},postCreate:function(){this.inherited(arguments);this._displayTags();this._displayVoters();this._displayVote();this._displaySpark();this._displayStatus()},
_displayVoters:function(){f.empty(this.votersNode);g.forEach(this.voters,function(b){f.create("li",{innerHTML:b.name,"class":0<b.vote?this.baseClass+"VoterPlus":0>b.vote?this.baseClass+"VoterMinus":this.baseClass+"VoterNeutral"},this.votersNode)},this)},_displayTags:function(){this.addTagListener&&this.addTagListener.remove();f.empty(this.tagsNode);g.forEach(this.tags,function(b){f.create("li",{innerHTML:b},this.tagsNode)},this);if(this.tagsEditable)this.addTagNode=f.create("a",{href:"/editTags",
innerHTML:'<i class="icon-edit icon-large"></i><span class="a11yLabel">Add Tag</span>'},this.tagsNode),this.addTagListener=a(this.addTagNode,"click",j.hitch(this,this._editTags))},_editTags:function(b){function a(b){if(!b||b&&13==b.charOrCode)b=n.get("value"),n.destroy(),this.set("tags",b)}b&&b.preventDefault();this.addTagListener.remove();f.empty(this.tagsNode);var n=new o({id:this.id+"_editTags",name:"editTags",value:this.get("tags").join(", "),style:{width:"550px"}});n.on("blur",j.hitch(this,a));
n.on("keypress",j.hitch(this,a));n.placeAt(this.tagsNode);n.startup()},_displayVote:function(){var b=this.baseClass+"VoteSelected";g.some(this.voters,function(a){if(a.name===this.voter){switch(a.vote){case -1:d.remove(this.voteUpNode,b);d.remove(this.voteNeutralNode,b);d.add(this.voteDownNode,b);break;case 1:d.add(this.voteUpNode,b);d.remove(this.voteNeutralNode,b);d.remove(this.voteDownNode,b);break;case 0:d.remove(this.voteUpNode,b),d.add(this.voteNeutralNode,b),d.remove(this.voteDownNode,b)}return!0}return!1},
this)},_displaySpark:function(){if(this.voters.length){var b=0,a=0,n=0;g.forEach(this.voters,function(c){switch(c.vote){case -1:a++;break;case 1:b++;break;default:n++}});var b=Math.round(100*(b/this.voters.length)),a=Math.round(100*(a/this.voters.length)),n=Math.round(100*(n/this.voters.length)),c=100-b-a-n;b?b+=c:a?a+=c:n+=c;e.set(this.sparkPlusNode,"width",b+"%");e.set(this.sparkNeutralNode,"width",n+"%");e.set(this.sparkMinusNode,"width",a+"%")}},_displayStatus:function(){~s.indexOf(this.action)?
d.add(this.statusContainerNode,this.baseClass+"StatusActive"):d.remove(this.statusContainerNode,this.baseClass+"StatusActive")},_onActionChange:function(b){this.set("action",b)},_onUpClick:function(b){b&&b.preventDefault();this.set("vote",1)},_onNeutralClick:function(b){b&&b.preventDefault();this.set("vote",0)},_onDownClick:function(b){b&&b.preventDefault();this.set("vote",-1)}})})},"dijit/form/Select":function(){require({cache:{"url:dijit/form/templates/Select.html":'<table class="dijit dijitReset dijitInline dijitLeft"\n\tdata-dojo-attach-point="_buttonNode,tableNode,focusNode" cellspacing=\'0\' cellpadding=\'0\'\n\trole="listbox" aria-haspopup="true"\n\t><tbody role="presentation"><tr role="presentation"\n\t\t><td class="dijitReset dijitStretch dijitButtonContents" role="presentation"\n\t\t\t><div class="dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point="containerNode,_popupStateNode" role="presentation"></div\n\t\t\t><div class="dijitReset dijitValidationContainer"\n\t\t\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t\t/></div\n\t\t\t><input type="hidden" ${!nameAttrSetting} data-dojo-attach-point="valueNode" value="${value}" aria-hidden="true"\n\t\t/></td\n\t\t><td class="dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\n\t\t\tdata-dojo-attach-point="titleNode" role="presentation"\n\t\t\t><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/></td\n\t></tr></tbody\n></table>\n'}});
define("dijit/form/Select","dojo/_base/array,dojo/_base/declare,dojo/dom-attr,dojo/dom-class,dojo/dom-geometry,dojo/_base/event,dojo/i18n,dojo/_base/lang,dojo/sniff,./_FormSelectWidget,../_HasDropDown,../Menu,../MenuItem,../MenuSeparator,../Tooltip,dojo/text!./templates/Select.html,dojo/i18n!./nls/validate".split(","),function(g,i,j,d,f,e,a,c,k,l,o,m,s,n,b,z){var q=i("dijit.form._SelectMenu",m,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);var b=this.menuTableNode=this.domNode,
a=this.domNode=this.ownerDocument.createElement("div");a.style.cssText="overflow-x: hidden; overflow-y: scroll";b.parentNode&&b.parentNode.replaceChild(a,b);d.remove(b,"dijitMenuTable");a.className=b.className+" dijitSelectMenu";b.className="dijitReset dijitMenuTable";b.setAttribute("role","listbox");a.setAttribute("role","presentation");a.appendChild(b)},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onselectstart",e.stop)},focus:function(){var b=!1,a=this.parentWidget.value;
c.isArray(a)&&(a=a[a.length-1]);a&&g.forEach(this.parentWidget._getChildren(),function(n){n.option&&a===n.option.value&&(b=!0,this.focusChild(n,!1))},this);b||this.inherited(arguments)},resize:function(b){if(b&&(f.setMarginBox(this.domNode,b),"w"in b))this.menuTableNode.style.width="100%"}}),i=i("dijit.form.Select",[l,o],{baseClass:"dijitSelect dijitValidationTextBox",templateString:z,_buttonInputDisabled:k("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"&#160;",
_isLoaded:!1,_childrenLoaded:!1,_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var b=this.srcNodeRef.selectedIndex||0;this.value=this.options[0<=b?b:0].value}this.dropDown=new q({id:this.id+"_menu",parentWidget:this});d.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(b){if(!b.value&&!b.label)return new n({ownerDocument:this.ownerDocument});var a=c.hitch(this,"_setValueAttr",b),b=new s({option:b,
label:b.label||this.emptyLabel,onClick:a,ownerDocument:this.ownerDocument,dir:this.dir,disabled:b.disabled||!1});b.focusNode.setAttribute("role","option");return b},_addOptionItem:function(b){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(b))},_getChildren:function(){return!this.dropDown?[]:this.dropDown.getChildren()},_loadChildren:function(b){!0===b?(this.dropDown&&delete this.dropDown.focusedChild,this.options.length?this.inherited(arguments):(g.forEach(this._getChildren(),function(b){b.destroyRecursive()}),
this.dropDown.addChild(new s({ownerDocument:this.ownerDocument,label:this.emptyLabel})))):this._updateSelection();this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(b){this.inherited(arguments);j.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setDisabledAttr:function(b){this.inherited(arguments);
this._refreshState()},_setRequiredAttr:function(b){this._set("required",b);this.focusNode.setAttribute("aria-required",b);this._refreshState()},_setOptionsAttr:function(b){this._isLoaded=!1;this._set("options",b)},_setDisplay:function(b){b=b||this.emptyLabel;this.containerNode.innerHTML='<span role="option" class="dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'">'+b+"</span>"},validate:function(a){a=this.disabled||this.isValid(a);this._set("state",a?"":this._hasBeenBlurred?"Error":
"Incomplete");this.focusNode.setAttribute("aria-invalid",a?"false":"true");var n=a?"":this._missingMsg;n&&this.focused&&this._hasBeenBlurred?b.show(n,this.domNode,this.tooltipPosition,!this.isLeftToRight()):b.hide(this.domNode);this._set("message",n);return a},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);b.hide(this.domNode);this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=
a.getLocalization("dijit.form","validate",this.lang).missingMessage},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onselectstart",e.stop);this.domNode.setAttribute("aria-expanded","false");9>k("ie")&&this.defer(function(){try{var b=domStyle.getComputedStyle(this.domNode);if(b){var a=b.fontFamily;if(a){var n=this.domNode.getElementsByTagName("INPUT");if(n)for(b=0;b<n.length;b++)n[b].style.fontFamily=a}}}catch(h){}})},_setStyleAttr:function(b){this.inherited(arguments);
d.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(b){this._loadChildren(!0);this._isLoaded=!0;b()},closeDropDown:function(){this.inherited(arguments);if(this.dropDown&&this.dropDown.menuTableNode)this.dropDown.menuTableNode.style.width=""},destroy:function(b){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(b),delete this.dropDown);this.inherited(arguments)},_onFocus:function(){this.validate(!0);
this.inherited(arguments)},_onBlur:function(){b.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});i._Menu=q;return i})},"dijit/form/_FormSelectWidget":function(){define("dijit/form/_FormSelectWidget","dojo/_base/array,dojo/_base/Deferred,dojo/aspect,dojo/data/util/sorter,dojo/_base/declare,dojo/dom,dojo/dom-class,dojo/_base/kernel,dojo/_base/lang,dojo/query,dojo/when,dojo/store/util/QueryResults,./_FormValueWidget".split(","),function(g,i,j,d,f,e,a,c,k,l,o,m,s){return f("dijit.form._FormSelectWidget",
s,{multiple:!1,options:null,store:null,query:null,queryOptions:null,labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,onLoadDeferred:null,getOptions:function(a){var b=a,c=this.options||[],d=c.length;if(void 0===b)return c;if(k.isArray(b))return g.map(b,"return this.getOptions(item);",this);k.isObject(a)&&(g.some(this.options,function(a,n){return a===b||a.value&&a.value===b.value?(b=n,!0):!1})||(b=-1));if("string"==typeof b)for(a=0;a<d;a++)if(c[a].value===b){b=a;break}return"number"==
typeof b&&0<=b&&b<d?this.options[b]:null},addOption:function(a){k.isArray(a)||(a=[a]);g.forEach(a,function(b){b&&k.isObject(b)&&this.options.push(b)},this);this._loadChildren()},removeOption:function(a){k.isArray(a)||(a=[a]);a=this.getOptions(a);g.forEach(a,function(b){if(b)this.options=g.filter(this.options,function(a){return a.value!==b.value||a.label!==b.label}),this._removeOptionItem(b)},this);this._loadChildren()},updateOption:function(a){k.isArray(a)||(a=[a]);g.forEach(a,function(b){var a=this.getOptions(b),
n;if(a)for(n in b)a[n]=b[n]},this);this._loadChildren()},setStore:function(a,b,c){var e=this.store,c=c||{};if(e!==a){for(var l;l=this._notifyConnections.pop();)l.remove();if(!a.get&&(k.mixin(a,{_oldAPI:!0,get:function(b){var a=new i;this.fetchItemByIdentity({identity:b,onItem:function(b){a.resolve(b)},onError:function(b){a.reject(b)}});return a.promise},query:function(b,a){var h=new i(function(){c.abort&&c.abort()});h.total=new i;var c=this.fetch(k.mixin({query:b,onBegin:function(b){h.total.resolve(b)},
onComplete:function(b){h.resolve(b)},onError:function(b){h.reject(b)}},a));return new m(h)}}),a.getFeatures()["dojo.data.api.Notification"]))this._notifyConnections=[j.after(a,"onNew",k.hitch(this,"_onNewItem"),!0),j.after(a,"onDelete",k.hitch(this,"_onDeleteItem"),!0),j.after(a,"onSet",k.hitch(this,"_onSetItem"),!0)];this._set("store",a)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();c.query&&(this._set("query",c.query),
this._set("queryOptions",c.queryOptions));if(a)this._loadingStore=!0,this.onLoadDeferred=new i,this._queryRes=a.query(this.query,this.queryOptions),o(this._queryRes,k.hitch(this,function(e){if(this.sortByLabel&&!c.sort&&e.length)if(e[0].getValue)e.sort(d.createSortFunction([{attribute:a.getLabelAttributes(e[0])[0]}],a));else{var l=this.labelAttr;e.sort(function(b,a){return b[l]>a[l]?1:a[l]>b[l]?-1:0})}c.onFetch&&(e=c.onFetch.call(this,e,c));g.forEach(e,function(b){this._addOptionForItem(b)},this);
this._queryRes.observe&&this._queryRes.observe(k.hitch(this,function(b,a,c){a==c?this._onSetItem(b):(-1!=a&&this._onDeleteItem(b),-1!=c&&this._onNewItem(b))}),!0);this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:b);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(e):this._loadChildren();this.onLoadDeferred.resolve(!0);this.onSetStore()}),function(b){console.error("dijit.form.Select: "+b.toString());this.onLoadDeferred.reject(b)});return e},
_setValueAttr:function(a,b){this._onChangeActive||(b=null);if(this._loadingStore)this._pendingValue=a;else{var c=this.getOptions()||[];k.isArray(a)||(a=[a]);g.forEach(a,function(b,d){k.isObject(b)||(b+="");"string"===typeof b&&(a[d]=g.filter(c,function(a){return a.value===b})[0]||{value:"",label:""})},this);a=g.filter(a,function(b){return b&&b.value});if(!this.multiple&&(!a[0]||!a[0].value)&&c.length)a[0]=c[0];g.forEach(c,function(b){b.selected=g.some(a,function(a){return a.value===b.value})});var d=
g.map(a,function(b){return b.value}),e=g.map(a,function(b){return b.label});"undefined"==typeof d||"undefined"==typeof d[0]||(this._setDisplay(this.multiple?e:e[0]),this.inherited(arguments,[this.multiple?d:d[0],b]),this._updateSelection())}},_getDisplayedValueAttr:function(){var a=this.get("value");k.isArray(a)||(a=[a]);a=g.map(this.getOptions(a),function(b){return b&&"label"in b?b.label:b?b.value:null},this);return this.multiple?a:a[0]},_loadChildren:function(){this._loadingStore||(g.forEach(this._getChildren(),
function(a){a.destroyRecursive()}),g.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this._set("value",this._getValueFromOpts());var c=this.value;k.isArray(c)||(c=[c]);c&&c[0]&&g.forEach(this._getChildren(),function(b){var d=g.some(c,function(a){return b.option&&a===b.option.value});a.toggle(b.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),d);b.domNode.setAttribute("aria-selected",d?"true":"false")},this)},_getValueFromOpts:function(){var a=
this.getOptions()||[];if(!this.multiple&&a.length){var b=g.filter(a,function(b){return b.selected})[0];if(b&&b.value)return b.value;a[0].selected=!0;return a[0].value}return this.multiple?g.map(g.filter(a,function(b){return b.selected}),function(b){return b.value})||[]:""},_onNewItem:function(a,b){(!b||!b.parent)&&this._addOptionForItem(a)},_onDeleteItem:function(a){this.removeOption(this.store.getIdentity(a))},_onSetItem:function(a){this.updateOption(this._getOptionObjForItem(a))},_getOptionObjForItem:function(a){var b=
this.store,c=this.labelAttr&&this.labelAttr in a?a[this.labelAttr]:b.getLabel(a);return{value:c?b.getIdentity(a):null,label:c,item:a}},_addOptionForItem:function(a){var b=this.store;b.isItemLoaded&&!b.isItemLoaded(a)?b.loadItem({item:a,onItem:function(a){this._addOptionForItem(a)},scope:this}):this.addOption(this._getOptionObjForItem(a))},constructor:function(a){this._oValue=(a||{}).value||null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);e.setSelectable(this.focusNode,
!1)},_fillContent:function(){if(!this.options)this.options=this.srcNodeRef?l("> *",this.srcNodeRef).map(function(a){return"separator"===a.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:a.getAttribute("data-"+c._scopeName+"-value")||a.getAttribute("value"),label:""+a.innerHTML,selected:a.getAttribute("selected")||!1,disabled:a.getAttribute("disabled")||!1}},this):[];this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",
this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);this.connect(this,"onChange","_updateSelection");var a=this.store;if(a&&(a.getIdentity||a.getFeatures()["dojo.data.api.Identity"]))this.store=null,this.setStore(a,this._oValue)},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var a;a=this._notifyConnections.pop();)a.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close();this.inherited(arguments)},_addOptionItem:function(){},
_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},_getSelectedOptionsAttr:function(){return this.getOptions(this.get("value"))},_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"dojo/data/util/sorter":function(){define("dojo/data/util/sorter",["../../_base/lang"],function(g){var i={};g.setObject("dojo.data.util.sorter",i);i.basicComparator=function(i,d){var f=-1;null===i&&(i=void 0);null===d&&(d=void 0);if(i==d)f=0;else if(i>d||null==i)f=1;return f};
i.createSortFunction=function(g,d){function f(a,c,b,d){return function(e,l){var m=d.getValue(e,a),f=d.getValue(l,a);return c*b(m,f)}}for(var e=[],a,c=d.comparatorMap,k=i.basicComparator,l=0;l<g.length;l++){a=g[l];var o=a.attribute;if(o){a=a.descending?-1:1;var m=k;c&&("string"!==typeof o&&"toString"in o&&(o=o.toString()),m=c[o]||k);e.push(f(o,a,m,d))}}return function(a,c){for(var b=0;b<e.length;){var d=e[b++](a,c);if(0!==d)return d}return 0}};return i})},"dijit/_HasDropDown":function(){define("dijit/_HasDropDown",
"dojo/_base/declare,dojo/_base/Deferred,dojo/_base/event,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/has,dojo/keys,dojo/_base/lang,dojo/on,dojo/window,./registry,./focus,./popup,./_FocusMixin".split(","),function(g,i,j,d,f,e,a,c,k,l,o,m,s,n,b,z,q){return g("dijit._HasDropDown",q,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){if(!this.disabled&&
!this.readOnly)a.preventDefault(),this._docHandler=this.connect(this.ownerDocument,"mouseup","_onDropDownMouseUp"),this.toggleDropDown()},_onDropDownMouseUp:function(b){b&&this._docHandler&&this.disconnect(this._docHandler);var c=this.dropDown,d=!1;if(b&&this._opened){var h=a.position(this._buttonNode,!0);if(!(b.pageX>=h.x&&b.pageX<=h.x+h.w)||!(b.pageY>=h.y&&b.pageY<=h.y+h.h)){for(h=b.target;h&&!d;)e.contains(h,"dijitPopup")?d=!0:h=h.parentNode;if(d){h=b.target;if(c.onItemClick){for(var l;h&&!(l=
n.byNode(h));)h=h.parentNode;if(l&&l.onClick&&l.getParent)l.getParent().onItemClick(l,b)}return}}}if(this._opened){if(c.focus&&!1!==c.autoFocus)this._focusDropDownTimer=this.defer(function(){c.focus();delete this._focusDropDownTimer})}else this.defer("focus");if(k("ios"))this._justGotMouseUp=!0,this.defer(function(){this._justGotMouseUp=!1})},_onDropDownClick:function(a){k("touch")&&!this._justGotMouseUp&&(this._onDropDownMouseDown(a),this._onDropDownMouseUp(a));this._stopClickEvents&&j.stop(a)},
buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";e.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);
this.own(m(this._buttonNode,"mousedown",o.hitch(this,"_onDropDownMouseDown")),m(this._buttonNode,"click",o.hitch(this,"_onDropDownClick")),m(this.focusNode,"keydown",o.hitch(this,"_onKey")),m(this.focusNode,"keyup",o.hitch(this,"_onKeyUp")))},destroy:function(){this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&!this.readOnly){var b=this.dropDown,c=a.target;if(b&&this._opened&&b.handleKey&&
!1===b.handleKey(a))j.stop(a);else if(b&&this._opened&&a.keyCode==l.ESCAPE)this.closeDropDown(),j.stop(a);else if(!this._opened&&(a.keyCode==l.DOWN_ARROW||(a.keyCode==l.ENTER||a.keyCode==dojo.keys.SPACE)&&("input"!==(c.tagName||"").toLowerCase()||c.type&&"text"!==c.type.toLowerCase())))this._toggleOnKeyUp=!0,j.stop(a)}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(o.hitch(a,"focus"),1)}},_onBlur:function(){this.closeDropDown(b.curNode&&
this.dropDown&&d.isDescendant(b.curNode,this.dropDown.domNode));this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=new i,b=o.hitch(this,function(){this.openDropDown();a.resolve(this.dropDown)});this.isLoaded()?b():this.loadDropDown(b);return a},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown():this.loadAndOpenDropDown())},openDropDown:function(){var b=this.dropDown,d=b.domNode,l=this._aroundNode||
this.domNode,h=this;if(!this._preparedNode){this._preparedNode=!0;if(d.style.width)this._explicitDDWidth=!0;if(d.style.height)this._explicitDDHeight=!0}if(this.maxHeight||this.forceWidth||this.autoWidth){var m={display:"",visibility:"hidden"};if(!this._explicitDDWidth)m.width="";if(!this._explicitDDHeight)m.height="";c.set(d,m);m=this.maxHeight;if(-1==m)var m=s.getBox(this.ownerDocument),q=a.position(l,!1),m=Math.floor(Math.max(q.y,m.h-(q.y+q.h)));z.moveOffScreen(b);b.startup&&!b._started&&b.startup();
var q=a.getMarginSize(d),k=m&&q.h>m;c.set(d,{overflowX:"visible",overflowY:k?"auto":"visible"});k?(q.h=m,"w"in q&&(q.w+=16)):delete q.h;this.forceWidth?q.w=l.offsetWidth:this.autoWidth?q.w=Math.max(q.w,l.offsetWidth):delete q.w;o.isFunction(b.resize)?b.resize(q):a.setMarginBox(d,q)}b=z.open({parent:this,popup:b,around:l,orient:this.dropDownPosition,onExecute:function(){h.closeDropDown(!0)},onCancel:function(){h.closeDropDown(!0)},onClose:function(){f.set(h._popupStateNode,"popupActive",!1);e.remove(h._popupStateNode,
"dijitHasDropDownOpen");h._set("_opened",!1)}});f.set(this._popupStateNode,"popupActive","true");e.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this.domNode.setAttribute("aria-expanded","true");return b},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);if(this._opened)this.domNode.setAttribute("aria-expanded","false"),a&&this.focus(),z.close(this.dropDown),this._opened=!1}})})},"dijit/popup":function(){define("dijit/popup",
"dojo/_base/array,dojo/aspect,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/on,dojo/sniff,./place,./BackgroundIframe,./main".split(","),function(g,i,j,d,f,e,a,c,k,l,o,m,s,n,b,z,q){function t(){this._popupWrapper&&(a.destroy(this._popupWrapper),delete this._popupWrapper)}d=d(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_createWrapper:function(b){var c=b._popupWrapper,h=b.domNode;if(!c)c=
a.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},b.ownerDocumentBody),c.appendChild(h),h=h.style,h.display="",h.visibility="",h.position="",h.top="0px",b._popupWrapper=c,i.after(b,"destroy",t,!0);return c},moveOffScreen:function(a){a=this._createWrapper(a);k.set(a,{visibility:"hidden",top:"-9999px",display:""})},hide:function(a){a=this._createWrapper(a);k.set(a,"display","none")},getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);
return a[b]},open:function(a){for(var d=this._stack,h=a.popup,q=a.orient||["below","below-alt","above","above-alt"],k=a.parent?a.parent.isLeftToRight():c.isBodyLtr(h.ownerDocument),i=a.around,g=a.around&&a.around.id?a.around.id+"_dropdown":"popup_"+this._idGen++;d.length&&(!a.parent||!f.isDescendant(a.parent.domNode,d[d.length-1].widget.domNode));)this.close(d[d.length-1].widget);var t=this._createWrapper(h);e.set(t,{id:g,style:{zIndex:this._beginZIndex+d.length},"class":"dijitPopup "+(h.baseClass||
h["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:a.parent?a.parent.id:""});if((n("ie")||n("mozilla"))&&!h.bgIframe)h.bgIframe=new z(t);q=i?b.around(t,i,q,k,h.orient?m.hitch(h,"orient"):null):b.at(t,a,"R"==q?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],a.padding);t.style.display="";t.style.visibility="visible";h.domNode.style.visibility="visible";k=[];k.push(s(t,j._keypress,m.hitch(this,function(b){if(b.charOrCode==o.ESCAPE&&a.onCancel)l.stop(b),a.onCancel();else if(b.charOrCode===o.TAB&&(l.stop(b),
(b=this.getTopPopup())&&b.onCancel))b.onCancel()})));h.onCancel&&a.onCancel&&k.push(h.on("cancel",a.onCancel));k.push(h.on(h.onExecute?"execute":"change",m.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));d.push({widget:h,parent:a.parent,onExecute:a.onExecute,onCancel:a.onCancel,onClose:a.onClose,handlers:k});if(h.onOpen)h.onOpen(q);return q},close:function(a){for(var b=this._stack;a&&g.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=b.pop(),d=c.widget,
l=c.onClose;if(d.onClose)d.onClose();for(var e;e=c.handlers.pop();)e.remove();d&&d.domNode&&this.hide(d);l&&l()}}});return q.popup=new d})},"dijit/place":function(){define("dijit/place","dojo/_base/array,dojo/dom-geometry,dojo/dom-style,dojo/_base/kernel,dojo/_base/window,dojo/window,./main".split(","),function(g,i,j,d,f,e,a){function c(a,c,d,m){var j=e.getBox(a.ownerDocument);(!a.parentNode||"body"!=(""+a.parentNode.tagName).toLowerCase())&&f.body(a.ownerDocument).appendChild(a);var n=null;g.some(c,
function(b){var c=b.corner,e=b.pos,l=0,f={w:{L:j.l+j.w-e.x,R:e.x-j.l,M:j.w}[c.charAt(1)],h:{T:j.t+j.h-e.y,B:e.y-j.t,M:j.h}[c.charAt(0)]},h=a.style;h.left=h.right="auto";d&&(l=d(a,b.aroundCorner,c,f,m),l="undefined"==typeof l?0:l);var p=a.style,g=p.display,y=p.visibility;if("none"==p.display)p.visibility="hidden",p.display="";h=i.position(a);p.display=g;p.visibility=y;g={L:e.x,R:e.x-h.w,M:Math.max(j.l,Math.min(j.l+j.w,e.x+(h.w>>1))-h.w)}[c.charAt(1)];y={T:e.y,B:e.y-h.h,M:Math.max(j.t,Math.min(j.t+
j.h,e.y+(h.h>>1))-h.h)}[c.charAt(0)];e=Math.max(j.l,g);p=Math.max(j.t,y);g=Math.min(j.l+j.w,g+h.w);y=Math.min(j.t+j.h,y+h.h);g-=e;y-=p;l+=h.w-g+(h.h-y);if(null==n||l<n.overflow)n={corner:c,aroundCorner:b.aroundCorner,x:e,y:p,w:g,h:y,overflow:l,spaceAvailable:f};return!l});n.overflow&&d&&d(a,n.aroundCorner,n.corner,n.spaceAvailable,m);var c=i.isBodyLtr(a.ownerDocument),b=a.style;b.top=n.y+"px";b[c?"left":"right"]=(c?n.x:j.w-n.x-n.w)+"px";b[c?"right":"left"]="auto";return n}return a.place={at:function(a,
d,e,m){e=g.map(e,function(a){var c={corner:a,pos:{x:d.x,y:d.y}};m&&(c.pos.x+="L"==a.charAt(1)?m.x:-m.x,c.pos.y+="T"==a.charAt(0)?m.y:-m.y);return c});return c(a,e)},around:function(a,e,f,m,s){function n(a,b){G.push({aroundCorner:a,corner:b,pos:{x:{L:h,R:h+D,M:h+(D>>1)}[a.charAt(1)],y:{T:p,B:p+y,M:p+(y>>1)}[a.charAt(0)]}})}var b="string"==typeof e||"offsetWidth"in e?i.position(e,!0):e;if(e.parentNode)for(var z="absolute"==j.getComputedStyle(e).position,e=e.parentNode;e&&1==e.nodeType&&"BODY"!=e.nodeName;){var q=
i.position(e,!0),t=j.getComputedStyle(e);/relative|absolute/.test(t.position)&&(z=!1);if(!z&&/hidden|auto|scroll/.test(t.overflow)){var v=Math.min(b.y+b.h,q.y+q.h),u=Math.min(b.x+b.w,q.x+q.w);b.x=Math.max(b.x,q.x);b.y=Math.max(b.y,q.y);b.h=v-b.y;b.w=u-b.x}"absolute"==t.position&&(z=!0);e=e.parentNode}var h=b.x,p=b.y,D="w"in b?b.w:b.w=b.width,y="h"in b?b.h:(d.deprecated("place.around: dijit/place.__Rectangle: { x:"+h+", y:"+p+", height:"+b.height+", width:"+D+" } has been deprecated.  Please use { x:"+
h+", y:"+p+", h:"+b.height+", w:"+D+" }","","2.0"),b.h=b.height),G=[];g.forEach(f,function(a){var b=m;switch(a){case "above-centered":n("TM","BM");break;case "below-centered":n("BM","TM");break;case "after-centered":b=!b;case "before-centered":n(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":n(b?"TL":"TR",b?"TR":"TL");n(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":n(b?"BL":"BR",b?"TL":"TR");n(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":n(b?
"TL":"TR",b?"BL":"BR");n(b?"TR":"TL",b?"BR":"BL");break;default:n(a.aroundCorner,a.corner)}});a=c(a,G,s,{w:D,h:y});a.aroundNodePos=b;return a}}})},"dijit/BackgroundIframe":function(){define("dijit/BackgroundIframe","require,./main,dojo/_base/config,dojo/dom-construct,dojo/dom-style,dojo/_base/lang,dojo/on,dojo/sniff,dojo/_base/window".split(","),function(g,i,j,d,f,e,a,c,k){var l=new function(){var a=[];this.pop=function(){var e;a.length?(e=a.pop(),e.style.display=""):(9>c("ie")?(e="<iframe src='"+
(j.dojoBlankHtmlUrl||g.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role='presentation' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>",e=k.doc.createElement(e)):(e=d.create("iframe"),e.src='javascript:""',e.className="dijitBackgroundIframe",e.setAttribute("role","presentation"),f.set(e,"opacity",0.1)),e.tabIndex=-1);return e};this.push=function(c){c.style.display="none";a.push(c)}};i.BackgroundIframe=function(d){if(!d.id)throw Error("no id");
if(c("ie")||c("mozilla")){var m=this.iframe=l.pop();d.appendChild(m);7>c("ie")?(this.resize(d),this._conn=a(d,"resize",e.hitch(this,function(){this.resize(d)}))):f.set(m,{width:"100%",height:"100%"})}};e.extend(i.BackgroundIframe,{resize:function(a){this.iframe&&f.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){if(this._conn)this._conn.remove(),this._conn=null;this.iframe&&(l.push(this.iframe),delete this.iframe)}});return i.BackgroundIframe})},"dijit/Menu":function(){define("dijit/Menu",
"require,dojo/_base/array,dojo/_base/declare,dojo/_base/event,dojo/dom,dojo/dom-attr,dojo/dom-geometry,dojo/dom-style,dojo/keys,dojo/_base/lang,dojo/on,dojo/sniff,dojo/_base/window,dojo/window,./popup,./DropDownMenu,dojo/ready".split(","),function(g,i,j,d,f,e,a,c,k,l,o,m,s,n,b,z){return j("dijit.Menu",z,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):
i.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return n.get(this._iframeContentDocument(a))||this._iframeContentDocument(a).__parent__||a.name&&s.doc.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&s.doc.frames[a.name]&&s.doc.frames[a.name].document||null},bindDomNode:function(a){var a=f.byId(a,this.ownerDocument),b;if("iframe"==a.tagName.toLowerCase()){var c=
a,m=this._iframeContentWindow(c);b=s.body(m.document)}else b=a==s.body(this.ownerDocument)?this.ownerDocument.documentElement:a;var h={node:a,iframe:c};e.set(a,"_dijitMenu"+this.id,this._bindings.push(h));var p=l.hitch(this,function(a){var b=this.selector,e=b?function(a){return o.selector(b,a)}:function(a){return a},h=this;return[o(a,e(this.leftClickToOpen?"click":"contextmenu"),function(a){d.stop(a);h._scheduleOpen(this,c,{x:a.pageX,y:a.pageY})}),o(a,e("keydown"),function(a){a.shiftKey&&a.keyCode==
k.F10&&(d.stop(a),h._scheduleOpen(this,c))})]});h.connects=b?p(b):[];if(c)h.onloadHandler=l.hitch(this,function(){var a=this._iframeContentWindow(c);b=s.body(a.document);h.connects=p(b)}),c.addEventListener?c.addEventListener("load",h.onloadHandler,!1):c.attachEvent("onload",h.onloadHandler)},unBindDomNode:function(a){var b;try{b=f.byId(a,this.ownerDocument)}catch(c){return}a="_dijitMenu"+this.id;if(b&&e.has(b,a)){for(var d=e.get(b,a)-1,h=this._bindings[d],l;l=h.connects.pop();)l.remove();(l=h.iframe)&&
(l.removeEventListener?l.removeEventListener("load",h.onloadHandler,!1):l.detachEvent("onload",h.onloadHandler));e.remove(b,a);delete this._bindings[d]}},_scheduleOpen:function(a,b,c){if(!this._openTimer)this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:a,iframe:b,coords:c})},1)},_openMyself:function(d){function e(){n.refocus&&o&&o.focus();b.close(n)}var l=d.target,k=d.iframe,d=d.coords;this.currentTarget=l;if(d){if(k){var l=a.position(k,!0),h=this._iframeContentWindow(k),
h=a.docScroll(h.document),g=c.getComputedStyle(k),j=c.toPixelValue,i=(m("ie"),j(k,g.paddingLeft))+(m("ie"),0),k=(m("ie"),j(k,g.paddingTop))+(m("ie"),0);d.x+=l.x+i-h.x;d.y+=l.y+k-h.y}}else d=a.position(l,!0),d.x+=10,d.y+=10;var n=this,k=this._focusManager.get("prevNode"),l=this._focusManager.get("curNode"),o=!l||f.isDescendant(l,this.domNode)?k:l;b.open({popup:this,x:d.x,y:d.y,onExecute:e,onCancel:e,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",
arguments);b.close(this)}},destroy:function(){i.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"dijit/DropDownMenu":function(){require({cache:{"url:dijit/templates/Menu.html":'<table class="dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role="menu" tabIndex="${tabIndex}"\n\t   data-dojo-attach-event="onkeypress:_onKeyPress" cellspacing="0">\n\t<tbody class="dijitReset" data-dojo-attach-point="containerNode"></tbody>\n</table>\n'}});
define("dijit/DropDownMenu","dojo/_base/declare,dojo/_base/event,dojo/keys,dojo/text!./templates/Menu.html,./_OnDijitClickMixin,./_MenuBase".split(","),function(g,i,j,d,f,e){return g("dijit.DropDownMenu",[e,f],{templateString:d,baseClass:"dijitMenu",postCreate:function(){this.inherited(arguments);var a=this.isLeftToRight();this._openSubMenuKey=a?j.RIGHT_ARROW:j.LEFT_ARROW;this._closeSubMenuKey=a?j.LEFT_ARROW:j.RIGHT_ARROW;this.connectKeyNavHandlers([j.UP_ARROW],[j.DOWN_ARROW])},_onKeyPress:function(a){if(!a.ctrlKey&&
!a.altKey)switch(a.charOrCode){case this._openSubMenuKey:this._moveToPopup(a);i.stop(a);break;case this._closeSubMenuKey:if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else i.stop(a)}}})})},"url:dijit/templates/Menu.html":'<table class="dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role="menu" tabIndex="${tabIndex}"\n\t   data-dojo-attach-event="onkeypress:_onKeyPress" cellspacing="0">\n\t<tbody class="dijitReset" data-dojo-attach-point="containerNode"></tbody>\n</table>\n',
"dijit/_MenuBase":function(){define("dijit/_MenuBase","dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/_base/lang,dojo/mouse,dojo/on,dojo/window,./a11yclick,./popup,./registry,./_Widget,./_KeyNavContainer,./_TemplatedMixin".split(","),function(g,i,j,d,f,e,a,c,k,l,o,m,s,n,b){return i("dijit._MenuBase",[s,b,n],{parentMenu:null,popupDelay:500,autoFocus:!1,postCreate:function(){var b=this,d=function(a){return f.contains(a,"dijitMenuItem")};this.own(c(this.containerNode,
c.selector(d,a.enter),function(){b.onItemHover(m.byNode(this))}),c(this.containerNode,c.selector(d,a.leave),function(){b.onItemUnhover(m.byNode(this))}),c(this.containerNode,c.selector(d,l),function(a){b.onItemClick(m.byNode(this),a);a.stopPropagation();a.preventDefault()}));this.inherited(arguments)},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,a);else(a=this._getTopMenu())&&
a._isMenuBar&&a.focusNext()},_onPopupHover:function(){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var a=this.currentPopup.parentMenu;a.focusedChild&&a.focusedChild._setSelected(!1);a.focusedChild=this.currentPopup.from_item;a.focusedChild._setSelected(!0);this._stopPendingCloseTimer(this.currentPopup)}},onItemHover:function(a){if(this.isActive&&(this.focusChild(a),this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer))this.hover_timer=this.defer("_openPopup",this.popupDelay);
this.focusedChild&&this.focusChild(a);this._hoveredChild=a;a._set("hovering",!0)},_onChildBlur:function(a){this._stopPopupTimer();a._setSelected(!1);var b=a.popup;if(b)this._stopPendingCloseTimer(b),b._pendingClose_timer=this.defer(function(){b._pendingClose_timer=null;if(b.parentMenu)b.parentMenu.currentPopup=null;o.close(b)},this.popupDelay)},onItemUnhover:function(a){this.isActive&&this._stopPopupTimer();if(this._hoveredChild==a)this._hoveredChild=null;a._set("hovering",!1)},_stopPopupTimer:function(){if(this.hover_timer)this.hover_timer=
this.hover_timer.remove()},_stopPendingCloseTimer:function(a){if(a._pendingClose_timer)a._pendingClose_timer=a._pendingClose_timer.remove()},_stopFocusTimer:function(){if(this._focus_timer)this._focus_timer=this._focus_timer.remove()},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,b){"undefined"==typeof this.isShowingNow&&this._markActive();this.focusChild(a);if(a.disabled)return!1;a.popup?this._openPopup("keypress"==b.type):(this.onExecute(),a._onClick?
a._onClick(b):a.onClick(b))},_openPopup:function(a){this._stopPopupTimer();var b=this.focusedChild;if(b){var c=b.popup;if(!c.isShowingNow){this.currentPopup&&(this._stopPendingCloseTimer(this.currentPopup),o.close(this.currentPopup));c.parentMenu=this;c.from_item=b;var d=this;o.open({parent:this,popup:c,around:b.domNode,orient:this._orient||["after","before"],onCancel:function(){d.focusChild(b);d._cleanUp();b._setSelected(!0);d.focusedChild=b},onExecute:e.hitch(this,"_cleanUp")});this.currentPopup=
c;c.connect(c.domNode,"onmouseenter",e.hitch(d,"_onPopupHover"))}if(a&&c.focus)c._focus_timer=this.defer(e.hitch(c,function(){this._focus_timer=null;this.focus()}))}},_markActive:function(){this.isActive=!0;f.replace(this.domNode,"dijitMenuActive","dijitMenuPassive")},onOpen:function(){this.isShowingNow=!0;this._markActive()},_markInactive:function(){this.isActive=!1;f.replace(this.domNode,"dijitMenuPassive","dijitMenuActive")},onClose:function(){this._stopFocusTimer();this._markInactive();this.isShowingNow=
!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();if(this.currentPopup)0<=g.indexOf(this._focusManager.activeStack,this.id)&&(d.set(this.focusedChild.focusNode,"tabIndex",this.tabIndex),this.focusedChild.focusNode.focus()),o.close(this.currentPopup),this.currentPopup=null;if(this.focusedChild)this.focusedChild._setSelected(!1),this.onItemUnhover(this.focusedChild),this.focusedChild=null},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild)},
_onBlur:function(){this._cleanUp();this.inherited(arguments)},_cleanUp:function(){this._closeChild();"undefined"==typeof this.isShowingNow&&this._markInactive()}})})},"dijit/_KeyNavContainer":function(){define("dijit/_KeyNavContainer","dojo/_base/kernel,./_Container,./_FocusMixin,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/_base/event,dojo/dom-attr,dojo/_base/lang".split(","),function(g,i,j,d,f,e,a,c,k){return e("dijit._KeyNavContainer",[j,i],{tabIndex:"0",connectKeyNavHandlers:function(a,
c){var e=this._keyNavCodes={},g=k.hitch(this,"focusPrev"),j=k.hitch(this,"focusNext");d.forEach(a,function(a){e[a]=g});d.forEach(c,function(a){e[a]=j});e[f.HOME]=k.hitch(this,"focusFirstChild");e[f.END]=k.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus")},startupKeyNavChildren:function(){g.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);
d.forEach(this.getChildren(),k.hitch(this,"_startupChild"))},addChild:function(a,c){this.inherited(arguments);this._startupChild(a)},focus:function(){this.focusFirstChild()},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},
focusChild:function(a,c){a&&(this.focusedChild&&a!==this.focusedChild&&this._onChildBlur(this.focusedChild),a.set("tabIndex",this.tabIndex),a.focus(c?"end":"start"),this._set("focusedChild",a))},_startupChild:function(a){a.set("tabIndex","-1");this.connect(a,"_onFocus",function(){a.set("tabIndex",this.tabIndex)});this.connect(a,"_onBlur",function(){a.set("tabIndex","-1")})},_onContainerFocus:function(a){a.target!==this.domNode||this.focusedChild||(this.focusFirstChild(),c.set(this.domNode,"tabIndex",
"-1"))},_onBlur:function(a){this.tabIndex&&c.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild=null;this.inherited(arguments)},_onContainerKeypress:function(c){if(!c.ctrlKey&&!c.altKey){var d=this._keyNavCodes[c.charOrCode];d&&(d(),a.stop(c))}},_onChildBlur:function(){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},_getNextFocusableChild:function(a,c){a&&(a=this._getSiblingOfChild(a,
c));for(var d=this.getChildren(),e=0;e<d.length;e++){a||(a=d[0<c?0:d.length-1]);if(a.isFocusable())return a;a=this._getSiblingOfChild(a,c)}return null}})})},"dijit/_Container":function(){define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(g,i,j){return i("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode},addChild:function(d,f){var e=this.containerNode;if(f&&"number"==typeof f){var a=
this.getChildren();if(a&&a.length>=f)e=a[f-1].domNode,f="after"}j.place(d.domNode,e,f);this._started&&!d._started&&d.startup()},removeChild:function(d){"number"==typeof d&&(d=this.getChildren()[d]);if(d)(d=d.domNode)&&d.parentNode&&d.parentNode.removeChild(d)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(d,f){var e=this.getChildren(),a=g.indexOf(this.getChildren(),d);return e[a+f]},getIndexOfChild:function(d){return g.indexOf(this.getChildren(),d)}})})},"dijit/MenuItem":function(){require({cache:{"url:dijit/templates/MenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1">\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n\t\t<img src="${_blankGif}" alt="" class="dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"/>\n\t</td>\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">\n\t\t<div data-dojo-attach-point="arrowWrapper" style="visibility: hidden">\n\t\t\t<img src="${_blankGif}" alt="" class="dijitMenuExpand"/>\n\t\t\t<span class="dijitMenuExpandA11y">+</span>\n\t\t</div>\n\t</td>\n</tr>\n'}});
define("dijit/MenuItem","dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/_base/kernel,dojo/sniff,./_Widget,./_TemplatedMixin,./_Contained,./_CssStateMixin,dojo/text!./templates/MenuItem.html".split(","),function(g,i,j,d,f,e,a,c,k,l,o){return g("dijit.MenuItem",[a,c,k,l],{templateString:o,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this.containerNode.innerHTML=a;this._set("label",a);"auto"===this.textDir&&this.applyTextDir(this.focusNode,this.label)},iconClass:"dijitNoIcon",
_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){a&&!("label"in this.params)&&this.set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);var a=this.id+"_text";j.set(this.containerNode,"id",a);this.accelKeyNode&&(j.set(this.accelKeyNode,"id",this.id+"_accel"),a+=" "+this.id+"_accel");this.domNode.setAttribute("aria-labelledby",a);i.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==e("ie")&&this.containerNode.focus(),
this.focusNode.focus()}catch(a){}},_onFocus:function(){this._setSelected(!0);this.getParent()._onItemFocus(this);this.inherited(arguments)},_setSelected:function(a){d.toggle(this.domNode,"dijitMenuItemSelected",a)},setLabel:function(a){f.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},setDisabled:function(a){f.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},
_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode.style.display=a?"":"none";this.accelKeyNode.innerHTML=a;j.set(this.containerNode,"colSpan",a?"1":"2");this._set("accelKey",a)},_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.applyTextDir(this.focusNode,this.label)}})})},"dijit/_Contained":function(){define("dijit/_Contained",["dojo/_base/declare",
"./registry"],function(g,i){return g("dijit._Contained",null,{_getSibling:function(g){var d=this.domNode;do d=d[g+"Sibling"];while(d&&1!=d.nodeType);return d&&i.byNode(d)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var g=this.getParent();return!g||!g.getIndexOfChild?-1:g.getIndexOfChild(this)}})})},"url:dijit/templates/MenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1">\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n\t\t<img src="${_blankGif}" alt="" class="dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"/>\n\t</td>\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">\n\t\t<div data-dojo-attach-point="arrowWrapper" style="visibility: hidden">\n\t\t\t<img src="${_blankGif}" alt="" class="dijitMenuExpand"/>\n\t\t\t<span class="dijitMenuExpandA11y">+</span>\n\t\t</div>\n\t</td>\n</tr>\n',
"dijit/MenuSeparator":function(){require({cache:{"url:dijit/templates/MenuSeparator.html":'<tr class="dijitMenuSeparator">\n\t<td class="dijitMenuSeparatorIconCell">\n\t\t<div class="dijitMenuSeparatorTop"></div>\n\t\t<div class="dijitMenuSeparatorBottom"></div>\n\t</td>\n\t<td colspan="3" class="dijitMenuSeparatorLabelCell">\n\t\t<div class="dijitMenuSeparatorTop dijitMenuSeparatorLabel"></div>\n\t\t<div class="dijitMenuSeparatorBottom"></div>\n\t</td>\n</tr>'}});define("dijit/MenuSeparator","dojo/_base/declare,dojo/dom,./_WidgetBase,./_TemplatedMixin,./_Contained,dojo/text!./templates/MenuSeparator.html".split(","),
function(g,i,j,d,f,e){return g("dijit.MenuSeparator",[j,d,f],{templateString:e,buildRendering:function(){this.inherited(arguments);i.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"url:dijit/templates/MenuSeparator.html":'<tr class="dijitMenuSeparator">\n\t<td class="dijitMenuSeparatorIconCell">\n\t\t<div class="dijitMenuSeparatorTop"></div>\n\t\t<div class="dijitMenuSeparatorBottom"></div>\n\t</td>\n\t<td colspan="3" class="dijitMenuSeparatorLabelCell">\n\t\t<div class="dijitMenuSeparatorTop dijitMenuSeparatorLabel"></div>\n\t\t<div class="dijitMenuSeparatorBottom"></div>\n\t</td>\n</tr>',
"dijit/Tooltip":function(){require({cache:{"url:dijit/templates/Tooltip.html":'<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip"\n\t><div class="dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point="containerNode" role=\'alert\'></div\n\t><div class="dijitTooltipConnector" data-dojo-attach-point="connectorNode"></div\n></div>\n'}});define("dijit/Tooltip","dojo/_base/array,dojo/_base/declare,dojo/_base/fx,dojo/dom,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,dojo/mouse,dojo/on,dojo/sniff,./_base/manager,./place,./_Widget,./_TemplatedMixin,./BackgroundIframe,dojo/text!./templates/Tooltip.html,./main".split(","),
function(g,i,j,d,f,e,a,c,k,l,o,m,s,n,b,z,q,t){var v=i("dijit._MasterTooltip",[n,b],{duration:m.defaultDuration,templateString:q,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new z(this.domNode);this.fadeIn=j.fadeIn({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,"_onShow")});this.fadeOut=j.fadeOut({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,"_onHide")})},show:function(b,d,e,l,f){if(!this.aroundNode||!(this.aroundNode===d&&this.containerNode.innerHTML==
b))if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=b;f&&this.set("textDir",f);this.containerNode.align=l?"right":"left";var k=s.around(this.domNode,d,e&&e.length?e:u.defaultPosition,!l,c.hitch(this,"orient")),g=k.aroundNodePos;"M"==k.corner.charAt(0)&&"M"==k.aroundCorner.charAt(0)?(this.connectorNode.style.top=g.y+(g.h-this.connectorNode.offsetHeight>>1)-k.y+"px",this.connectorNode.style.left=""):"M"==k.corner.charAt(1)&&"M"==k.aroundCorner.charAt(1)?this.connectorNode.style.left=
g.x+(g.w-this.connectorNode.offsetWidth>>1)-k.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");a.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=d}},orient:function(a,b,c,d,l){this.connectorNode.style.top="";var f=d.h,d=d.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft",
"BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+c];this.domNode.style.width="auto";var k=e.position(this.domNode);9==o("ie")&&(k.w+=2);var g=Math.min(Math.max(d,1),k.w);e.setMarginBox(this.domNode,{w:g});"B"==c.charAt(0)&&"B"==b.charAt(0)?(a=e.position(a),b=this.connectorNode.offsetHeight,a.h>f?(this.connectorNode.style.top=f-(l.h+b>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=
Math.min(Math.max(l.h/2-b/2,0),a.h-b)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,k.w-d)},_onShow:function(){if(o("ie"))this.domNode.style.filter=""},hide:function(a){if(this._onDeck&&this._onDeck[1]==a)this._onDeck=null;else if(this.aroundNode===a)this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play()},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck)this.show.apply(this,
this._onDeck),this._onDeck=null},_setAutoTextDir:function(a){this.applyTextDir(a,o("ie")?a.outerText:a.textContent);g.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",a);"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});t.showTooltip=function(a,b,c,d,e){c&&(c=g.map(c,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));if(!u._masterTT)t._masterTT=u._masterTT=new v;return u._masterTT.show(a,
b,c,d,e)};t.hideTooltip=function(a){return u._masterTT&&u._masterTT.hide(a)};var u=i("dijit.Tooltip",n,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(a){g.forEach(this._connections||[],function(a){g.forEach(a,function(a){a.remove()})},this);this._connectIds=g.filter(c.isArrayLike(a)?a:a?[a]:[],function(a){return d.byId(a,this.ownerDocument)},this);this._connections=g.map(this._connectIds,function(a){var a=d.byId(a,this.ownerDocument),b=this.selector,e=b?function(a){return l.selector(b,
a)}:function(a){return a},h=this;return[l(a,e(k.enter),function(){h._onHover(this)}),l(a,e("focusin"),function(){h._onHover(this)}),l(a,e(k.leave),c.hitch(h,"_onUnHover")),l(a,e("focusout"),c.hitch(h,"_onUnHover"))]},this);this._set("connectId",a)},addTarget:function(a){a=a.id||a;-1==g.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=g.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},
buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;g.forEach(c.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(){return this.label||this.domNode.innerHTML},_onHover:function(a){if(!this._showTimer)this._showTimer=this.defer(function(){this.open(a)},this.showDelay)},_onUnHover:function(){this._showTimer&&(this._showTimer.remove(),delete this._showTimer);this.close()},open:function(a){this._showTimer&&
(this._showTimer.remove(),delete this._showTimer);var b=this.getContent(a);if(b)u.show(b,a,this.position,!this.isLeftToRight(),this.textDir),this._connectNode=a,this.onShow(a,this.position)},close:function(){this._connectNode&&(u.hide(this._connectNode),delete this._connectNode,this.onHide());this._showTimer&&(this._showTimer.remove(),delete this._showTimer)},onShow:function(){},onHide:function(){},destroy:function(){this.close();g.forEach(this._connections||[],function(a){g.forEach(a,function(a){a.remove()})},
this);this.inherited(arguments)}});u._MasterTooltip=v;u.show=t.showTooltip;u.hide=t.hideTooltip;u.defaultPosition=["after-centered","before-centered"];return u})},"url:dijit/templates/Tooltip.html":'<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip"\n\t><div class="dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point="containerNode" role=\'alert\'></div\n\t><div class="dijitTooltipConnector" data-dojo-attach-point="connectorNode"></div\n></div>\n',"url:dijit/form/templates/Select.html":'<table class="dijit dijitReset dijitInline dijitLeft"\n\tdata-dojo-attach-point="_buttonNode,tableNode,focusNode" cellspacing=\'0\' cellpadding=\'0\'\n\trole="listbox" aria-haspopup="true"\n\t><tbody role="presentation"><tr role="presentation"\n\t\t><td class="dijitReset dijitStretch dijitButtonContents" role="presentation"\n\t\t\t><div class="dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point="containerNode,_popupStateNode" role="presentation"></div\n\t\t\t><div class="dijitReset dijitValidationContainer"\n\t\t\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t\t/></div\n\t\t\t><input type="hidden" ${!nameAttrSetting} data-dojo-attach-point="valueNode" value="${value}" aria-hidden="true"\n\t\t/></td\n\t\t><td class="dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\n\t\t\tdata-dojo-attach-point="titleNode" role="presentation"\n\t\t\t><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/></td\n\t></tr></tbody\n></table>\n',
"moment/moment":function(){define("moment/moment",[],function(){function g(a,b,c,d){var e=c.lang();return e[a].call?e[a](c,d):e[a][b]}function i(b,c){return function(d){return a(b.call(this,d),c)}}function j(a){return function(b){b=a.call(this,b);return b+this.lang().ordinal(b)}}function d(a,b,c){this._d=a;this._isUTC=!!b;this._a=a._a||null;this._lang=c||!1}function f(a){var b=this._data={},c=a.years||a.y||0,d=a.months||a.M||0,h=a.weeks||a.w||0,l=a.days||a.d||0,f=a.hours||a.h||0,k=a.minutes||a.m||
0,g=a.seconds||a.s||0,a=a.milliseconds||a.ms||0;this._milliseconds=a+1E3*g+6E4*k+36E5*f;this._days=l+7*h;this._months=d+12*c;b.milliseconds=a%1E3;g+=e(a/1E3);b.seconds=g%60;k+=e(g/60);b.minutes=k%60;f+=e(k/60);b.hours=f%24;l+=e(f/24);l+=7*h;b.days=l%30;d+=e(l/30);b.months=d%12;c+=e(d/12);b.years=c;this._lang=!1}function e(a){return 0>a?Math.ceil(a):Math.floor(a)}function a(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function c(a,b,c){var d=b._milliseconds,e=b._days,b=b._months;d&&a._d.setTime(+a+
d*c);e&&a.date(a.date()+e*c);b&&(d=a.date(),a.date(1).month(a.month()+b*c).date(Math.min(d,a.daysInMonth())))}function k(a){return"[object Array]"===Object.prototype.toString.call(a)}function l(a,b){var c=Math.min(a.length,b.length),d=Math.abs(a.length-b.length),e=0,h;for(h=0;h<c;h++)~~a[h]!==~~b[h]&&e++;return e+d}function o(a,b,c,d){var e,h=[];for(e=0;7>e;e++)h[e]=a[e]=null==a[e]?2===e?1:0:a[e];a[7]=h[7]=b;null!=a[8]&&(h[8]=a[8]);a[3]+=c||0;a[4]+=d||0;c=new Date(0);b?(c.setUTCFullYear(a[0],a[1],
a[2]),c.setUTCHours(a[3],a[4],a[5],a[6])):(c.setFullYear(a[0],a[1],a[2]),c.setHours(a[3],a[4],a[5],a[6]));c._a=h;return c}function m(a,b){var c,d,e=[];!b&&N&&(b=require("./lang/"+a));for(c=0;c<x.length;c++)b[x[c]]=b[x[c]]||G.en[x[c]];for(c=0;12>c;c++)d=p([2E3,c]),e[c]=RegExp("^"+(b.months[c]||b.months(d,""))+"|^"+(b.monthsShort[c]||b.monthsShort(d,"")).replace(".",""),"i");b.monthsParse=b.monthsParse||e;return G[a]=b}function s(a){return(a="string"===typeof a&&a||a&&a._lang||null)?G[a]||m(a):p}function n(a){var b=
a.match(w),c,d;for(c=0,d=b.length;c<d;c++)b[c]=J[b[c]]?J[b[c]]:b[c].match(/\[.*\]/)?b[c].replace(/^\[|\]$/g,""):b[c].replace(/\\/g,"");return function(e){var h="";for(c=0;c<d;c++)h+="function"===typeof b[c].call?b[c].call(e,a):b[c];return h}}function b(a,b){function c(b){return a.lang().longDateFormat[b]||b}for(var d=5;d--&&E.test(b);)b=b.replace(E,c);O[b]||(O[b]=n(b));return O[b](a)}function z(a){switch(a){case "DDDD":return F;case "YYYY":return B;case "S":case "SS":case "SSS":case "DDD":return A;
case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":case "a":case "A":return H;case "Z":case "ZZ":return I;case "T":return C;case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return K;default:return RegExp(a.replace("\\",""))}}function q(a,b){var c=[0,0,1,0,0,0,0],d={tzh:0,tzm:0},e=b.match(w),h,l;for(h=0;h<e.length;h++)if((l=(z(e[h]).exec(a)||[])[0])&&(a=a.slice(a.indexOf(l)+l.length)),J[e[h]]){var f=c,k=d,g=void 0,
i=void 0;switch(e[h]){case "M":case "MM":f[1]=null==l?0:~~l-1;break;case "MMM":case "MMMM":for(g=0;12>g;g++)if(s().monthsParse[g].test(l)){f[1]=g;i=!0;break}i||(f[8]=!1);break;case "D":case "DD":case "DDD":case "DDDD":null!=l&&(f[2]=~~l);break;case "YY":f[0]=~~l+(70<~~l?1900:2E3);break;case "YYYY":f[0]=~~Math.abs(l);break;case "a":case "A":k.isPm="pm"===(l+"").toLowerCase();break;case "H":case "HH":case "h":case "hh":f[3]=~~l;break;case "m":case "mm":f[4]=~~l;break;case "s":case "ss":f[5]=~~l;break;
case "S":case "SS":case "SSS":f[6]=~~(1E3*("0."+l));break;case "Z":case "ZZ":k.isUTC=!0;if((g=(l+"").match(V))&&g[1])k.tzh=~~g[1];if(g&&g[2])k.tzm=~~g[2];if(g&&"+"===g[0])k.tzh=-k.tzh,k.tzm=-k.tzm}null==l&&(f[8]=!1)}d.isPm&&12>c[3]&&(c[3]+=12);!1===d.isPm&&12===c[3]&&(c[3]=0);return o(c,d.isUTC,d.tzh,d.tzm)}function t(a,b,c,d,e){e=e.relativeTime[a];return"function"===typeof e?e(b||1,!!c,a,d):e.replace(/%d/i,b||1)}function v(a,b){p.fn[a]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+
c+b](a),this):this._d["get"+c+b]()}}function u(a){p.duration.fn[a]=function(){return this._data[a]}}function h(a,b){p.duration.fn["as"+a]=function(){return+this/b}}for(var p,D=Math.round,y,G={},M="en",N="undefined"!==typeof module&&module.exports,x="months|monthsShort|weekdays|weekdaysShort|weekdaysMin|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),P=/^\/?Date\((\-?\d+)/i,w=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|.)/g,
E=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?)/g,r=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,K=/\d\d?/,A=/\d{1,3}/,F=/\d{3}/,B=/\d{1,4}/,H=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,I=/Z|[\+\-]\d\d:?\d\d/i,C=/T/i,L=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,S=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],V=/([\+\-]|\d\d)/gi,Q="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),
R={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},O={},T="DDD w M D d".split(" "),U="M D H h m s w".split(" "),J={M:function(){return this.month()+1},MMM:function(a){return g("monthsShort",this.month(),this,a)},MMMM:function(a){return g("months",this.month(),this,a)},D:function(){return this.date()},DDD:function(){var a=new Date(this.year(),this.month(),this.date()),b=new Date(this.year(),0,1);return~~((a-b)/864E5+1.5)},d:function(){return this.day()},dd:function(a){return g("weekdaysMin",
this.day(),this,a)},ddd:function(a){return g("weekdaysShort",this.day(),this,a)},dddd:function(a){return g("weekdays",this.day(),this,a)},w:function(){var a=new Date(this.year(),this.month(),this.date()-this.day()+5),b=new Date(a.getFullYear(),0,4);return~~((a-b)/864E5/7+1.5)},YY:function(){return a(this.year()%100,2)},YYYY:function(){return a(this.year(),4)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),
!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return a(~~(this.milliseconds()/10),2)},SSS:function(){return a(this.milliseconds(),3)},Z:function(){var b=-this.zone(),c="+";0>b&&(b=-b,c="-");return c+a(~~(b/60),2)+":"+a(~~b%60,2)},ZZ:function(){var b=-this.zone(),c="+";0>b&&(b=-b,c="-");return c+a(~~(10*b/6),4)}};T.length;)y=T.pop(),
J[y+"o"]=j(J[y]);for(;U.length;)y=U.pop(),J[y+y]=i(J[y],2);J.DDDD=i(J.DDD,3);p=function(a,c){if(null===a||""===a)return null;var e;if(p.isMoment(a))return new d(new Date(+a._d),a._isUTC,a._lang);if(c)if(k(c)){var h=a.match(r)||[],f,g=99,i,j;for(i=0;i<c.length;i++)j=q(a,c[i]),f=b(new d(j),c[i]).match(r)||[],f=l(h,f),f<g&&(g=f,e=j)}else e=q(a,c);else if(e=P.exec(a),void 0===a)e=new Date;else if(e)e=new Date(+e[1]);else if(a instanceof Date)e=a;else if(k(a))e=o(a);else if("string"===typeof a)if(e="YYYY-MM-DDT",
L.exec(a)){for(h=0;4>h;h++)if(S[h][1].exec(a)){e+=S[h][0];break}e=I.exec(a)?q(a,e+" Z"):q(a,e)}else e=new Date(a);else e=new Date(a);return new d(e)};p.utc=function(a,b){if(k(a))return new d(o(a,!0),!0);"string"===typeof a&&!I.exec(a)&&(a+=" +0000",b&&(b+=" Z"));return p(a,b).utc()};p.unix=function(a){return p(1E3*a)};p.duration=function(a,b){var c=p.isDuration(a),d="number"===typeof a,e=c?a._data:d?{}:a;if(d)b?e[b]=a:e.milliseconds=a;d=new f(e);if(c)d._lang=a._lang;return d};p.humanizeDuration=function(a,
b,c){return p.duration(a,!0===b?null:b).humanize(!0===b?!0:c)};p.version="1.7.2";p.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";p.lang=function(a,b){var c;if(!a)return M;(b||!G[a])&&m(a,b);if(G[a]){for(c=0;c<x.length;c++)p[x[c]]=G[a][x[c]];p.monthsParse=G[a].monthsParse;M=a}};p.langData=s;p.isMoment=function(a){return a instanceof d};p.isDuration=function(a){return a instanceof f};p.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},
relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"}});p.fn=d.prototype={clone:function(){return p(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1E3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},
toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?null!=this._a[8]?!!this._a[8]:!l(this._a,(this._a[7]?p.utc(this._a):p(this._a)).toArray()):!isNaN(this._d.getTime())},utc:function(){this._isUTC=!0;return this},local:function(){this._isUTC=!1;return this},format:function(a){return b(this,a?a:p.defaultFormat)},add:function(a,b){var d=b?p.duration(+b,a):p.duration(a);c(this,
d,1);return this},subtract:function(a,b){var d=b?p.duration(+b,a):p.duration(a);c(this,d,-1);return this},diff:function(a,b,c){var a=this._isUTC?p(a).utc():p(a).local(),d=6E4*(this.zone()-a.zone()),d=this._d-a._d-d,e=this.year()-a.year(),h=this.month()-a.month(),a=this.date()-a.date(),b="months"===b?12*e+h+a/30:"years"===b?e+(h+a/30)/12:"seconds"===b?d/1E3:"minutes"===b?d/6E4:"hours"===b?d/36E5:"days"===b?d/864E5:"weeks"===b?d/6048E5:d;return c?b:D(b)},from:function(a,b){return p.duration(this.diff(a)).lang(this._lang).humanize(!b)},
fromNow:function(a){return this.from(p(),a)},calendar:function(){var a=this.diff(p().sod(),"days",!0),b=this.lang().calendar,c=b.sameElse,a=-6>a?c:-1>a?b.lastWeek:0>a?b.lastDay:1>a?b.sameDay:2>a?b.nextDay:7>a?b.nextWeek:c;return this.format("function"===typeof a?a.apply(this):a)},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<p([this.year()]).zone()||this.zone()<p([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():
this._d.getDay();return null==a?b:this.add({d:a-b})},startOf:function(a){switch(a.replace(/s$/,"")){case "year":this.month(0);case "month":this.date(1);case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return this},endOf:function(a){return this.startOf(a).add(a.replace(/s?$/,"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this._isUTC?
0:this._d.getTimezoneOffset()},daysInMonth:function(){return p.utc([this.year(),this.month()+1,0]).date()},lang:function(a){if(void 0===a)return s(this);this._lang=a;return this}};for(y=0;y<Q.length;y++)v(Q[y].toLowerCase(),Q[y]);v("year","FullYear");p.duration.fn=f.prototype={weeks:function(){return e(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*this._months},humanize:function(a){var b=+this,c=this.lang().relativeTime,d;d=!a;var e=this.lang(),h=D(Math.abs(b)/
1E3),l=D(h/60),f=D(l/60),k=D(f/24),g=D(k/365),h=45>h&&["s",h]||1===l&&["m"]||45>l&&["mm",l]||1===f&&["h"]||22>f&&["hh",f]||1===k&&["d"]||25>=k&&["dd",k]||45>=k&&["M"]||345>k&&["MM",D(k/30)]||1===g&&["y"]||["yy",g];h[2]=d;h[3]=0<b;h[4]=e;d=t.apply({},h);b=0>=b?c.past:c.future;a&&(d="function"===typeof b?b(d):b.replace(/%s/i,d));return d},lang:p.fn.lang};for(y in R)R.hasOwnProperty(y)&&(h(y,R[y]),u(y.toLowerCase()));h("Weeks",6048E5);return p})},"dijit/layout/_LayoutWidget":function(){define("dijit/layout/_LayoutWidget",
"dojo/_base/lang,../_Widget,../_Container,../_Contained,../Viewport,dojo/_base/declare,dojo/dom-class,dojo/dom-geometry,dojo/dom-style".split(","),function(g,i,j,d,f,e,a,c,k){return e("dijit.layout._LayoutWidget",[i,j,d],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,buildRendering:function(){this.inherited(arguments);a.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();if(!a||!a.isLayoutContainer)this.resize(),
this.own(f.on("resize",g.hitch(this,"resize")))}},resize:function(a,d){var e=this.domNode;a&&c.setMarginBox(e,a);var f=d||{};g.mixin(f,a||{});if(!("h"in f)||!("w"in f))f=g.mixin(c.getMarginBox(e),f);var i=k.getComputedStyle(e),b=c.getMarginExtents(e,i),j=c.getBorderExtents(e,i),f=this._borderBox={w:f.w-(b.w+j.w),h:f.h-(b.h+j.h)},b=c.getPadExtents(e,i);this._contentBox={l:k.toPixelValue(e,i.paddingLeft),t:k.toPixelValue(e,i.paddingTop),w:f.w-b.w,h:f.h-b.h};this.layout()},layout:function(){},_setupChild:function(c){a.add(c.domNode,
this.baseClass+"-child "+(c.baseClass?this.baseClass+"-"+c.baseClass:""))},addChild:function(a,c){this.inherited(arguments);this._started&&this._setupChild(a)},removeChild:function(c){a.remove(c.domNode,this.baseClass+"-child"+(c.baseClass?" "+this.baseClass+"-"+c.baseClass:""));this.inherited(arguments)}})})},"dijit/Viewport":function(){define("dijit/Viewport","dojo/Evented,dojo/on,dojo/ready,dojo/sniff,dojo/_base/window,dojo/window".split(","),function(g,i,j,d,f,e){var a=new g;j(200,function(){var c=
e.getBox();a._rlh=i(f.global,"resize",function(){var d=e.getBox();c.h==d.h&&c.w==d.w||(c=d,a.emit("resize"))});if(8==d("ie")){var k=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=k)k=screen.deviceXDPI,a.emit("resize")},500)}});return a})},"url:dote-client/resources/_TopicListItem.html":'<div class="${baseClass}">\n\t<div class="${baseClass}VoteContainer">\n\t\t<div class="${baseClass}VoteInner">\n\t\t\t<div class="${baseClass}Votes" data-dojo-attach-point="votesNode"></div>\n\t\t\t<div class="${baseClass}Spark">\n\t\t\t\t<table>\n\t\t\t\t\t<col class="${baseClass}SparkPlus" data-dojo-attach-point="sparkPlusNode">\n\t\t\t\t\t<col class="${baseClass}SparkNeutral" data-dojo-attach-point="sparkNeutralNode">\n\t\t\t\t\t<col class="${baseClass}SparkMinus" data-dojo-attach-point="sparkMinusNode">\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t\t<div class="${baseClass}VoteButtons">\n\t\t\t\t<ul>\n\t\t\t\t\t<li role="button">\n\t\t\t\t\t\t<a href="#" class="${baseClass}VoteUp" data-dojo-attach-point="voteUpNode" data-dojo-attach-event="ondijitclick:_onUpClick"><i class="icon-plus"></i><span>Up</span></a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li role="button">\n\t\t\t\t\t\t<a href="#" class="${baseClass}VoteNeutral" data-dojo-attach-point="voteNeutralNode" data-dojo-attach-event="ondijitclick:_onNeutralClick"><i class="icon-check-empty"></i><span>Neutral</span></a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li role="button">\n\t\t\t\t\t\t<a href="#" class="${baseClass}VoteDown" data-dojo-attach-point="voteDownNode" data-dojo-attach-event="ondijitclick:_onDownClick"><i class="icon-minus"></i><span>Minus</span></a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="${baseClass}ContentContainer">\n\t\t<div class="${baseClass}ContentInner">\n\t\t\t<div class="${baseClass}Title" data-dojo-attach-point="titleNode"></div>\n\t\t\t<div class="${baseClass}Status" data-dojo-attach-point="statusContainerNode">\n\t\t\t\t<div class="${baseClass}Action" data-dojo-attach-point="actionStatusNode"></div>\n\t\t\t\t<div class="${baseClass}Owner" data-dojo-attach-point="ownerNode"></div>\n\t\t\t\t<div class="${baseClass}Posted" data-dojo-attach-point="postedStatusNode"></div>\n\t\t\t\t<div class="${baseClass}Actioned" data-dojo-attach-point="actionedStatusNode"></div>\n\t\t\t\t<div class="${baseClass}CommentCount"><i class="icon-comments-alt"></i><span data-dojo-attach-point="commentsCountNode"></span></div>\n\t\t\t</div>\n\t\t\t<div class="${baseClass}Summary" data-dojo-attach-point="summaryNode"></div>\n\t\t\t<div class="${baseClass}TagsContainer">\n\t\t\t\t<i class="icon-tags icon-large"></i>\n\t\t\t\t<ul class="${baseClass}Tags" data-dojo-attach-point="tagsNode">\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class="${baseClass}VotersContainer">\n\t\t\t\t<i class="icon-check icon-large"></i>\n\t\t\t\t<ul class="${baseClass}Voters" data-dojo-attach-point="votersNode">\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class="${baseClass}HeightContainer"></div>\n\t\t</div>\n\t</div>\n\t<div class="${baseClass}HeightContainer"></div>\n</div>\n',
"url:dote-client/resources/TopicList.html":'<div class="${baseClass}" role="presentation" data-dojo-attach-point="wrapperNode">\n\t<div class="${baseClass}Container" data-dojo-attach-point="containerNode"></div>\n\t<div class="${baseClass}More ${baseClass}Hide" data-dojo-attach-point="moreNode">\n\t\t<button type="button" class="${baseClass}MoreButton" data-dojo-attach-event="ondijitclick:_onMoreClick" data-dojo-attach-point="moreButtonNode">${moreLabel}</button>\n\t</div>\n</div>',"dote-client/userControls":function(){define("dote-client/userControls",
["dojo/_base/window","dojo/dom","dojo/on","./displayHelp"],function(g,i,j,d){function f(a){a.preventDefault();g.global.location.href="/add"}function e(a){a.preventDefault();d.display()}function a(a){a.preventDefault();g.global.location.href="/logout"}return{start:function(){j(i.byId("newTopic"),"click",f);j(i.byId("help"),"click",e);j(i.byId("logout"),"click",a)}}})},"dote-client/displayHelp":function(){define("dote-client/displayHelp",["dijit/Dialog"],function(){return{display:function(){}}})},"dijit/Dialog":function(){require({cache:{"url:dijit/templates/Dialog.html":'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\n\t<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\n\t\t<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\n\t\t\t\trole="header" level="1"></span>\n\t\t<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabIndex="-1">\n\t\t\t<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\n</div>\n'}});
define("dijit/Dialog","require,dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/Deferred,dojo/dom,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/_base/fx,dojo/i18n,dojo/keys,dojo/_base/lang,dojo/on,dojo/ready,dojo/sniff,dojo/window,dojo/dnd/Moveable,dojo/dnd/TimedMoveable,./focus,./_base/manager,./_Widget,./_TemplatedMixin,./_CssStateMixin,./form/_FormMixin,./_DialogMixin,./DialogUnderlay,./layout/ContentPane,dojo/text!./templates/Dialog.html,./main,dojo/i18n!./nls/common".split(","),
function(g,i,j,d,f,e,a,c,k,l,o,m,s,n,b,z,q,t,v,u,h,p,D,y,G,M,N,x,P,w,E){var g=d("dijit._DialogBase",[y,M,N,G],{templateString:w,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],open:!1,duration:p.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,doLayout:!1,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},"aria-describedby":"",maxRatio:0.9,
postMixInProperties:function(){var a=m.getLocalization("dijit","common");n.mixin(this,a);this.inherited(arguments)},postCreate:function(){k.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[]},onLoad:function(){this._position();this.autofocus&&K.isTop(this)&&(this._getFocusItems(this.domNode),h.focus(this._firstFocusItem));
this.inherited(arguments)},_endDrag:function(){var a=c.position(this.domNode),b=t.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),b.h-a.h);a.x=Math.min(Math.max(a.x,0),b.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var b=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==q("ie")?u:v)(b,{handle:this.titleBar}),this.connect(this._moveable,"onMoveStop","_endDrag")):a.add(b,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":i.map(this["class"].split(/\s/),
function(a){return a+"_underlay"}).join(" "),ownerDocument:this.ownerDocument}},_size:function(){this._checkIfSingleChild();if(this._singleChild){if("undefined"!=typeof this._singleChildOriginalStyle)this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle}else k.set(this.containerNode,{width:"auto",height:"auto"});var a=c.position(this.domNode),b=t.getBox(this.ownerDocument);b.w*=this.maxRatio;b.h*=this.maxRatio;if(a.w>=b.w||a.h>=b.h){var d=c.position(this.containerNode),
e=Math.min(a.w,b.w)-(a.w-d.w),a=Math.min(a.h,b.h)-(a.h-d.h);if(this._singleChild&&this._singleChild.resize){if("undefined"==typeof this._singleChildOriginalStyle)this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;this._singleChild.resize({w:e,h:a})}else k.set(this.containerNode,{width:e+"px",height:a+"px",overflow:"auto",position:"relative"})}else this._singleChild&&this._singleChild.resize&&this._singleChild.resize()},_position:function(){if(!a.contains(this.ownerDocumentBody,
"dojoMove")){var b=this.domNode,d=t.getBox(this.ownerDocument),e=this._relativePosition,h=e?null:c.position(b);k.set(b,{left:Math.floor(d.l+(e?e.x:(d.w-h.w)/2))+"px",top:Math.floor(d.t+(e?e.y:(d.h-h.h)/2))+"px"})}},_onKey:function(b){if(b.charOrCode){var c=b.target;b.charOrCode===s.TAB&&this._getFocusItems(this.domNode);var d=this._firstFocusItem==this._lastFocusItem;if(c==this._firstFocusItem&&b.shiftKey&&b.charOrCode===s.TAB)d||h.focus(this._lastFocusItem),l.stop(b);else if(c==this._lastFocusItem&&
b.charOrCode===s.TAB&&!b.shiftKey)d||h.focus(this._firstFocusItem),l.stop(b);else{for(;c;){if(c==this.domNode||a.contains(c,"dijitPopup"))if(b.charOrCode==s.ESCAPE)this.onCancel();else return;c=c.parentNode}if(b.charOrCode!==s.TAB)l.stop(b);else try{this._firstFocusItem.focus()}catch(e){}}}},show:function(){if(!this.open){this._started||this.startup();if(!this._alreadyInitialized)this._setup(),this._alreadyInitialized=!0;this._fadeOutDeferred&&this._fadeOutDeferred.cancel();var a=t.get(this.ownerDocument);
this._modalconnects.push(b(a,"scroll",n.hitch(this,"resize")));this._modalconnects.push(b(this.domNode,j._keypress,n.hitch(this,"_onKey")));k.set(this.domNode,{opacity:0,display:""});this._set("open",!0);this._onShow();this._size();this._position();var c;this._fadeInDeferred=new f(n.hitch(this,function(){c.stop();delete this._fadeInDeferred}));c=o.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:n.hitch(this,function(){K.show(this,this.underlayAttrs)}),onEnd:n.hitch(this,function(){this.autofocus&&
K.isTop(this)&&(this._getFocusItems(this.domNode),h.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();return this._fadeInDeferred}},hide:function(){if(this._alreadyInitialized&&this.open){this._fadeInDeferred&&this._fadeInDeferred.cancel();var a;this._fadeOutDeferred=new f(n.hitch(this,function(){a.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(n.hitch(this,"onHide"));a=o.fadeOut({node:this.domNode,duration:this.duration,onEnd:n.hitch(this,
function(){this.domNode.style.display="none";K.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();if(this._scrollConnected)this._scrollConnected=!1;for(var b;b=this._modalconnects.pop();)b.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return this._fadeOutDeferred}},resize:function(){"none"!=this.domNode.style.display&&(x._singleton&&x._singleton.layout(),this._position(),this._size())},destroy:function(){this._fadeInDeferred&&
this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();K.hide(this);this.inherited(arguments)}}),r=d("dijit.Dialog",[P,g],{});r._DialogBase=g;var K=r._DialogLevelManager={_beginZIndex:950,show:function(a,b){A[A.length-1].focus=h.curNode;var c=x._singleton;!c||c._destroyed?c=E._underlay=x._singleton=new x(b):c.set(a.underlayAttrs);var d=A[A.length-1].dialog?A[A.length-1].zIndex+2:
r._DialogLevelManager._beginZIndex;1==A.length&&c.show();k.set(x._singleton.domNode,"zIndex",d-1);k.set(a.domNode,"zIndex",d);A.push({dialog:a,underlayAttrs:b,zIndex:d})},hide:function(a){if(A[A.length-1].dialog==a){A.pop();var b=A[A.length-1];x._singleton._destroyed||(1==A.length?x._singleton.hide():(k.set(x._singleton.domNode,"zIndex",b.zIndex-1),x._singleton.set(b.underlayAttrs)));if(a.refocus){a=b.focus;if(b.dialog&&(!a||!e.isDescendant(a,b.dialog.domNode)))b.dialog._getFocusItems(b.dialog.domNode),
a=b.dialog._firstFocusItem;if(a)try{a.focus()}catch(c){}}}else b=i.indexOf(i.map(A,function(a){return a.dialog}),a),-1!=b&&A.splice(b,1)},isTop:function(a){return A[A.length-1].dialog==a}},A=r._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];return r})},"dojo/dnd/Moveable":function(){define("dojo/dnd/Moveable","../_base/array,../_base/declare,../_base/event,../_base/lang,../dom,../dom-class,../Evented,../on,../topic,../touch,./common,./Mover,../_base/window".split(","),function(g,i,j,d,
f,e,a,c,k,l,o,m,s){return i("dojo.dnd.Moveable",[a],{handle:"",delay:0,skip:!1,constructor:function(a,b){this.node=f.byId(a);b||(b={});this.handle=b.handle?f.byId(b.handle):null;if(!this.handle)this.handle=this.node;this.delay=0<b.delay?b.delay:0;this.skip=b.skip;this.mover=b.mover?b.mover:m;this.events=[c(this.handle,l.press,d.hitch(this,"onMouseDown")),c(this.handle,"dragstart",d.hitch(this,"onSelectStart")),c(this.handle,"selectstart",d.hitch(this,"onSelectStart"))]},markupFactory:function(a,b,
c){return new c(b,a)},destroy:function(){g.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(a){if(!this.skip||!o.isFormElement(a)){if(this.delay)this.events.push(c(this.handle,l.move,d.hitch(this,"onMouseMove")),c(this.handle,l.release,d.hitch(this,"onMouseUp"))),this._lastX=a.pageX,this._lastY=a.pageY;else this.onDragDetected(a);j.stop(a)}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)this.onMouseUp(a),
this.onDragDetected(a);j.stop(a)},onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();j.stop(a)},onSelectStart:function(a){(!this.skip||!o.isFormElement(a))&&j.stop(a)},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){k.publish("/dnd/move/start",a);e.add(s.body(),"dojoMove");e.add(this.node,"dojoMoveItem")},onMoveStop:function(a){k.publish("/dnd/move/stop",a);e.remove(s.body(),"dojoMove");e.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},
onMove:function(a,b){this.onMoving(a,b);var c=a.node.style;c.left=b.l+"px";c.top=b.t+"px";this.onMoved(a,b)},onMoving:function(){},onMoved:function(){}})})},"dojo/dnd/common":function(){define("dojo/dnd/common",["../_base/connect","../_base/kernel","../_base/lang","../dom"],function(g,i,j,d){var f={};f.getCopyKeyState=g.isCopyKey;f._uniqueId=0;f.getUniqueId=function(){var e;do e=i._scopeName+"Unique"+ ++f._uniqueId;while(d.byId(e));return e};f._empty={};f.isFormElement=function(d){d=d.target;if(3==
d.nodeType)d=d.parentNode;return 0<=" button textarea input select option ".indexOf(" "+d.tagName.toLowerCase()+" ")};j.mixin(j.getObject("dojo.dnd",!0),f);return f})},"dojo/dnd/Mover":function(){define("dojo/dnd/Mover","../_base/array,../_base/declare,../_base/event,../_base/lang,../sniff,../_base/window,../dom,../dom-geometry,../dom-style,../Evented,../on,../touch,./common,./autoscroll".split(","),function(g,i,j,d,f,e,a,c,k,l,o,m,s,n){return i("dojo.dnd.Mover",[l],{constructor:function(b,c,e){this.node=
a.byId(b);this.marginBox={l:c.pageX,t:c.pageY};this.mouseButton=c.button;c=this.host=e;b=b.ownerDocument;this.events=[o(b,m.move,d.hitch(this,"onFirstMove")),o(b,m.move,d.hitch(this,"onMouseMove")),o(b,m.release,d.hitch(this,"onMouseUp")),o(b,"dragstart",j.stop),o(b.body,"selectstart",j.stop)];n.autoScrollStart(b);if(c&&c.onMoveStart)c.onMoveStart(this)},onMouseMove:function(a){n.autoScroll(a);var c=this.marginBox;this.host.onMove(this,{l:c.l+a.pageX,t:c.t+a.pageY},a);j.stop(a)},onMouseUp:function(a){(f("webkit")&&
f("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();j.stop(a)},onFirstMove:function(a){var d=this.node.style,f,l=this.host;switch(d.position){case "relative":case "absolute":f=Math.round(parseFloat(d.left))||0;d=Math.round(parseFloat(d.top))||0;break;default:d.position="absolute";d=c.getMarginBox(this.node);f=e.doc.body;var g=k.getComputedStyle(f),i=c.getMarginBox(f,g),g=c.getContentBox(f,g);f=d.l-(g.l-i.l);d=d.t-(g.t-i.t)}this.marginBox.l=f-this.marginBox.l;this.marginBox.t=
d-this.marginBox.t;if(l&&l.onFirstMove)l.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){g.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/dnd/autoscroll":function(){define("dojo/dnd/autoscroll","../_base/lang,../sniff,../_base/window,../dom-geometry,../dom-style,../window".split(","),function(g,i,j,d,f,e){var a={};g.setObject("dojo.dnd.autoscroll",a);a.getViewport=e.getBox;a.V_TRIGGER_AUTOSCROLL=
32;a.H_TRIGGER_AUTOSCROLL=32;a.V_AUTOSCROLL_VALUE=16;a.H_AUTOSCROLL_VALUE=16;var c,k=j.doc,l=Infinity,o=Infinity;a.autoScrollStart=function(a){k=a;c=e.getBox(k);a=j.body(k).parentNode;l=Math.max(a.scrollHeight-c.h,0);o=Math.max(a.scrollWidth-c.w,0)};a.autoScroll=function(d){var f=c||e.getBox(k),g=j.body(k).parentNode,b=0,i=0;d.clientX<a.H_TRIGGER_AUTOSCROLL?b=-a.H_AUTOSCROLL_VALUE:d.clientX>f.w-a.H_TRIGGER_AUTOSCROLL&&(b=Math.min(a.H_AUTOSCROLL_VALUE,o-g.scrollLeft));d.clientY<a.V_TRIGGER_AUTOSCROLL?
i=-a.V_AUTOSCROLL_VALUE:d.clientY>f.h-a.V_TRIGGER_AUTOSCROLL&&(i=Math.min(a.V_AUTOSCROLL_VALUE,l-g.scrollTop));window.scrollBy(b,i)};a._validNodes={div:1,p:1,td:1};a._validOverflow={auto:1,scroll:1};a.autoScrollNodes=function(c){for(var e,l,b,g,k,o,v=0,u=0,h=c.target;h;){if(1==h.nodeType&&h.tagName.toLowerCase()in a._validNodes){b=f.getComputedStyle(h);g=b.overflow.toLowerCase()in a._validOverflow;k=b.overflowX.toLowerCase()in a._validOverflow;o=b.overflowY.toLowerCase()in a._validOverflow;if(g||
k||o)e=d.getContentBox(h,b),l=d.position(h,!0);if(g||k)b=Math.min(a.H_TRIGGER_AUTOSCROLL,e.w/2),k=c.pageX-l.x,i("webkit")&&(k+=j.body().scrollLeft),v=0,0<k&&k<e.w&&(k<b?v=-b:k>e.w-b&&(v=b),h.scrollLeft+=v);if(g||o)g=Math.min(a.V_TRIGGER_AUTOSCROLL,e.h/2),o=c.pageY-l.y,i("webkit")&&(o+=j.body().scrollTop),u=0,0<o&&o<e.h&&(o<g?u=-g:o>e.h-g&&(u=g),h.scrollTop+=u);if(v||u)return}try{h=h.parentNode}catch(p){h=null}}a.autoScroll(c)};return a})},"dojo/dnd/TimedMoveable":function(){define("dojo/dnd/TimedMoveable",
["../_base/declare","./Moveable"],function(g,i){var j=i.prototype.onMove;return g("dojo.dnd.TimedMoveable",i,{timeout:40,constructor:function(d,f){f||(f={});if(f.timeout&&"number"==typeof f.timeout&&0<=f.timeout)this.timeout=f.timeout},onMoveStop:function(d){d._timer&&(clearTimeout(d._timer),j.call(this,d,d._leftTop));i.prototype.onMoveStop.apply(this,arguments)},onMove:function(d,f){d._leftTop=f;if(!d._timer){var e=this;d._timer=setTimeout(function(){d._timer=null;j.call(e,d,d._leftTop)},this.timeout)}}})})},
"dijit/form/_FormMixin":function(){define("dijit/form/_FormMixin","dojo/_base/array,dojo/_base/declare,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/window".split(","),function(g,i,j,d,f,e){return i("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(a){var c=[];g.forEach(a||this.getChildren(),function(a){"value"in a?c.push(a):c=c.concat(this._getDescendantFormWidgets(a.getChildren()))},this);return c},reset:function(){g.forEach(this._getDescendantFormWidgets(),function(a){a.reset&&
a.reset()})},validate:function(){var a=!1;return g.every(g.map(this._getDescendantFormWidgets(),function(c){c._hasBeenBlurred=!0;var d=c.disabled||!c.validate||c.validate();!d&&!a&&(e.scrollIntoView(c.containerNode||c.domNode),c.focus(),a=!0);return d}),function(a){return a})},setValues:function(a){j.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",a)},_setValueAttr:function(a){var c={};g.forEach(this._getDescendantFormWidgets(),
function(a){a.name&&(c[a.name]||(c[a.name]=[])).push(a)});for(var e in c)if(c.hasOwnProperty(e)){var f=c[e],i=d.getObject(e,!1,a);void 0!==i&&(d.isArray(i)||(i=[i]),"boolean"==typeof f[0].checked?g.forEach(f,function(a){a.set("value",-1!=g.indexOf(i,a.value))}):f[0].multiple?f[0].set("value",i):g.forEach(f,function(a,c){a.set("value",i[c])}))}},getValues:function(){j.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var a=
{};g.forEach(this._getDescendantFormWidgets(),function(c){var e=c.name;if(e&&!c.disabled){var f=c.get("value");"boolean"==typeof c.checked?/Radio/.test(c.declaredClass)?!1!==f?d.setObject(e,f,a):(f=d.getObject(e,!1,a),void 0===f&&d.setObject(e,null,a)):(c=d.getObject(e,!1,a),c||(c=[],d.setObject(e,c,a)),!1!==f&&c.push(f)):(c=d.getObject(e,!1,a),"undefined"!=typeof c?d.isArray(c)?c.push(f):d.setObject(e,[c,f],a):d.setObject(e,f,a))}});return a},isValid:function(){return""==this.state},onValidStateChange:function(){},
_getState:function(){var a=g.map(this._descendants,function(a){return a.get("state")||""});return 0<=g.indexOf(a,"Error")?"Error":0<=g.indexOf(a,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(a){this._descendants=this._getDescendantFormWidgets();g.forEach(this._descendants,function(a){a._started||a.startup()});a||this._onChildChange()},_onChildChange:function(a){(!a||"state"==a||"disabled"==a)&&this._set("state",this._getState());if(!a||"value"==a||"disabled"==
a||"checked"==a)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var a=this;this.own(f(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(c){c.target!=a.domNode&&
a._onChildChange(c.type.replace("attrmodified-",""))}));this.watch("state",function(a,d,e){this.onValidStateChange(""==e)})},destroy:function(){this.inherited(arguments)}})})},"dijit/_DialogMixin":function(){define("dijit/_DialogMixin",["dojo/_base/declare","./a11y"],function(g,i){return g("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var g=i._getTabNavigable(this.containerNode);
this._firstFocusItem=g.lowest||g.first||this.closeButtonNode||this.domNode;this._lastFocusItem=g.last||g.highest||this._firstFocusItem}})})},"dijit/DialogUnderlay":function(){define("dijit/DialogUnderlay","dojo/_base/declare,dojo/dom-attr,dojo/window,./_Widget,./_TemplatedMixin,./BackgroundIframe".split(","),function(g,i,j,d,f,e){return g("dijit.DialogUnderlay",[d,f],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' data-dojo-attach-point='node'></div></div>",
dialogId:"","class":"",_setDialogIdAttr:function(a){i.set(this.node,"id",a+"_underlay");this._set("dialogId",a)},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a;this._set("class",a)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode)},layout:function(){var a=this.node.style,c=this.domNode.style;c.display="none";var d=j.getBox(this.ownerDocument);c.top=d.t+"px";c.left=d.l+"px";a.width=d.w+"px";a.height=d.h+"px";c.display="block"},show:function(){this.domNode.style.display=
"block";this.layout();this.bgIframe=new e(this.domNode)},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none"}})})},"dijit/layout/ContentPane":function(){define("dijit/layout/ContentPane","dojo/_base/kernel,dojo/_base/lang,../_Widget,../_Container,./_ContentPaneResizeMixin,dojo/string,dojo/html,dojo/i18n!../nls/loading,dojo/_base/array,dojo/_base/declare,dojo/_base/Deferred,dojo/dom,dojo/dom-attr,dojo/_base/xhr,dojo/i18n,dojo/when".split(","),function(g,i,
j,d,f,e,a,c,k,l,o,m,s,n,b,z){return l("dijit.layout.ContentPane",[j,d,f],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:g._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,
_setTitleAttr:null,stopParser:!0,template:!1,create:function(a,b){if((!a||!a.template)&&b&&!("href"in a)&&!("content"in a)){for(var b=m.byId(b),c=b.ownerDocument.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);a=i.delegate(a,{content:c})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var a=b.getLocalization("dijit","loading",this.lang);this.loadingMessage=e.substitute(this.loadingMessage,a);this.errorMessage=e.substitute(this.errorMessage,
a)},buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode;this.domNode.title="";s.get(this.domNode,"role")||this.domNode.setAttribute("role","group")},startup:function(){this.inherited(arguments);this._contentSetter&&k.forEach(this._contentSetter.parseResults,function(a){if(!a._started&&!a._destroyed&&i.isFunction(a.startup))a.startup(),a._started=!0},this)},_startChildren:function(){k.forEach(this.getChildren(),function(a){if(!a._started&&!a._destroyed&&
i.isFunction(a.startup))a.startup(),a._started=!0});this._contentSetter&&k.forEach(this._contentSetter.parseResults,function(a){if(!a._started&&!a._destroyed&&i.isFunction(a.startup))a.startup(),a._started=!0},this)},setHref:function(a){g.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new o(i.hitch(this,"cancel"));this.onLoadDeferred.then(i.hitch(this,"onLoad"));
this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){g.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href","");this.cancel();this.onLoadDeferred=new o(i.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(i.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=
!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},
refresh:function(){this.cancel();this.onLoadDeferred=new o(i.hitch(this,"cancel"));this.onLoadDeferred.then(i.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};i.isObject(this.ioArgs)&&i.mixin(b,this.ioArgs);var c=this._xhrDfd=(this.ioMethod||n.get)(b),d;c.then(function(b){d=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(c){a._onError("Content",
c)}},function(b){c.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return d});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){console.error("Error "+this.widgetId+" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+
a.message)}},destroyDescendants:function(b){this.isLoaded&&this._onUnloadHandler();var c=this._contentSetter;k.forEach(this.getChildren(),function(a){a.destroyRecursive?a.destroyRecursive(b):a.destroy&&a.destroy(b);a._destroyed=!0});c&&(k.forEach(c.parseResults,function(a){if(!a._destroyed)a.destroyRecursive?a.destroyRecursive(b):a.destroy&&a.destroy(b),a._destroyed=!0}),delete c.parseResults);b||a._emptyNode(this.containerNode);delete this._singleChild},_setContent:function(b,c){this.destroyDescendants();
var d=this._contentSetter;if(!(d&&d instanceof a._ContentSetter))d=this._contentSetter=new a._ContentSetter({node:this.containerNode,_onError:i.hitch(this,this._onError),onContentError:i.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+this.id+" could not change content due to "+b.message,b)}})});var e=i.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!b.domNode&&this.parseOnLoad,parserScope:this.parserScope,
startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),e=d.set(i.isObject(b)&&b.domNode?b.domNode:b,e),h=this;return z(e&&e.then?e:d.parseDeferred,function(){delete h._contentSetterParams;c||(h._started&&(h._startChildren(),h._scheduleLayout()),h._onLoadHandler(b))})},_onError:function(a,b,c){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},
onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dijit/layout/_ContentPaneResizeMixin","dojo/_base/array,dojo/_base/declare,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,dojo/query,dojo/sniff,../registry,../Viewport,./utils".split(","),function(g,i,j,d,f,e,a,c,k,l,o){return i("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var a=
this.getParent();this._childOfLayoutWidget=a&&a.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(l.on("resize",e.hitch(this,"resize")))}},_checkIfSingleChild:function(){var c=[],d=!1;a("> *",this.containerNode).some(function(a){var b=k.byNode(a);b&&b.resize?c.push(b):a.offsetHeight&&(d=!0)});this._singleChild=1==c.length&&!d?c[0]:null;j.toggle(this.containerNode,this.baseClass+"SingleChild",
!!this._singleChild)},resize:function(a,c){this._resizeCalled=!0;this._scheduleLayout(a,c)},_scheduleLayout:function(a,c){this._isShown()?this._layout(a,c):(this._needLayout=!0,this._changeSize=a,this._resultSize=c)},_layout:function(a,c){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();a&&d.setMarginBox(this.domNode,a);var f=this.containerNode;if(f===this.domNode){var b=c||{};e.mixin(b,a||{});if(!("h"in b)||!("w"in b))b=e.mixin(d.getMarginBox(f),b);this._contentBox=o.marginBox2contentBox(f,
b)}else this._contentBox=d.getContentBox(f);this._layoutChildren()},_layoutChildren:function(){this.doLayout&&this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||d.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else g.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;
var a=this.domNode,c=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!j.contains(a,"dijitHidden")&&c&&c.style&&"none"!=c.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dijit/layout/utils":function(){define("dijit/layout/utils","dojo/_base/array,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,../main".split(","),function(g,i,j,d,f,e){function a(a,
d){var e=a.resize?a.resize(d):j.setMarginBox(a.domNode,d);e?f.mixin(a,e):(f.mixin(a,j.getMarginBox(a.domNode)),f.mixin(a,d))}e=f.getObject("layout",!0,e);e.marginBox2contentBox=function(a,e){var f=d.getComputedStyle(a),g=j.getMarginExtents(a,f),i=j.getPadBorderExtents(a,f);return{l:d.toPixelValue(a,f.paddingLeft),t:d.toPixelValue(a,f.paddingTop),w:e.w-(g.w+i.w),h:e.h-(g.h+i.h)}};e.layoutChildren=function(c,d,e,j,m){d=f.mixin({},d);i.add(c,"dijitLayoutContainer");e=g.filter(e,function(a){return"center"!=
a.region&&"client"!=a.layoutAlign}).concat(g.filter(e,function(a){return"center"==a.region||"client"==a.layoutAlign}));g.forEach(e,function(c){var e=c.domNode,b=c.region||c.layoutAlign;if(!b)throw Error("No region setting for "+c.id);var f=e.style;f.left=d.l+"px";f.top=d.t+"px";f.position="absolute";i.add(e,"dijitAlign"+(b.substring(0,1).toUpperCase()+b.substring(1)));e={};j&&j==c.id&&(e["top"==c.region||"bottom"==c.region?"h":"w"]=m);"top"==b||"bottom"==b?(e.w=d.w,a(c,e),d.h-=c.h,"top"==b?d.t+=c.h:
f.top=d.t+d.h+"px"):"left"==b||"right"==b?(e.h=d.h,a(c,e),d.w-=c.w,"left"==b?d.l+=c.w:f.left=d.l+d.w+"px"):("client"==b||"center"==b)&&a(c,d)})};return{marginBox2contentBox:e.marginBox2contentBox,layoutChildren:e.layoutChildren}})},"dojo/html":function(){define("dojo/html","./_base/kernel,./_base/lang,./_base/array,./_base/declare,./dom,./dom-construct,./parser".split(","),function(g,i,j,d,f,e,a){var c={};i.setObject("dojo.html",c);var k=0;c._secureForInnerHtml=function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,
"")};c._emptyNode=e.empty;c._setNodeContent=function(a,c){e.empty(a);if(c)if("string"==typeof c&&(c=e.toDom(c,a.ownerDocument)),!c.nodeType&&i.isArrayLike(c))for(var d=c.length,f=0;f<c.length;f=d==c.length?f+1:0)e.place(c[f],a,"last");else e.place(c,a,"last");return a};c._ContentSetter=d("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:g._scopeName,startup:!0,constructor:function(a,c){i.mixin(this,a||{});c=this.node=f.byId(this.node||
c);if(!this.id)this.id=["Setter",c?c.id||c.tagName:"",k++].join("_")},set:function(a,c){if(void 0!==a)this.content=a;c&&this._mixin(c);this.onBegin();this.setContent();var d=this.onEnd();return d&&d.then?d:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=c._setNodeContent(a,this.content)}catch(d){var e=this.onContentError(d);try{a.innerHTML=e}catch(f){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+
f.message,f)}}this.node=a},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(j.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);c._emptyNode(this.node)},onBegin:function(){var a=this.content;if(i.isString(a)&&(this.cleanContent&&(a=c._secureForInnerHtml(a)),this.extractContent)){var d=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);d&&(a=
d[1])}this.empty();this.content=a;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+a},_mixin:function(a){var c={},d;for(d in a)d in c||(this[d]=a[d])},_parse:function(){var c=this.node;try{var d={};j.forEach(["dir","lang",
"textDir"],function(a){this[a]&&(d[a]=this[a])},this);var e=this;this.parseDeferred=a.parse({rootNode:c,noStart:!this.startup,inherited:d,scope:this.parserScope}).then(function(a){return e.parseResults=a})}catch(f){this._onError("Content",f,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(a,d,e){a=this["on"+a+"Error"].call(this,d);e?console.error(e,d):a&&c._setNodeContent(this.node,a,!0)}});c.set=function(a,d,e){void 0==d&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),
d="");return e?(new c._ContentSetter(i.mixin(e,{content:d,node:a}))).set():c._setNodeContent(a,d,!0)};return c})},"dojo/parser":function(){define("dojo/parser","./_base/kernel,./_base/lang,./_base/array,./_base/config,./_base/html,./_base/window,./_base/url,./_base/json,./aspect,./date/stamp,./Deferred,./has,./query,./on,./ready".split(","),function(g,i,j,d,f,e,a,c,k,l,o,m,s,n,b){function z(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<t){var b=a._nameCaseMap={},d;for(d in c)"_"!==d.charAt(0)&&
(b[d.toLowerCase()]=d);b._extendCnt=t}return b}function q(a){var b=a.join();if(!v[b]){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];c[c.length]=v[f]=v[f]||i.getObject(f)||~f.indexOf("/")&&require(f)}a=c.shift();v[b]=c.length?a.createSubclass?a.createSubclass(c):a.extend.apply(a,c):a}return v[b]}var t=0;k.after(i,"extend",function(){t++},!0);var v={},u={_clearCache:function(){t++;v={}},_functionFromScript:function(a,b){var c="",d="",e=a.getAttribute(b+"args")||a.getAttribute("args"),f=a.getAttribute("with"),
e=(e||"").split(/\s*,\s*/);f&&f.length&&j.forEach(f.split(/\s*,\s*/),function(a){c+="with("+a+"){";d+="}"});return new Function(e,c+a.innerHTML+d)},instantiate:function(a,b,c){var b=b||{},c=c||{},d=(c.scope||g._scopeName)+"Type",e="data-"+(c.scope||g._scopeName)+"-",f=e+"type",i=e+"mixins",k=[];j.forEach(a,function(a){var c=d in b?b[d]:a.getAttribute(f)||a.getAttribute(d);if(c){var e=a.getAttribute(i),c=e?[c].concat(e.split(/\s*,\s*/)):[c];k.push({node:a,types:c})}});return this._instantiate(k,b,
c)},_instantiate:function(a,b,c){a=j.map(a,function(a){var d=a.ctor||q(a.types);if(!d)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(d,a.node,b,c,a.scripts,a.inherited)},this);!b._started&&!c.noStart&&j.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a},construct:function(b,d,e,f,o,q){var h;var t=b&&b.prototype,f=f||{},x={};f.defaults&&i.mixin(x,f.defaults);q&&i.mixin(x,q);var u;m("dom-attributes-explicit")?u=d.attributes:
m("dom-attributes-specified-flag")?u=j.filter(d.attributes,function(a){return a.specified}):(q=(/^input$|^img$/i.test(d.nodeName)?d:d.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),u=j.map(q.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:"LI"==d.nodeName&&"value"==a||"enctype"==b?d.getAttribute(b):d.getAttributeNode(b).value}}));var w=f.scope||g._scopeName,q="data-"+w+"-",E={};"dojo"!==w&&(E[q+"props"]=
"data-dojo-props",E[q+"type"]="data-dojo-type",E[q+"mixins"]="data-dojo-mixins",E[w+"type"]="dojoType",E[q+"id"]="data-dojo-id");for(var w=0,r,v=[],A,F;r=u[w++];){var B=r.name,H=B.toLowerCase();r=r.value;switch(E[H]||H){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":F=r;break;case "data-dojo-id":case "jsid":A=r;break;case "data-dojo-attach-point":case "dojoattachpoint":x.dojoAttachPoint=r;break;case "data-dojo-attach-event":case "dojoattachevent":x.dojoAttachEvent=
r;break;case "class":x["class"]=d.className;break;case "style":x.style=d.style&&d.style.cssText;break;default:if(B in t||(B=z(b)[H]||B),B in t)switch(typeof t[B]){case "string":x[B]=r;break;case "number":x[B]=r.length?Number(r):NaN;break;case "boolean":x[B]="false"!=r.toLowerCase();break;case "function":x[B]=""===r||-1!=r.search(/[^\w\.]+/i)?new Function(r):i.getObject(r,!1)||new Function(r);v.push(B);break;default:H=t[B],x[B]=H&&"length"in H?r?r.split(/\s*,\s*/):[]:H instanceof Date?""==r?new Date(""):
"now"==r?new Date:l.fromISOString(r):H instanceof a?g.baseUrl+r:c.fromJson(r)}else x[B]=r}}for(w=0;w<v.length;w++)u=v[w].toLowerCase(),d.removeAttribute(u),d[u]=null;if(F)try{F=c.fromJson.call(f.propsThis,"{"+F+"}"),i.mixin(x,F)}catch(I){throw Error(I.toString()+" in data-dojo-props='"+F+"'");}i.mixin(x,e);o||(o=b&&(b._noScript||t._noScript)?[]:s("> script[type^='dojo/']",d));e=[];f=[];F=[];v=[];if(o)for(w=0;w<o.length;w++){var C=o[w];d.removeChild(C);u=C.getAttribute(q+"event")||C.getAttribute("event");
E=C.getAttribute(q+"prop");B=C.getAttribute(q+"method");H=C.getAttribute(q+"advice");r=C.getAttribute("type");C=this._functionFromScript(C,q);u?"dojo/connect"==r?e.push({method:u,func:C}):"dojo/on"==r?v.push({event:u,func:C}):x[u]=C:"dojo/aspect"==r?e.push({method:B,advice:H,func:C}):"dojo/watch"==r?F.push({prop:E,func:C}):f.push(C)}h=(o=b.markupFactory||t.markupFactory)?o(x,d,b):new b(x,d),b=h;A&&i.setObject(A,b);for(w=0;w<e.length;w++)k[e[w].advice||"after"](b,e[w].method,i.hitch(b,e[w].func),!0);
for(w=0;w<f.length;w++)f[w].call(b);for(w=0;w<F.length;w++)b.watch(F[w].prop,F[w].func);for(w=0;w<v.length;w++)n(b,v[w].event,v[w].func);return b},scan:function(a,b){function c(a){if(!a.inherited){a.inherited={};var b=a.node,d=c(a.parent),b={dir:b.getAttribute("dir")||d.dir,lang:b.getAttribute("lang")||d.lang,textDir:b.getAttribute(n)||d.textDir},e;for(e in b)b[e]&&(a.inherited[e]=b[e])}return a.inherited}var d=[],e=[],f={},i=(b.scope||g._scopeName)+"Type",k="data-"+(b.scope||g._scopeName)+"-",l=
k+"type",n=k+"textdir",k=k+"mixins",m=a.firstChild,r=b.inherited;if(!r){var u=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&u(a.parentNode,b)},r={dir:u(a,"dir"),lang:u(a,"lang"),textDir:u(a,n)},s;for(s in r)r[s]||delete r[s]}for(var r={inherited:r},t,v;;)if(m)if(1!=m.nodeType)m=m.nextSibling;else if(t&&"script"==m.nodeName.toLowerCase())(z=m.getAttribute("type"))&&/^dojo\/\w/i.test(z)&&t.push(m),m=m.nextSibling;else if(v)m=m.nextSibling;else{var z=m.getAttribute(l)||m.getAttribute(i);
s=m.firstChild;if(!z&&(!s||3==s.nodeType&&!s.nextSibling))m=m.nextSibling;else{v=null;if(z){var I=m.getAttribute(k);t=I?[z].concat(I.split(/\s*,\s*/)):[z];try{v=q(t)}catch(C){}v||j.forEach(t,function(a){~a.indexOf("/")&&!f[a]&&(f[a]=!0,e[e.length]=a)});I=v&&!v.prototype._noScript?[]:null;r={types:t,ctor:v,parent:r,node:m,scripts:I};r.inherited=c(r);d.push(r)}else r={node:m,scripts:t,parent:r};m=s;t=I;v=v&&v.prototype.stopParser&&!b.template}}else{if(!r||!r.node)break;m=r.node.nextSibling;t=r.scripts;
v=!1;r=r.parent}var L=new o;e.length?require(e,function(){L.resolve(j.filter(d,function(a){if(!a.ctor)try{a.ctor=q(a.types)}catch(c){}for(var d=a.parent;d&&!d.types;)d=d.parent;var e=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(e&&e.stopParser&&!b.template);a.instantiate=!d||d.instantiate&&d.instantiateChildren;return a.instantiate}))}):L.resolve(d);return L.promise},_require:function(a){var a=c.fromJson("{"+a.innerHTML+"}"),b=[],d=[],e=new o,f;for(f in a)b.push(f),d.push(a[f]);require(d,function(){for(var a=
0;a<b.length;a++)i.setObject(b[a],arguments[a]);e.resolve(arguments)});return e.promise},_scanAmd:function(a){var b=new o,c=b.promise;b.resolve(!0);var d=this;s("script[type='dojo/require']",a).forEach(function(a){c=c.then(function(){return d._require(a)});a.parentNode.removeChild(a)});return c},parse:function(a,b){var c;!b&&a&&a.rootNode?(b=a,c=b.rootNode):a&&i.isObject(a)&&!("nodeType"in a)?b=a:c=a;c=c?f.byId(c):e.body();var b=b||{},d=b.template?{template:!0}:{},g=[],k=this,j=this._scanAmd(c,b).then(function(){return k.scan(c,
b)}).then(function(a){return g=g.concat(k._instantiate(a,d,b))}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});i.mixin(g,j);return g}};g.parser=u;d.parseOnLoad&&b(100,u,"parse");return u})},"dojo/date/stamp":function(){define("dojo/date/stamp",["../_base/lang","../_base/array"],function(g,i){var j={};g.setObject("dojo.date.stamp",j);j.fromISOString=function(d,f){if(!j._isoRegExp)j._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;
var e=j._isoRegExp.exec(d),a=null;if(e){e.shift();e[1]&&e[1]--;e[6]&&(e[6]*=1E3);f&&(f=new Date(f),i.forEach(i.map("FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds".split(","),function(a){return f["get"+a]()}),function(a,c){e[c]=e[c]||a}));a=new Date(e[0]||1970,e[1]||0,e[2]||1,e[3]||0,e[4]||0,e[5]||0,e[6]||0);100>e[0]&&a.setFullYear(e[0]||1970);var c=0,g=e[7]&&e[7].charAt(0);"Z"!=g&&(c=60*(e[8]||0)+(Number(e[9])||0),"-"!=g&&(c*=-1));g&&(c-=a.getTimezoneOffset());c&&a.setTime(a.getTime()+6E4*
c)}return a};j.toISOString=function(d,f){var e=function(a){return 10>a?"0"+a:a},f=f||{},a=[],c=f.zulu?"getUTC":"get",g="";"time"!=f.selector&&(g=d[c+"FullYear"](),g=["0000".substr((g+"").length)+g,e(d[c+"Month"]()+1),e(d[c+"Date"]())].join("-"));a.push(g);if("date"!=f.selector){g=[e(d[c+"Hours"]()),e(d[c+"Minutes"]()),e(d[c+"Seconds"]())].join(":");c=d[c+"Milliseconds"]();f.milliseconds&&(g+="."+(100>c?"0":"")+e(c));if(f.zulu)g+="Z";else if("time"!=f.selector)var c=d.getTimezoneOffset(),i=Math.abs(c),
g=g+((0<c?"-":"+")+e(Math.floor(i/60))+":"+e(i%60));a.push(g)}return a.join("T")};return j})},"url:dijit/templates/Dialog.html":'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\n\t<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\n\t\t<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\n\t\t\t\trole="header" level="1"></span>\n\t\t<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabIndex="-1">\n\t\t\t<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\n</div>\n',
"*now":function(g){g(['dojo/i18n!*preload*dote-client/nls/viewTopicList*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define("dote-client/viewTopicList","dojo/dom,dojo/ready,dojo/store/Cache,dojo/store/JsonRest,dojo/store/Memory,./TopicList,./userControls,moment/moment".split(","),function(g,i,j,d,f,e,a){var c=j(new d({target:"/topics/"}),new f,{});i(function(){a.start();var d=new e({store:c,maxCount:10,queryOptions:{sort:[{attribute:"created",descending:!0}]},user:dote&&dote.username||""},"topicList");d.startup();d.fetch().then(function(){})});return{}});