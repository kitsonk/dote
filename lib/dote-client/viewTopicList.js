//>>built
require({cache:{"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(d,g,e){var c=d.some;return function(b){var h,l;b instanceof Array?l=b:b&&"object"===typeof b&&(h=b);var d,n=[];if(h){l=[];for(var a in h)Object.hasOwnProperty.call(h,a)&&(n.push(a),l.push(h[a]));d={}}else l&&(d=[]);if(!l||!l.length)return(new g).resolve(d);var m=new g;m.promise.always(function(){d=n=null});var q=l.length;c(l,function(a,k){h||n.push(k);e(a,function(f){m.isFulfilled()||(d[n[k]]=
f,0===--q&&m.resolve(d))},m.reject);return m.isFulfilled()});return m.promise}})},"dojo/store/Cache":function(){define(["../_base/lang","../_base/Deferred"],function(d,g){var e=function(c,b,h){h=h||{};return d.delegate(c,{query:function(d,e){var n=c.query(d,e);n.forEach(function(a){(!h.isLoaded||h.isLoaded(a))&&b.put(a)});return n},queryEngine:c.queryEngine||b.queryEngine,get:function(h,d){return g.when(b.get(h),function(e){return e||g.when(c.get(h,d),function(a){a&&b.put(a,{id:h});return a})})},
add:function(h,d){return g.when(c.add(h,d),function(c){b.add("object"==typeof c?c:h,d);return c})},put:function(h,d){b.remove(d&&d.id||this.getIdentity(h));return g.when(c.put(h,d),function(c){b.put("object"==typeof c?c:h,d);return c})},remove:function(h,d){return g.when(c.remove(h,d),function(c){return b.remove(h,d)})},evict:function(c){return b.remove(c)}})};d.setObject("dojo.store.Cache",e);return e})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],
function(d,g,e){return d("dojo.store.Memory",null,{constructor:function(c){for(var b in c)this[b]=c[b];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:e,get:function(c){return this.data[this.index[c]]},getIdentity:function(c){return c[this.idProperty]},put:function(c,b){var h=this.data,d=this.index,e=this.idProperty,e=c[e]=b&&"id"in b?b.id:e in c?c[e]:Math.random();if(e in d){if(b&&!1===b.overwrite)throw Error("Object already exists");h[d[e]]=c}else d[e]=h.push(c)-1;
return e},add:function(c,b){(b=b||{}).overwrite=!1;return this.put(c,b)},remove:function(c){var b=this.index,h=this.data;if(c in b)return h.splice(b[c],1),this.setData(h),!0},query:function(c,b){return g(this.queryEngine(c,b)(this.data))},setData:function(c){c.items?(this.idProperty=c.identifier,c=this.data=c.items):this.data=c;this.index={};for(var b=0,h=c.length;b<h;b++)this.index[c[b][this.idProperty]]=b}})})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(d){return function(g,
e){function c(b){b=d.filter(b,g);var c=e&&e.sort;c&&b.sort("function"==typeof c?c:function(b,a){for(var m,h=0;m=c[h];h++){var d=b[m.attribute],k=a[m.attribute];if(d!=k)return!!m.descending==(null==d||d>k)?-1:1}return 0});if(e&&(e.start||e.count)){var p=b.length;b=b.slice(e.start||0,(e.start||0)+(e.count||Infinity));b.total=p}return b}switch(typeof g){default:throw Error("Can not query with a "+typeof g);case "object":case "undefined":var b=g;g=function(c){for(var d in b){var e=b[d];if(e&&e.test){if(!e.test(c[d],
c))return!1}else if(e!=c[d])return!1}return!0};break;case "string":if(!this[g])throw Error("No filter function "+g+" was found in store");g=this[g];case "function":}c.matches=g;return c}})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html".split(" "),function(d,g,e,c,b,h,l,p,n,a){return g("dijit.form.Button",[p,n],{showLabel:!0,iconClass:"dijitNoIcon",
_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:a,_setValueAttr:"valueNode",_onClick:function(a){var b=this.inherited(arguments);b&&this.valueNode&&(this.valueNode.click(),a.preventDefault(),a.stopPropagation());return b},_fillContent:function(a){if(a&&(!this.params||!("label"in this.params)))if(a=h.trim(a.innerHTML))this.label=a},_setShowLabelAttr:function(a){this.containerNode&&e.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){b.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.",
"","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=h.trim(this.containerNode.innerText||this.containerNode.textContent||""))}})})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/has dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(d,g,e,c,b,h,l,p){return d("dijit.form._FormWidget",[b,l,h,p],{setDisabled:function(b){e.deprecated("setDisabled("+
b+") is deprecated. Use set('disabled',"+b+") instead.","","2.0");this.set("disabled",b)},setValue:function(b){e.deprecated("dijit.form._FormWidget:setValue("+b+") is deprecated.  Use set('value',"+b+") instead.","","2.0");this.set("value",b)},getValue:function(){e.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':
"";this.inherited(arguments)},_setTypeAttr:null})})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/sniff dojo/window ../a11y".split(" "),function(d,g,e,c,b,h,l,p,n){return g("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(a){this._set("disabled",
a);e.set(this.focusNode,"disabled",a);this.valueNode&&e.set(this.valueNode,"disabled",a);this.focusNode.setAttribute("aria-disabled",a?"true":"false");a?(this._set("hovering",!1),this._set("active",!1),a="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",d.forEach(b.isArray(a)?a:[a],function(a){a=this[a];l("webkit")||n.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",
this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var b=this.connect(this.focusNode,"onfocus",function(){this.disconnect(c);this.disconnect(b)}),c=this.connect(this.ownerDocumentBody,"onmouseup",function(){this.disconnect(c);this.disconnect(b);this.focused&&this.focus()});this.scrollOnFocus&&this.defer(function(){p.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=c.get(this.domNode,"display")},focus:function(){if(!this.disabled&&
this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||
b||void 0===b)&&this._pendingOnChange)this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare",
"dojo/dom","dojo/_base/event","../registry"],function(d,g,e,c){return d("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(b){if(this.disabled)return e.stop(b),!1;var d=!1===this.onClick(b);if(!d&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var g=this.domNode;g.parentNode;g=g.parentNode){var p=c.byNode(g);if(p&&"function"==typeof p._onSubmit){p._onSubmit(b);d=!0;break}}d&&b.preventDefault();return!d},postCreate:function(){this.inherited(arguments);g.setSelectable(this.focusNode,
!1)},onClick:function(){return!0},_setLabelAttr:function(b){this._set("label",b);(this.containerNode||this.focusNode).innerHTML=b}})})},"dijit/form/CheckBox":function(){define("require dojo/_base/declare dojo/dom-attr dojo/has dojo/query dojo/ready ./ToggleButton ./_CheckBoxMixin dojo/text!./templates/CheckBox.html dojo/NodeList-dom".split(" "),function(d,g,e,c,b,h,l,p,n){return g("dijit.form.CheckBox",[l,p],{templateString:n,baseClass:"dijitCheckBox",_setValueAttr:function(a,b){"string"==typeof a&&
(this.inherited(arguments),a=!0);this._created&&this.set("checked",a,b)},_getValueAttr:function(){return this.checked?this.value:!1},_setIconClassAttr:null,postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=this.checked?"checked":""},_fillContent:function(){},_onFocus:function(){this.id&&b("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&b("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");
this.inherited(arguments)}})})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(d,g,e,c){return d("dijit.form.ToggleButton",[e,c],{baseClass:"dijitToggleButton",setChecked:function(b){g.deprecated("setChecked("+b+") is deprecated. Use set('checked',"+b+") instead.","","2.0");this.set("checked",b)}})})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(d,g){return d("dijit.form._ToggleButtonMixin",
null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(d){var c=this.checked;this._set("checked",!c);var b=this.inherited(arguments);this.set("checked",b?this.checked:c);return b},_setCheckedAttr:function(d,c){this._set("checked",d);var b=this.focusNode||this.domNode;g.set(b,"checked",!!d);d?b.setAttribute("checked",""):b.removeAttribute("checked");b.setAttribute(this._aria_attr,String(d));this._handleOnChange(d,c)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||
!1)}})})},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/_base/event"],function(d,g,e){return d("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(c){this._set("readOnly",c);g.set(this.focusNode,"readOnly",c)},_setLabelAttr:void 0,_getSubmitValue:function(c){return!c&&0!==c?"on":c},_setValueAttr:function(c){c=this._getSubmitValue(c);this._set("value",c);g.set(this.focusNode,"value",
c)},reset:function(){this.inherited(arguments);this._set("value",this.params.value||"on");g.set(this.focusNode,"value",this.value)},_onClick:function(c){return this.readOnly?(e.stop(c),!1):this.inherited(arguments)}})})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),function(d,g,e,c,b,h,l,p,n){function a(a){return function(r,f,b){return 2==arguments.length?a["string"==typeof f?
"get":"set"](r,f):a.set(r,f,b)}}var m=function(a){return 1==a.length&&"string"==typeof a[0]},q=function(a){var r=a.parentNode;r&&r.removeChild(a)},t=g.NodeList,k=t._adaptWithCondition,f=t._adaptAsForEach,u=t._adaptAsMap;c.extend(t,{_normalize:function(a,r){var f=!0===a.parse;if("string"==typeof a.template){var b=a.templateFunc||d.string&&d.string.substitute;a=b?b(a.template,a):a}b=typeof a;"string"==b||"number"==b?(a=h.toDom(a,r&&r.ownerDocument),a=11==a.nodeType?c._toArray(a.childNodes):[a]):c.isArrayLike(a)?
c.isArray(a)||(a=c._toArray(a)):a=[a];f&&(a._runParse=!0);return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,r,f,b){if(!(1!=r.nodeType&&"only"==f))for(var k,u=a.length,c=u-1;0<=c;c--){var m=b?this._cloneNode(a[c]):a[c];if(a._runParse&&d.parser&&d.parser.parse){k||(k=r.ownerDocument.createElement("div"));k.appendChild(m);d.parser.parse(k);for(m=k.firstChild;k.firstChild;)k.removeChild(k.firstChild)}c==u-1?h.place(m,r,f):r.parentNode.insertBefore(m,r);r=m}},position:u(l.position),
attr:k(a(p),m),style:k(a(n),m),addClass:f(b.add),removeClass:f(b.remove),toggleClass:f(b.toggle),replaceClass:f(b.replace),empty:f(h.empty),removeAttr:f(p.remove),marginBox:u(l.getMarginBox),place:function(a,r){var f=g(a)[0];return this.forEach(function(a){h.place(a,f,r)})},orphan:function(a){return(a?g._filterResult(this,a):this).forEach(q)},adopt:function(a,f){return g(a).place(this[0],f)._stash(this)},query:function(a){if(!a)return this;var f=new t;this.map(function(b){g(a,b).forEach(function(a){void 0!==
a&&f.push(a)})});return f._stash(this)},filter:function(a){var f=arguments,b=this,k=0;if("string"==typeof a){b=g._filterResult(this,f[0]);if(1==f.length)return b._stash(this);k=1}return this._wrap(e.filter(b,f[k],f[k+1]),this)},addContent:function(a,f){a=this._normalize(a,this[0]);for(var b=0,k;k=this[b];b++)this._place(a,k,f,0<b);return this}});return t})},"dijit/form/Select":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/_base/event dojo/i18n dojo/_base/lang dojo/sniff ./_FormSelectWidget ../_HasDropDown ../Menu ../MenuItem ../MenuSeparator ../Tooltip dojo/text!./templates/Select.html dojo/i18n!./nls/validate".split(" "),
function(d,g,e,c,b,h,l,p,n,a,m,q,t,k,f,u){var x=g("dijit.form._SelectMenu",q,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);var a=this.menuTableNode=this.domNode,f=this.domNode=this.ownerDocument.createElement("div");f.style.cssText="overflow-x: hidden; overflow-y: scroll";a.parentNode&&a.parentNode.replaceChild(f,a);c.remove(a,"dijitMenuTable");f.className=a.className+" dijitSelectMenu";a.className="dijitReset dijitMenuTable";a.setAttribute("role","listbox");f.setAttribute("role",
"presentation");f.appendChild(a)},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onselectstart",h.stop)},focus:function(){var a=!1,f=this.parentWidget.value;p.isArray(f)&&(f=f[f.length-1]);f&&d.forEach(this.parentWidget._getChildren(),function(b){b.option&&f===b.option.value&&(a=!0,this.focusChild(b,!1))},this);a||this.inherited(arguments)},resize:function(a){a&&(b.setMarginBox(this.domNode,a),"w"in a&&(this.menuTableNode.style.width="100%"))}});g=g("dijit.form.Select",
[a,m],{baseClass:"dijitSelect dijitValidationTextBox",templateString:u,_buttonInputDisabled:n("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"\x26#160;",_isLoaded:!1,_childrenLoaded:!1,_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var a=this.srcNodeRef.selectedIndex||0;this.value=this.options[0<=a?a:0].value}this.dropDown=new x({id:this.id+"_menu",parentWidget:this});c.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,
"Menu "))},_getMenuItemForOption:function(a){if(!a.value&&!a.label)return new k({ownerDocument:this.ownerDocument});var f=p.hitch(this,"_setValueAttr",a);a=new t({option:a,label:a.label||this.emptyLabel,onClick:f,ownerDocument:this.ownerDocument,dir:this.dir,disabled:a.disabled||!1});a.focusNode.setAttribute("role","option");return a},_addOptionItem:function(a){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(a))},_getChildren:function(){return!this.dropDown?[]:this.dropDown.getChildren()},
_loadChildren:function(a){if(!0===a)if(this.dropDown&&delete this.dropDown.focusedChild,this.options.length)this.inherited(arguments);else{d.forEach(this._getChildren(),function(a){a.destroyRecursive()});var f=new t({ownerDocument:this.ownerDocument,label:this.emptyLabel});this.dropDown.addChild(f)}else this._updateSelection();this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);
this._refreshState()},_setValueAttr:function(a){this.inherited(arguments);e.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setOptionsAttr:function(a){this._isLoaded=!1;this._set("options",a)},_setDisplay:function(a){a=a||this.emptyLabel;this.containerNode.innerHTML='\x3cspan role\x3d"option" class\x3d"dijitReset dijitInline '+
this.baseClass.replace(/\s+|$/g,"Label ")+'"\x3e'+a+"\x3c/span\x3e"},validate:function(a){a=this.disabled||this.isValid(a);this._set("state",a?"":this._hasBeenBlurred?"Error":"Incomplete");this.focusNode.setAttribute("aria-invalid",a?"false":"true");var b=a?"":this._missingMsg;b&&this.focused&&this._hasBeenBlurred?f.show(b,this.domNode,this.tooltipPosition,!this.isLeftToRight()):f.hide(this.domNode);this._set("message",b);return a},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||
"")},reset:function(){this.inherited(arguments);f.hide(this.domNode);this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=l.getLocalization("dijit.form","validate",this.lang).missingMessage},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onselectstart",h.stop);this.domNode.setAttribute("aria-expanded","false");9>n("ie")&&this.defer(function(){try{var a=domStyle.getComputedStyle(this.domNode);if(a){var f=a.fontFamily;if(f){var b=
this.domNode.getElementsByTagName("INPUT");if(b)for(a=0;a<b.length;a++)b[a].style.fontFamily=f}}}catch(k){}})},_setStyleAttr:function(a){this.inherited(arguments);c.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(a){this._loadChildren(!0);this._isLoaded=!0;a()},closeDropDown:function(){this.inherited(arguments);this.dropDown&&this.dropDown.menuTableNode&&(this.dropDown.menuTableNode.style.width=
"")},destroy:function(a){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(a),delete this.dropDown);this.inherited(arguments)},_onFocus:function(){this.validate(!0);this.inherited(arguments)},_onBlur:function(){f.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});g._Menu=x;return g})},"dijit/form/_FormSelectWidget":function(){define("dojo/_base/array dojo/_base/Deferred dojo/aspect dojo/data/util/sorter dojo/_base/declare dojo/dom dojo/dom-class dojo/_base/kernel dojo/_base/lang dojo/query dojo/when dojo/store/util/QueryResults ./_FormValueWidget".split(" "),
function(d,g,e,c,b,h,l,p,n,a,m,q,t){return b("dijit.form._FormSelectWidget",t,{multiple:!1,options:null,store:null,query:null,queryOptions:null,labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,onLoadDeferred:null,getOptions:function(a){var f=a,b=this.options||[],c=b.length;if(void 0===f)return b;if(n.isArray(f))return d.map(f,"return this.getOptions(item);",this);n.isObject(a)&&(d.some(this.options,function(a,b){return a===f||a.value&&a.value===f.value?(f=b,!0):!1})||(f=-1));if("string"==
typeof f)for(a=0;a<c;a++)if(b[a].value===f){f=a;break}return"number"==typeof f&&0<=f&&f<c?this.options[f]:null},addOption:function(a){n.isArray(a)||(a=[a]);d.forEach(a,function(a){a&&n.isObject(a)&&this.options.push(a)},this);this._loadChildren()},removeOption:function(a){n.isArray(a)||(a=[a]);a=this.getOptions(a);d.forEach(a,function(a){a&&(this.options=d.filter(this.options,function(b){return b.value!==a.value||b.label!==a.label}),this._removeOptionItem(a))},this);this._loadChildren()},updateOption:function(a){n.isArray(a)||
(a=[a]);d.forEach(a,function(a){var b=this.getOptions(a),k;if(b)for(k in a)b[k]=a[k]},this);this._loadChildren()},setStore:function(a,f,b){var h=this.store;b=b||{};if(h!==a){for(var r;r=this._notifyConnections.pop();)r.remove();a.get||(n.mixin(a,{_oldAPI:!0,get:function(a){var b=new g;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,b){var f=new g(function(){k.abort&&k.abort()});f.total=new g;var k=this.fetch(n.mixin({query:a,
onBegin:function(a){f.total.resolve(a)},onComplete:function(a){f.resolve(a)},onError:function(a){f.reject(a)}},b));return new q(f)}}),a.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[e.after(a,"onNew",n.hitch(this,"_onNewItem"),!0),e.after(a,"onDelete",n.hitch(this,"_onDeleteItem"),!0),e.after(a,"onSet",n.hitch(this,"_onSetItem"),!0)]));this._set("store",a)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();
b.query&&(this._set("query",b.query),this._set("queryOptions",b.queryOptions));a&&(this._loadingStore=!0,this.onLoadDeferred=new g,this._queryRes=a.query(this.query,this.queryOptions),m(this._queryRes,n.hitch(this,function(r){if(this.sortByLabel&&!b.sort&&r.length)if(r[0].getValue)r.sort(c.createSortFunction([{attribute:a.getLabelAttributes(r[0])[0]}],a));else{var m=this.labelAttr;r.sort(function(a,b){return a[m]>b[m]?1:b[m]>a[m]?-1:0})}b.onFetch&&(r=b.onFetch.call(this,r,b));d.forEach(r,function(a){this._addOptionForItem(a)},
this);this._queryRes.observe&&this._queryRes.observe(n.hitch(this,function(a,b,f){b==f?this._onSetItem(a):(-1!=b&&this._onDeleteItem(a),-1!=f&&this._onNewItem(a))}),!0);this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:f);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(r):this._loadChildren();this.onLoadDeferred.resolve(!0);this.onSetStore()}),function(a){console.error("dijit.form.Select: "+a.toString());this.onLoadDeferred.reject(a)}));return h},
_setValueAttr:function(a,b){this._onChangeActive||(b=null);if(this._loadingStore)this._pendingValue=a;else{var c=this.getOptions()||[];n.isArray(a)||(a=[a]);d.forEach(a,function(b,f){n.isObject(b)||(b+="");"string"===typeof b&&(a[f]=d.filter(c,function(a){return a.value===b})[0]||{value:"",label:""})},this);a=d.filter(a,function(a){return a&&a.value});if(!this.multiple&&(!a[0]||!a[0].value)&&c.length)a[0]=c[0];d.forEach(c,function(b){b.selected=d.some(a,function(a){return a.value===b.value})});var m=
d.map(a,function(a){return a.value}),r=d.map(a,function(a){return a.label});"undefined"==typeof m||"undefined"==typeof m[0]||(this._setDisplay(this.multiple?r:r[0]),this.inherited(arguments,[this.multiple?m:m[0],b]),this._updateSelection())}},_getDisplayedValueAttr:function(){var a=this.get("value");n.isArray(a)||(a=[a]);a=d.map(this.getOptions(a),function(a){return a&&"label"in a?a.label:a?a.value:null},this);return this.multiple?a:a[0]},_loadChildren:function(){this._loadingStore||(d.forEach(this._getChildren(),
function(a){a.destroyRecursive()}),d.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this._set("value",this._getValueFromOpts());var a=this.value;n.isArray(a)||(a=[a]);a&&a[0]&&d.forEach(this._getChildren(),function(b){var c=d.some(a,function(a){return b.option&&a===b.option.value});l.toggle(b.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),c);b.domNode.setAttribute("aria-selected",c?"true":"false")},this)},_getValueFromOpts:function(){var a=
this.getOptions()||[];if(!this.multiple&&a.length){var b=d.filter(a,function(a){return a.selected})[0];if(b&&b.value)return b.value;a[0].selected=!0;return a[0].value}return this.multiple?d.map(d.filter(a,function(a){return a.selected}),function(a){return a.value})||[]:""},_onNewItem:function(a,b){(!b||!b.parent)&&this._addOptionForItem(a)},_onDeleteItem:function(a){this.removeOption(this.store.getIdentity(a))},_onSetItem:function(a){this.updateOption(this._getOptionObjForItem(a))},_getOptionObjForItem:function(a){var b=
this.store,c=this.labelAttr&&this.labelAttr in a?a[this.labelAttr]:b.getLabel(a);return{value:c?b.getIdentity(a):null,label:c,item:a}},_addOptionForItem:function(a){var b=this.store;b.isItemLoaded&&!b.isItemLoaded(a)?b.loadItem({item:a,onItem:function(a){this._addOptionForItem(a)},scope:this}):(a=this._getOptionObjForItem(a),this.addOption(a))},constructor:function(a){this._oValue=(a||{}).value||null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);h.setSelectable(this.focusNode,
!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?a("\x3e *",this.srcNodeRef).map(function(a){return"separator"===a.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:a.getAttribute("data-"+p._scopeName+"-value")||a.getAttribute("value"),label:String(a.innerHTML),selected:a.getAttribute("selected")||!1,disabled:a.getAttribute("disabled")||!1}},this):[]);this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",
this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);this.connect(this,"onChange","_updateSelection");var a=this.store;if(a&&(a.getIdentity||a.getFeatures()["dojo.data.api.Identity"]))this.store=null,this.setStore(a,this._oValue)},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var a;a=this._notifyConnections.pop();)a.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close();this.inherited(arguments)},_addOptionItem:function(){},
_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},_getSelectedOptionsAttr:function(){return this.getOptions(this.get("value"))},_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(d){var g={};d.setObject("dojo.data.util.sorter",g);g.basicComparator=function(d,c){var b=-1;null===d&&(d=void 0);null===c&&(c=void 0);if(d==c)b=0;else if(d>c||null==d)b=1;return b};g.createSortFunction=
function(d,c){function b(a,b,f,c){return function(d,r){var m=c.getValue(d,a),h=c.getValue(r,a);return b*f(m,h)}}for(var h=[],l,p=c.comparatorMap,n=g.basicComparator,a=0;a<d.length;a++){l=d[a];var m=l.attribute;if(m){l=l.descending?-1:1;var q=n;p&&("string"!==typeof m&&"toString"in m&&(m=m.toString()),q=p[m]||n);h.push(b(m,l,q,c))}}return function(a,b){for(var f=0;f<h.length;){var c=h[f++](a,b);if(0!==c)return c}return 0}};return g})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare",
"dojo/sniff","./_FormWidget","./_FormValueMixin"],function(d,g,e,c){return d("dijit.form._FormValueWidget",[e,c],{_layoutHackIE7:function(){if(7==g("ie"))for(var b=this.domNode,c=b.parentNode,d=b.firstChild||b,e=d.style.filter,n=this;c&&0==c.clientHeight;)(function(){var a=n.connect(c,"onscroll",function(){n.disconnect(a);d.style.filter=(new Date).getMilliseconds();n.defer(function(){d.style.filter=e})})})(),c=c.parentNode}})})},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare",
"dojo/dom-attr","dojo/keys","dojo/sniff","./_FormWidgetMixin"],function(d,g,e,c,b){return d("dijit.form._FormValueMixin",b,{readOnly:!1,_setReadOnlyAttr:function(b){g.set(this.focusNode,"readOnly",b);this._set("readOnly",b)},postCreate:function(){this.inherited(arguments);c("ie")&&this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(b,c){this._handleOnChange(b,c)},_handleOnChange:function(b,
c){this._set("value",b);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)},_onKeyDown:function(b){if(b.keyCode==e.ESCAPE&&(!b.ctrlKey&&!b.altKey&&!b.metaKey)&&(9>c("ie")||c("ie")&&0)){b.preventDefault();var d=b.srcElement,g=d.ownerDocument.createEventObject();g.keyCode=e.ESCAPE;g.shiftKey=b.shiftKey;d.fireEvent("onkeypress",g)}}})})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/_base/event dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/window ./registry ./focus ./popup ./_FocusMixin".split(" "),
function(d,g,e,c,b,h,l,p,n,a,m,q,t,k,f,u,x){return d("dijit._HasDropDown",x,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){!this.disabled&&!this.readOnly&&(a.preventDefault(),this._docHandler=this.connect(this.ownerDocument,"mouseup","_onDropDownMouseUp"),this.toggleDropDown())},_onDropDownMouseUp:function(a){a&&this._docHandler&&
this.disconnect(this._docHandler);var b=this.dropDown,f=!1;if(a&&this._opened){var c=l.position(this._buttonNode,!0);if(!(a.pageX>=c.x&&a.pageX<=c.x+c.w)||!(a.pageY>=c.y&&a.pageY<=c.y+c.h)){for(c=a.target;c&&!f;)h.contains(c,"dijitPopup")?f=!0:c=c.parentNode;if(f){c=a.target;if(b.onItemClick){for(var d;c&&!(d=k.byNode(c));)c=c.parentNode;if(d&&d.onClick&&d.getParent)d.getParent().onItemClick(d,a)}return}}}this._opened?b.focus&&!1!==b.autoFocus&&(this._focusDropDownTimer=this.defer(function(){b.focus();
delete this._focusDropDownTimer})):this.defer("focus");n("touch")&&(this._justGotMouseUp=!0,this.defer(function(){this._justGotMouseUp=!1}))},_onDropDownClick:function(a){n("touch")&&!this._justGotMouseUp&&(this._onDropDownMouseDown(a),this._onDropDownMouseUp(a));this._stopClickEvents&&e.stop(a)},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?
"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";h.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var a=this.focusNode||this.domNode;this.own(q(this._buttonNode,"mousedown",m.hitch(this,"_onDropDownMouseDown")),q(this._buttonNode,"click",m.hitch(this,"_onDropDownClick")),q(a,"keydown",m.hitch(this,"_onKey")),
q(a,"keyup",m.hitch(this,"_onKeyUp")))},destroy:function(){this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(b){if(!this.disabled&&!this.readOnly){var f=this.dropDown,c=b.target;if(f&&(this._opened&&f.handleKey)&&!1===f.handleKey(b))e.stop(b);else if(f&&this._opened&&b.keyCode==a.ESCAPE)this.closeDropDown(),e.stop(b);else if(!this._opened&&(b.keyCode==a.DOWN_ARROW||(b.keyCode==a.ENTER||b.keyCode==a.SPACE)&&("input"!==
(c.tagName||"").toLowerCase()||c.type&&"text"!==c.type.toLowerCase())))this._toggleOnKeyUp=!0,e.stop(b)}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(m.hitch(a,"focus"),1)}},_onBlur:function(){var a=f.curNode&&this.dropDown&&c.isDescendant(f.curNode,this.dropDown.domNode);this.closeDropDown(a);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=
new g,b=m.hitch(this,function(){this.openDropDown();a.resolve(this.dropDown)});this.isLoaded()?b():this.loadDropDown(b);return a},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown():this.loadAndOpenDropDown())},openDropDown:function(){var a=this.dropDown,f=a.domNode,c=this._aroundNode||this.domNode,d=this;this._preparedNode||(this._preparedNode=!0,f.style.width&&(this._explicitDDWidth=!0),f.style.height&&(this._explicitDDHeight=!0));if(this.maxHeight||this.forceWidth||
this.autoWidth){var k={display:"",visibility:"hidden"};this._explicitDDWidth||(k.width="");this._explicitDDHeight||(k.height="");p.set(f,k);k=this.maxHeight;if(-1==k)var k=t.getBox(this.ownerDocument),q=l.position(c,!1),k=Math.floor(Math.max(q.y,k.h-(q.y+q.h)));u.moveOffScreen(a);a.startup&&!a._started&&a.startup();var q=l.getMarginSize(f),e=k&&q.h>k;p.set(f,{overflowX:"visible",overflowY:e?"auto":"visible"});e?(q.h=k,"w"in q&&(q.w+=16)):delete q.h;this.forceWidth?q.w=c.offsetWidth:this.autoWidth?
q.w=Math.max(q.w,c.offsetWidth):delete q.w;m.isFunction(a.resize)?a.resize(q):l.setMarginBox(f,q)}a=u.open({parent:this,popup:a,around:c,orient:this.dropDownPosition,onExecute:function(){d.closeDropDown(!0)},onCancel:function(){d.closeDropDown(!0)},onClose:function(){b.set(d._popupStateNode,"popupActive",!1);h.remove(d._popupStateNode,"dijitHasDropDownOpen");d._set("_opened",!1)}});b.set(this._popupStateNode,"popupActive","true");h.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",
!0);this.domNode.setAttribute("aria-expanded","true");return a},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this.domNode.setAttribute("aria-expanded","false"),a&&this.focus(),u.close(this.dropDown),this._opened=!1)}})})},"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/_base/event dojo/keys dojo/_base/lang dojo/on dojo/sniff ./place ./BackgroundIframe ./main".split(" "),
function(d,g,e,c,b,h,l,p,n,a,m,q,t,k,f,u,x){function r(){this._popupWrapper&&(l.destroy(this._popupWrapper),delete this._popupWrapper)}c=c(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_createWrapper:function(a){var b=a._popupWrapper,f=a.domNode;b||(b=l.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},a.ownerDocumentBody),b.appendChild(f),f=f.style,f.display="",f.visibility="",f.position="",f.top="0px",a._popupWrapper=b,g.after(a,"destroy",r,!0));return b},moveOffScreen:function(a){a=
this._createWrapper(a);n.set(a,{visibility:"hidden",top:"-9999px",display:""})},hide:function(a){a=this._createWrapper(a);n.set(a,"display","none")},getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(c){for(var d=this._stack,r=c.popup,s=c.orient||["below","below-alt","above","above-alt"],g=c.parent?c.parent.isLeftToRight():p.isBodyLtr(r.ownerDocument),n=c.around,x=c.around&&c.around.id?c.around.id+"_dropdown":"popup_"+this._idGen++;d.length&&
(!c.parent||!b.isDescendant(c.parent.domNode,d[d.length-1].widget.domNode));)this.close(d[d.length-1].widget);var l=this._createWrapper(r);h.set(l,{id:x,style:{zIndex:this._beginZIndex+d.length},"class":"dijitPopup "+(r.baseClass||r["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:c.parent?c.parent.id:""});if((k("ie")||k("mozilla"))&&!r.bgIframe)r.bgIframe=new u(l);s=n?f.around(l,n,s,g,r.orient?q.hitch(r,"orient"):null):f.at(l,c,"R"==s?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],c.padding);l.style.display=
"";l.style.visibility="visible";r.domNode.style.visibility="visible";g=[];g.push(t(l,e._keypress,q.hitch(this,function(b){if(b.charOrCode==m.ESCAPE&&c.onCancel)a.stop(b),c.onCancel();else if(b.charOrCode===m.TAB&&(a.stop(b),(b=this.getTopPopup())&&b.onCancel))b.onCancel()})));r.onCancel&&c.onCancel&&g.push(r.on("cancel",c.onCancel));g.push(r.on(r.onExecute?"execute":"change",q.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));d.push({widget:r,parent:c.parent,onExecute:c.onExecute,
onCancel:c.onCancel,onClose:c.onClose,handlers:g});if(r.onOpen)r.onOpen(s);return s},close:function(a){for(var b=this._stack;a&&d.some(b,function(b){return b.widget==a})||!a&&b.length;){var f=b.pop(),c=f.widget,m=f.onClose;if(c.onClose)c.onClose();for(var r;r=f.handlers.pop();)r.remove();c&&c.domNode&&this.hide(c);m&&m()}}});return x.popup=new c})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window dojo/window ./main".split(" "),
function(d,g,e,c,b,h,l){function p(c,a,m,q){var e=h.getBox(c.ownerDocument);(!c.parentNode||"body"!=String(c.parentNode.tagName).toLowerCase())&&b.body(c.ownerDocument).appendChild(c);var k=null;d.some(a,function(a){var b=a.corner,f=a.pos,d=0,h={w:{L:e.l+e.w-f.x,R:f.x-e.l,M:e.w}[b.charAt(1)],h:{T:e.t+e.h-f.y,B:f.y-e.t,M:e.h}[b.charAt(0)]},v=c.style;v.left=v.right="auto";m&&(d=m(c,a.aroundCorner,b,h,q),d="undefined"==typeof d?0:d);var s=c.style,w=s.display,l=s.visibility;"none"==s.display&&(s.visibility=
"hidden",s.display="");v=g.position(c);s.display=w;s.visibility=l;w={L:f.x,R:f.x-v.w,M:Math.max(e.l,Math.min(e.l+e.w,f.x+(v.w>>1))-v.w)}[b.charAt(1)];l={T:f.y,B:f.y-v.h,M:Math.max(e.t,Math.min(e.t+e.h,f.y+(v.h>>1))-v.h)}[b.charAt(0)];f=Math.max(e.l,w);s=Math.max(e.t,l);w=Math.min(e.l+e.w,w+v.w);l=Math.min(e.t+e.h,l+v.h);w-=f;l-=s;d+=v.w-w+(v.h-l);if(null==k||d<k.overflow)k={corner:b,aroundCorner:a.aroundCorner,x:f,y:s,w:w,h:l,overflow:d,spaceAvailable:h};return!d});k.overflow&&m&&m(c,k.aroundCorner,
k.corner,k.spaceAvailable,q);a=g.isBodyLtr(c.ownerDocument);var f=c.style;f.top=k.y+"px";f[a?"left":"right"]=(a?k.x:e.w-k.x-k.w)+"px";f[a?"right":"left"]="auto";return k}return l.place={at:function(b,a,c,e){c=d.map(c,function(b){var c={corner:b,pos:{x:a.x,y:a.y}};e&&(c.pos.x+="L"==b.charAt(1)?e.x:-e.x,c.pos.y+="T"==b.charAt(0)?e.y:-e.y);return c});return p(b,c)},around:function(b,a,m,q,h){function k(a,b){B.push({aroundCorner:a,corner:b,pos:{x:{L:v,R:v+w,M:v+(w>>1)}[a.charAt(1)],y:{T:s,B:s+z,M:s+(z>>
1)}[a.charAt(0)]}})}var f="string"==typeof a||"offsetWidth"in a?g.position(a,!0):a;if(a.parentNode){var u="absolute"==e.getComputedStyle(a).position;for(a=a.parentNode;a&&1==a.nodeType&&"BODY"!=a.nodeName;){var l=g.position(a,!0),r=e.getComputedStyle(a);/relative|absolute/.test(r.position)&&(u=!1);if(!u&&/hidden|auto|scroll/.test(r.overflow)){var A=Math.min(f.y+f.h,l.y+l.h),y=Math.min(f.x+f.w,l.x+l.w);f.x=Math.max(f.x,l.x);f.y=Math.max(f.y,l.y);f.h=A-f.y;f.w=y-f.x}"absolute"==r.position&&(u=!0);a=
a.parentNode}}var v=f.x,s=f.y,w="w"in f?f.w:f.w=f.width,z="h"in f?f.h:(c.deprecated("place.around: dijit/place.__Rectangle: { x:"+v+", y:"+s+", height:"+f.height+", width:"+w+" } has been deprecated.  Please use { x:"+v+", y:"+s+", h:"+f.height+", w:"+w+" }","","2.0"),f.h=f.height),B=[];d.forEach(m,function(a){var b=q;switch(a){case "above-centered":k("TM","BM");break;case "below-centered":k("BM","TM");break;case "after-centered":b=!b;case "before-centered":k(b?"ML":"MR",b?"MR":"ML");break;case "after":b=
!b;case "before":k(b?"TL":"TR",b?"TR":"TL");k(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":k(b?"BL":"BR",b?"TL":"TR");k(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":k(b?"TL":"TR",b?"BL":"BR");k(b?"TR":"TL",b?"BR":"BL");break;default:k(a.aroundCorner,a.corner)}});b=p(b,B,h,{w:w,h:z});b.aroundNodePos=f;return b}}})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/_base/event dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),
function(d,g,e,c,b,h,l,p,n,a,m,q,t,k,f,u,x){return e("dijit.Menu",u,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):g.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return k.get(this._iframeContentDocument(a))||this._iframeContentDocument(a).__parent__||a.name&&t.doc.frames[a.name]||
null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&t.doc.frames[a.name]&&t.doc.frames[a.name].document||null},bindDomNode:function(f){f=b.byId(f,this.ownerDocument);var d;if("iframe"==f.tagName.toLowerCase()){var e=f,u=this._iframeContentWindow(e);d=t.body(u.document)}else d=f==t.body(this.ownerDocument)?this.ownerDocument.documentElement:f;var k={node:f,iframe:e};h.set(f,"_dijitMenu"+this.id,this._bindings.push(k));var q=a.hitch(this,
function(a){var b=this.selector,f=b?function(a){return m.selector(b,a)}:function(a){return a},d=this;return[m(a,f(this.leftClickToOpen?"click":"contextmenu"),function(a){c.stop(a);d._scheduleOpen(this,e,{x:a.pageX,y:a.pageY})}),m(a,f("keydown"),function(a){a.shiftKey&&a.keyCode==n.F10&&(c.stop(a),d._scheduleOpen(this,e))})]});k.connects=d?q(d):[];e&&(k.onloadHandler=a.hitch(this,function(){var a=this._iframeContentWindow(e);d=t.body(a.document);k.connects=q(d)}),e.addEventListener?e.addEventListener("load",
k.onloadHandler,!1):e.attachEvent("onload",k.onloadHandler))},unBindDomNode:function(a){var f;try{f=b.byId(a,this.ownerDocument)}catch(c){return}a="_dijitMenu"+this.id;if(f&&h.has(f,a)){for(var d=h.get(f,a)-1,e=this._bindings[d],m;m=e.connects.pop();)m.remove();(m=e.iframe)&&(m.removeEventListener?m.removeEventListener("load",e.onloadHandler,!1):m.detachEvent("onload",e.onloadHandler));h.remove(f,a);delete this._bindings[d]}},_scheduleOpen:function(a,b,f){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;
this._openMyself({target:a,iframe:b,coords:f})},1))},_openMyself:function(a){function c(){g.refocus&&n&&n.focus();f.close(g)}var d=a.target,e=a.iframe;a=a.coords;this.currentTarget=d;if(a){if(e){var d=l.position(e,!0),m=this._iframeContentWindow(e),m=l.docScroll(m.document),k=p.getComputedStyle(e),u=p.toPixelValue,h=(q("ie"),u(e,k.paddingLeft))+(q("ie"),0),e=(q("ie"),u(e,k.paddingTop))+(q("ie"),0);a.x+=d.x+h-m.x;a.y+=d.y+e-m.y}}else a=l.position(d,!0),a.x+=10,a.y+=10;var g=this,e=this._focusManager.get("prevNode"),
d=this._focusManager.get("curNode"),n=!d||b.isDescendant(d,this.domNode)?e:d;f.open({popup:this,x:a.x,y:a.y,onExecute:c,onCancel:c,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);f.close(this)}},destroy:function(){g.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"dijit/DropDownMenu":function(){define("dojo/_base/declare dojo/_base/event dojo/keys dojo/text!./templates/Menu.html ./_OnDijitClickMixin ./_MenuBase".split(" "),
function(d,g,e,c,b,h){return d("dijit.DropDownMenu",[h,b],{templateString:c,baseClass:"dijitMenu",postCreate:function(){this.inherited(arguments);var b=this.isLeftToRight();this._openSubMenuKey=b?e.RIGHT_ARROW:e.LEFT_ARROW;this._closeSubMenuKey=b?e.LEFT_ARROW:e.RIGHT_ARROW;this.connectKeyNavHandlers([e.UP_ARROW],[e.DOWN_ARROW])},_onKeyPress:function(b){if(!b.ctrlKey&&!b.altKey)switch(b.charOrCode){case this._openSubMenuKey:this._moveToPopup(b);g.stop(b);break;case this._closeSubMenuKey:if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();
else this.onCancel(!1);else g.stop(b)}}})})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./popup ./registry ./_Widget ./_KeyNavContainer ./_TemplatedMixin".split(" "),function(d,g,e,c,b,h,l,p,n,a,m,q,t,k,f){return g("dijit._MenuBase",[t,f,k],{parentMenu:null,popupDelay:500,autoFocus:!1,childSelector:function(a){var b=q.byNode(a);return a.parentNode==this.containerNode&&b&&
b.focus},postCreate:function(){var b=this,f="string"==typeof this.childSelector?this.childSelector:h.hitch(this,"childSelector");this.own(p(this.containerNode,p.selector(f,l.enter),function(){b.onItemHover(q.byNode(this))}),p(this.containerNode,p.selector(f,l.leave),function(){b.onItemUnhover(q.byNode(this))}),p(this.containerNode,p.selector(f,a),function(a){b.onItemClick(q.byNode(this),a);a.stopPropagation();a.preventDefault()}));this.inherited(arguments)},onExecute:function(){},onCancel:function(){},
_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,a);else(a=this._getTopMenu())&&a._isMenuBar&&a.focusNext()},_onPopupHover:function(){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var a=this.currentPopup.parentMenu;a.focusedChild&&a.focusedChild._setSelected(!1);a.focusedChild=this.currentPopup.from_item;a.focusedChild._setSelected(!0);this._stopPendingCloseTimer(this.currentPopup)}},onItemHover:function(a){this.isActive&&
(this.focusChild(a),this.focusedChild.popup&&(!this.focusedChild.disabled&&!this.hover_timer)&&(this.hover_timer=this.defer("_openPopup",this.popupDelay)));this.focusedChild&&this.focusChild(a);this._hoveredChild=a;a._set("hovering",!0)},_onChildBlur:function(a){this._stopPopupTimer();a._setSelected(!1);var b=a.popup;b&&(this._stopPendingCloseTimer(b),b._pendingClose_timer=this.defer(function(){b._pendingClose_timer=null;b.parentMenu&&(b.parentMenu.currentPopup=null);m.close(b)},this.popupDelay))},
onItemUnhover:function(a){this.isActive&&this._stopPopupTimer();this._hoveredChild==a&&(this._hoveredChild=null);a._set("hovering",!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(a){a._pendingClose_timer&&(a._pendingClose_timer=a._pendingClose_timer.remove())},_stopFocusTimer:function(){this._focus_timer&&(this._focus_timer=this._focus_timer.remove())},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);
return a},onItemClick:function(a,b){"undefined"==typeof this.isShowingNow&&this._markActive();this.focusChild(a);if(a.disabled)return!1;a.popup?this._openPopup("keypress"==b.type):(this.onExecute(),a._onClick?a._onClick(b):a.onClick(b))},_openPopup:function(a){this._stopPopupTimer();var b=this.focusedChild;if(b){var f=b.popup;if(!f.isShowingNow){this.currentPopup&&(this._stopPendingCloseTimer(this.currentPopup),m.close(this.currentPopup));f.parentMenu=this;f.from_item=b;var c=this;m.open({parent:this,
popup:f,around:b.domNode,orient:this._orient||["after","before"],onCancel:function(){c.focusChild(b);c._cleanUp();b._setSelected(!0);c.focusedChild=b},onExecute:h.hitch(this,"_cleanUp")});this.currentPopup=f;f.connect(f.domNode,"onmouseenter",h.hitch(c,"_onPopupHover"))}a&&f.focus&&(f._focus_timer=this.defer(h.hitch(f,function(){this._focus_timer=null;this.focus()})))}},_markActive:function(){this.isActive=!0;b.replace(this.domNode,"dijitMenuActive","dijitMenuPassive")},onOpen:function(){this.isShowingNow=
!0;this._markActive()},_markInactive:function(){this.isActive=!1;b.replace(this.domNode,"dijitMenuPassive","dijitMenuActive")},onClose:function(){this._stopFocusTimer();this._markInactive();this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopup&&(0<=d.indexOf(this._focusManager.activeStack,this.id)&&(c.set(this.focusedChild.focusNode,"tabIndex",this.tabIndex),this.focusedChild.focusNode.focus()),m.close(this.currentPopup),this.currentPopup=null);
this.focusedChild&&(this.focusedChild._setSelected(!1),this.onItemUnhover(this.focusedChild),this.focusedChild=null)},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild)},_onBlur:function(){this._cleanUp();this.inherited(arguments)},_cleanUp:function(){this._closeChild();"undefined"==typeof this.isShowingNow&&this._markInactive()}})})},"dijit/_KeyNavContainer":function(){define("dojo/_base/kernel ./_Container ./_FocusMixin dojo/_base/array dojo/keys dojo/_base/declare dojo/_base/event dojo/dom-attr dojo/_base/lang".split(" "),
function(d,g,e,c,b,h,l,p,n){return h("dijit._KeyNavContainer",[e,g],{tabIndex:"0",connectKeyNavHandlers:function(a,d){var e=this._keyNavCodes={},h=n.hitch(this,"focusPrev"),k=n.hitch(this,"focusNext");c.forEach(a,function(a){e[a]=h});c.forEach(d,function(a){e[a]=k});e[b.HOME]=n.hitch(this,"focusFirstChild");e[b.END]=n.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus")},startupKeyNavChildren:function(){d.deprecated("startupKeyNavChildren() call no longer needed",
"","2.0")},startup:function(){this.inherited(arguments);c.forEach(this.getChildren(),n.hitch(this,"_startupChild"))},addChild:function(a,b){this.inherited(arguments);this._startupChild(a)},focus:function(){this.focusFirstChild()},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,
-1),!0)},focusChild:function(a,b){a&&(this.focusedChild&&a!==this.focusedChild&&this._onChildBlur(this.focusedChild),a.set("tabIndex",this.tabIndex),a.focus(b?"end":"start"),this._set("focusedChild",a))},_startupChild:function(a){a.set("tabIndex","-1");this.connect(a,"_onFocus",function(){a.set("tabIndex",this.tabIndex)});this.connect(a,"_onBlur",function(){a.set("tabIndex","-1")})},_onContainerFocus:function(a){a.target!==this.domNode||this.focusedChild||(this.focusFirstChild(),p.set(this.domNode,
"tabIndex","-1"))},_onBlur:function(a){this.tabIndex&&p.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild=null;this.inherited(arguments)},_onContainerKeypress:function(a){if(!a.ctrlKey&&!a.altKey){var b=this._keyNavCodes[a.charOrCode];b&&(b(),l.stop(a))}},_onChildBlur:function(){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},_getNextFocusableChild:function(a,b){a&&(a=this._getSiblingOfChild(a,
b));for(var c=this.getChildren(),d=0;d<c.length;d++){a||(a=c[0<b?0:c.length-1]);if(a.isFocusable())return a;a=this._getSiblingOfChild(a,b)}return null}})})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),function(d,g,e,c,b,h,l,p,n,a,m){return d("dijit.MenuItem",[l,p,n,a],{templateString:m,baseClass:"dijitMenuItem",label:"",
_setLabelAttr:function(a){this.containerNode.innerHTML=a;this._set("label",a);"auto"===this.textDir&&this.applyTextDir(this.focusNode,this.label)},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){a&&!("label"in this.params)&&this.set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);var a=this.id+"_text";e.set(this.containerNode,"id",a);this.accelKeyNode&&(e.set(this.accelKeyNode,"id",this.id+"_accel"),
a+=" "+this.id+"_accel");this.domNode.setAttribute("aria-labelledby",a);g.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==h("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_onFocus:function(){this._setSelected(!0);this.getParent()._onItemFocus(this);this.inherited(arguments)},_setSelected:function(a){c.toggle(this.domNode,"dijitMenuItemSelected",a)},setLabel:function(a){b.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.",
"","2.0");this.set("label",a)},setDisabled:function(a){b.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode.style.display=a?"":"none";this.accelKeyNode.innerHTML=a;e.set(this.containerNode,"colSpan",a?"1":"2");this._set("accelKey",a)},_setTextDirAttr:function(a){if(!this._created||
this.textDir!=a)this._set("textDir",a),this.applyTextDir(this.focusNode,this.label)}})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(d,g){return d("dijit._Contained",null,{_getSibling:function(d){var c=this.domNode;do c=c[d+"Sibling"];while(c&&1!=c.nodeType);return c&&g.byNode(c)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var d=this.getParent();return!d||
!d.getIndexOfChild?-1:d.getIndexOfChild(this)}})})},"dijit/MenuSeparator":function(){define("dojo/_base/declare dojo/dom ./_WidgetBase ./_TemplatedMixin ./_Contained dojo/text!./templates/MenuSeparator.html".split(" "),function(d,g,e,c,b,h){return d("dijit.MenuSeparator",[e,c,b],{templateString:h,buildRendering:function(){this.inherited(arguments);g.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),
function(d,g,e,c,b,h,l,p,n,a,m,q,t,k,f,u,x,r){var A=g("dijit._MasterTooltip",[k,f],{duration:q.defaultDuration,templateString:x,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new u(this.domNode);this.fadeIn=e.fadeIn({node:this.domNode,duration:this.duration,onEnd:p.hitch(this,"_onShow")});this.fadeOut=e.fadeOut({node:this.domNode,duration:this.duration,onEnd:p.hitch(this,"_onHide")})},show:function(a,b,f,c,d){if(!this.aroundNode||!(this.aroundNode===b&&this.containerNode.innerHTML==
a))if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=a;d&&this.set("textDir",d);this.containerNode.align=c?"right":"left";var e=t.around(this.domNode,b,f&&f.length?f:y.defaultPosition,!c,p.hitch(this,"orient")),m=e.aroundNodePos;"M"==e.corner.charAt(0)&&"M"==e.aroundCorner.charAt(0)?(this.connectorNode.style.top=m.y+(m.h-this.connectorNode.offsetHeight>>1)-e.y+"px",this.connectorNode.style.left=""):"M"==e.corner.charAt(1)&&"M"==e.aroundCorner.charAt(1)?this.connectorNode.style.left=
m.x+(m.w-this.connectorNode.offsetWidth>>1)-e.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");l.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=b}},orient:function(a,b,f,c,d){this.connectorNode.style.top="";var e=c.h;c=c.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft",
"BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+f];this.domNode.style.width="auto";var k=h.position(this.domNode);9==m("ie")&&(k.w+=2);var g=Math.min(Math.max(c,1),k.w);h.setMarginBox(this.domNode,{w:g});"B"==f.charAt(0)&&"B"==b.charAt(0)?(a=h.position(a),b=this.connectorNode.offsetHeight,a.h>e?(this.connectorNode.style.top=e-(d.h+b>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=
Math.min(Math.max(d.h/2-b/2,0),a.h-b)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,k.w-c)},_onShow:function(){m("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play())},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,
this._onDeck),this._onDeck=null)},_setAutoTextDir:function(a){this.applyTextDir(a,m("ie")?a.outerText:a.textContent);d.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",a);"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});r.showTooltip=function(a,b,f,c,e){f&&(f=d.map(f,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));y._masterTT||(r._masterTT=y._masterTT=new A);return y._masterTT.show(a,
b,f,c,e)};r.hideTooltip=function(a){return y._masterTT&&y._masterTT.hide(a)};var y=g("dijit.Tooltip",k,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(b){d.forEach(this._connections||[],function(a){d.forEach(a,function(a){a.remove()})},this);this._connectIds=d.filter(p.isArrayLike(b)?b:b?[b]:[],function(a){return c.byId(a,this.ownerDocument)},this);this._connections=d.map(this._connectIds,function(b){b=c.byId(b,this.ownerDocument);var f=this.selector,d=f?function(b){return a.selector(f,
b)}:function(a){return a},e=this;return[a(b,d(n.enter),function(){e._onHover(this)}),a(b,d("focusin"),function(){e._onHover(this)}),a(b,d(n.leave),p.hitch(e,"_onUnHover")),a(b,d("focusout"),p.hitch(e,"_onUnHover"))]},this);this._set("connectId",b)},addTarget:function(a){a=a.id||a;-1==d.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=d.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},
buildRendering:function(){this.inherited(arguments);b.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;d.forEach(p.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},_onHover:function(a){this._showTimer||(this._showTimer=this.defer(function(){this.open(a)},this.showDelay))},_onUnHover:function(){this._showTimer&&(this._showTimer.remove(),delete this._showTimer);this.close()},open:function(a){this._showTimer&&
(this._showTimer.remove(),delete this._showTimer);var b=this.getContent(a);b&&(y.show(b,a,this.position,!this.isLeftToRight(),this.textDir),this._connectNode=a,this.onShow(a,this.position))},close:function(){this._connectNode&&(y.hide(this._connectNode),delete this._connectNode,this.onHide());this._showTimer&&(this._showTimer.remove(),delete this._showTimer)},onShow:function(){},onHide:function(){},destroy:function(){this.close();d.forEach(this._connections||[],function(a){d.forEach(a,function(a){a.remove()})},
this);this.inherited(arguments)}});y._MasterTooltip=A;y.show=r.showTooltip;y.hide=r.hideTooltip;y.defaultPosition=["after-centered","before-centered"];return y})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main".split(" "),function(d,g,e,c,b,h,l,p,n,a){d=d("dijit.form.TextBox",[l,p],{templateString:n,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',
_buttonInputDisabled:h("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==a||"file"==a)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>h("ie")&&this.defer(function(){try{var a=e.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;
if(b){var c=this.domNode.getElementsByTagName("INPUT");if(c)for(a=0;a<c.length;a++)c[a].style.fontFamily=b}}}catch(d){}})},_onInput:function(a){this.inherited(arguments);this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),!1)})},_setPlaceHolderAttr:function(a){this._set("placeHolder",a);this._phspan||(this._attachPoints.push("_phspan"),this._phspan=g.create("span",{onmousedown:function(a){a.preventDefault()},className:"dijitPlaceHolder dijitInputField"},this.textbox,
"after"));this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(a));this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&(this._phspan.style.display=this.placeHolder&&!this.focused&&!this.textbox.value?"":"none")},_setValueAttr:function(a,b,c){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){c.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},
setDisplayedValue:function(a){c.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",a)},_onBlur:function(a){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),h("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.inherited(arguments),this._updatePlaceHolder())}});h("ie")&&(d.prototype._isTextSelected=
function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},a._setSelectionRange=p._setSelectionRange=function(a,b,c){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveStart("character",-99999),a.moveStart("character",b),a.moveEnd("character",c-b),a.select())});return d})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/_base/event dojo/keys dojo/_base/lang dojo/on ../main".split(" "),
function(d,g,e,c,b,h,l,p){var n=g("dijit.form._TextBoxMixin",null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,b,c){var d;void 0!==a&&(d=this.filter(a),"string"!=typeof c&&(c=null!==d&&("number"!=typeof d||!isNaN(d))?this.filter(this.format(d,this.constraints)):""));if(null!=c&&("number"!=typeof c||!isNaN(c))&&this.textbox.value!=c)this.textbox.value=
c,this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,c);this.inherited(arguments,[d,b])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=String(a));this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,a)},
format:function(a){return null==a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(a){"auto"==this.textDir&&this.applyTextDir(this.focusNode,this.focusNode.value);this._processInput(a)},_processInput:function(a){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(l(this.textbox,
"keydown, keypress, paste, cut, input, compositionend",h.hitch(this,function(a){var c;if("keydown"==a.type){c=a.keyCode;switch(c){case b.SHIFT:case b.ALT:case b.CTRL:case b.META:case b.CAPS_LOCK:case b.NUM_LOCK:case b.SCROLL_LOCK:return}if(!a.ctrlKey&&!a.metaKey&&!a.altKey){switch(c){case b.NUMPAD_0:case b.NUMPAD_1:case b.NUMPAD_2:case b.NUMPAD_3:case b.NUMPAD_4:case b.NUMPAD_5:case b.NUMPAD_6:case b.NUMPAD_7:case b.NUMPAD_8:case b.NUMPAD_9:case b.NUMPAD_MULTIPLY:case b.NUMPAD_PLUS:case b.NUMPAD_ENTER:case b.NUMPAD_MINUS:case b.NUMPAD_PERIOD:case b.NUMPAD_DIVIDE:return}if(65<=
c&&90>=c||48<=c&&57>=c||c==b.SPACE)return;c=!1;for(var d in b)if(b[d]===a.keyCode){c=!0;break}if(!c)return}}(c=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||(c=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==b.SPACE?String.fromCharCode(a.keyCode):a.keyCode);c||(c=229);if("keypress"==a.type){if("string"!=typeof c)return;if("a"<=c&&"z">=c||"A"<=c&&"Z">=c||"0"<=c&&"9">=c||" "===c)if(a.ctrlKey||a.metaKey||a.altKey)return}if("input"==a.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var e={faux:!0},k;for(k in a)"layerX"!=k&&"layerY"!=k&&(d=a[k],"function"!=typeof d&&"undefined"!=typeof d&&(e[k]=d));h.mixin(e,{charOrCode:c,_wasConsumed:!1,preventDefault:function(){e._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});!1===this.onInput(e)&&(e.preventDefault(),e.stopPropagation());e._wasConsumed||this.defer(function(){this._onInput(e)})})))},_blankValue:"",filter:function(a){if(null===a)return this._blankValue;
if("string"!=typeof a)return a;this.trim&&(a=h.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(a){!this.disabled&&
!this.readOnly&&(this.selectOnClick&&"mouse"==a&&(this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;this._isTextSelected()||n.selectInputText(this.textbox)}),this.defer(function(){this._selectOnClickHandle&&(this.disconnect(this._selectOnClickHandle),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value="";this.inherited(arguments)},
_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.applyTextDir(this.focusNode,this.focusNode.value)}});n._setSelectionRange=p._setSelectionRange=function(a,b,c){a.setSelectionRange&&a.setSelectionRange(b,c)};n.selectInputText=p.selectInputText=function(a,b,c){a=e.byId(a);isNaN(b)&&(b=0);isNaN(c)&&(c=a.value?a.value.length:0);try{a.focus(),n._setSelectionRange(a,b,c)}catch(d){}};return n})},"dijit/TitlePane":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/_base/event dojo/fx dojo/_base/kernel dojo/keys ./_CssStateMixin ./_TemplatedMixin ./layout/ContentPane dojo/text!./templates/TitlePane.html ./_base/manager".split(" "),
function(d,g,e,c,b,h,l,p,n,a,m,q,t,k,f){return g("dijit.TitlePane",[t,q,m],{title:"",_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!0,toggleable:!0,tabIndex:"0",duration:f.defaultDuration,baseClass:"dijitTitlePane",templateString:k,doLayout:!1,_setTooltipAttr:{node:"focusNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);e.setSelectable(this.titleNode,!1)},postCreate:function(){this.inherited(arguments);this.toggleable&&this._trackMouseState(this.titleBarNode,
"dijitTitlePaneTitle");var a=this.hideNode,b=this.wipeNode;this._wipeIn=p.wipeIn({node:b,duration:this.duration,beforeBegin:function(){a.style.display=""}});this._wipeOut=p.wipeOut({node:b,duration:this.duration,onEnd:function(){a.style.display="none"}})},_setOpenAttr:function(a,b){d.forEach([this._wipeIn,this._wipeOut],function(a){a&&"playing"==a.status()&&a.stop()});b?this[a?"_wipeIn":"_wipeOut"].play():this.hideNode.style.display=this.wipeNode.style.display=a?"":"none";if(this._started)if(a)this._onShow();
else this.onHide();this.containerNode.setAttribute("aria-hidden",a?"false":"true");this.focusNode.setAttribute("aria-pressed",a?"true":"false");this._set("open",a);this._setCss()},_setToggleableAttr:function(a){this.focusNode.setAttribute("role",a?"button":"heading");a?(this.focusNode.setAttribute("aria-controls",this.id+"_pane"),this.focusNode.setAttribute("tabIndex",this.tabIndex),this.focusNode.setAttribute("aria-pressed",this.open)):(c.remove(this.focusNode,"aria-controls"),c.remove(this.focusNode,
"tabIndex"),c.remove(this.focusNode,"aria-pressed"));this._set("toggleable",a);this._setCss()},_setContentAttr:function(a){!this.open||!this._wipeOut||"playing"==this._wipeOut.status()?this.inherited(arguments):(this._wipeIn&&"playing"==this._wipeIn.status()&&this._wipeIn.stop(),h.setMarginBox(this.wipeNode,{h:h.getMarginBox(this.wipeNode).h}),this.inherited(arguments),this._wipeIn?this._wipeIn.play():this.hideNode.style.display="")},toggle:function(){this._setOpenAttr(!this.open,!0)},_setCss:function(){var a=
this.titleBarNode||this.focusNode,c=this._titleBarClass;this._titleBarClass="dijit"+(this.toggleable?"":"Fixed")+(this.open?"Open":"Closed");b.replace(a,this._titleBarClass,c||"");this.arrowNodeInner.innerHTML=this.open?"-":"+"},_onTitleKey:function(b){b.keyCode==a.ENTER||b.keyCode==a.SPACE?this.toggleable&&(this.toggle(),l.stop(b)):b.keyCode==a.DOWN_ARROW&&this.open&&(this.containerNode.focus(),b.preventDefault())},_onTitleClick:function(){this.toggleable&&this.toggle()},setTitle:function(a){n.deprecated("dijit.TitlePane.setTitle() is deprecated.  Use set('title', ...) instead.",
"","2.0");this.set("title",a)}})})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./_base/connect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),function(d,g,e,c,b,h,l,p,n,a,m){e.isAsync||a(0,function(){m(["./fx/Toggler"])});e=e.fx={};a={_fire:function(a,b){this[a]&&this[a].apply(this,b||[]);return this}};var q=function(a){this._index=-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;c.forEach(this._animations,
function(a){this.duration+=a.duration;a.delay&&(this.duration+=a.delay)},this)};q.prototype=new g;d.extend(q,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){b.disconnect(this._onAnimateCtx);b.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=b.connect(this._current,"onAnimate",this,"_onAnimate"),this._onEndCtx=b.connect(this._current,
"onEnd",this,"_onEnd"),this._current.play(0,!0))},play:function(a,c){this._current||(this._current=this._animations[this._index=0]);if(!c&&"playing"==this._current.status())return this;var d=b.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin")}),e=b.connect(this._current,"onBegin",this,function(a){this._fire("onBegin",arguments)}),h=b.connect(this._current,"onPlay",this,function(a){this._fire("onPlay",arguments);b.disconnect(d);b.disconnect(e);b.disconnect(h)});this._onAnimateCtx&&
b.disconnect(this._onAnimateCtx);this._onAnimateCtx=b.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx&&b.disconnect(this._onEndCtx);this._onEndCtx=b.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=b.connect(this._current,"onPause",this,function(c){this._fire("onPause",arguments);b.disconnect(a)});this._current.pause()}return this},gotoPercent:function(a,b){this.pause();var d=this.duration*
a;this._current=null;c.some(this._animations,function(a){if(a.duration<=d)return this._current=a,!0;d-=a.duration;return!1});this._current&&this._current.gotoPercent(d/this._current.duration,b);return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var c=b.connect(this._current,"onStop",this,function(a){this._fire("onStop",arguments);b.disconnect(c)});this._current.stop()}return this},
status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this._onAnimateCtx&&b.disconnect(this._onAnimateCtx);this._onEndCtx&&b.disconnect(this._onEndCtx)}});d.extend(q,a);e.chain=function(a){return new q(a)};var t=function(a){this._animations=a||[];this._connects=[];this.duration=this._finished=0;c.forEach(a,function(a){var c=a.duration;a.delay&&(c+=a.delay);this.duration<c&&(this.duration=c);this._connects.push(b.connect(a,"onEnd",this,"_onEnd"))},this);this._pseudoAnimation=
new h.Animation({curve:[0,1],duration:this.duration});var f=this;c.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(a){f._connects.push(b.connect(f._pseudoAnimation,a,function(){f._fire(a,arguments)}))})};d.extend(t,{_doAction:function(a,b){c.forEach(this._animations,function(c){c[a].apply(c,b)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,b){var c=this._pseudoAnimation;c[a].apply(c,b)},play:function(a,
b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,b){var d=this.duration*a;c.forEach(this._animations,function(a){a.gotoPercent(a.duration<d?1:d/a.duration,b)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},
destroy:function(){c.forEach(this._connects,b.disconnect)}});d.extend(t,a);e.combine=function(a){return new t(a)};e.wipeIn=function(a){var c=a.node=l.byId(a.node),e=c.style,g;a=h.animateProperty(d.mixin({properties:{height:{start:function(){g=e.overflow;e.overflow="hidden";if("hidden"==e.visibility||"none"==e.display)return e.height="1px",e.display="",e.visibility="",1;var a=p.get(c,"height");return Math.max(a,1)},end:function(){return c.scrollHeight}}}},a));var m=function(){e.height="auto";e.overflow=
g};b.connect(a,"onStop",m);b.connect(a,"onEnd",m);return a};e.wipeOut=function(a){var c=(a.node=l.byId(a.node)).style,e;a=h.animateProperty(d.mixin({properties:{height:{end:1}}},a));b.connect(a,"beforeBegin",function(){e=c.overflow;c.overflow="hidden";c.display=""});var g=function(){c.overflow=e;c.height="auto";c.display="none"};b.connect(a,"onStop",g);b.connect(a,"onEnd",g);return a};e.slideTo=function(a){var c=null,e=null,g=function(a){return function(){var b=p.getComputedStyle(a),d=b.position;
c="absolute"==d?a.offsetTop:parseInt(b.top)||0;e="absolute"==d?a.offsetLeft:parseInt(b.left)||0;"absolute"!=d&&"relative"!=d&&(b=n.position(a,!0),c=b.y,e=b.x,a.style.position="absolute",a.style.top=c+"px",a.style.left=e+"px")}}(a.node=l.byId(a.node));g();a=h.animateProperty(d.mixin({properties:{top:a.top||0,left:a.left||0}},a));b.connect(a,"beforeBegin",a,g);return a};return e})},"dote-client/TopicList":function(){define("./_StoreMixin ./_TopicMixin ./fade dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/json dojo/on dojo/window dijit/_Contained dijit/_CssStateMixin dijit/_OnDijitClickMixin dijit/_TemplatedMixin dijit/_WidgetBase dijit/layout/_LayoutWidget dojo/text!./resources/_TopicListItem.html dojo/text!./resources/TopicList.html".split(" "),
function(d,g,e,c,b,h,l,p,n,a,m,q,t,k,f,u,x,r,A,y,v){var s=b([r,k,x,g],{baseClass:"doteTopicItem",templateString:y,cssStateNodes:{voteUpNode:"doteTopicItemVoteUp",voteNeutralNode:"doteTopicItemVoteNeutral",voteDownNode:"doteTopicItemVoteDown",titleNode:"doteTopicItemTitle"},item:null,_setItemAttr:function(a){for(var b in a)"id"!==b&&this.set(b,a[b]);this._set("item",a)},title:"",_setTitleAttr:function(a){this.titleNode.innerHTML='\x3ca href\x3d"/topic/'+this.item.id+'"\x3e'+a+"\x3c/a\x3e";this._set("title",
a)},vote:null,_setVoteAttr:function(a){this.item&&(c.some(this.item.voters,function(b,c){return b.user.id===this.topicList.user.id?(b.vote=a,!0):!1},this)||this.item.voters.push({user:this.topicList.user,vote:a}),this.set("voters",this.item.voters),this.topicList.store.put(this.item));this._set("vote",a)},_setDescriptionAttr:null,tags:[],_setTagsAttr:function(a){"string"===typeof a&&(a=a.replace(/\s{2,}/," ").toLowerCase().split(/\s*,\s*/));this.item&&(this.tags&&a&&this._started&&a.join()!==this.tags.join())&&
(this.item.tags=a,this.topicList.store.put(this.item));this._set("tags",a);this._started&&this._displayTags()},_setWatchersAttr:function(a){this.inherited(arguments);this._started&&(this.item&&a&&a instanceof Array)&&(this.item.watchers=a.slice(0),this.topicList.store.put(this.item))},tagsEditable:!0,topicList:null,startup:function(){this.inherited(arguments);e.show(this.domNode)},_onActionChange:function(a){this.inherited(arguments);if(this.item.action!==a){this.item.action=a;var b=this;this.topicList.store.put(this.item).then(function(a){b.set("item",
a)})}}});return b([A,x,f,u,d],{baseClass:"doteTopicList",templateString:v,moreLabel:"More...",loadingLabel:'\x3cspan class\x3d"dijitInline doteTopicListLoadingIcon"\x3e\x3c/span\x3eLoading...',cssStateNodes:{moreButtonNode:"doteTopicListMoreButton"},user:null,more:!1,_setMoreAttr:function(a){a!==this.more&&(a?(n.remove(this.moreNode,this.baseClass+"Hide"),this._signals.push(q(this.domNode.parentNode,"scroll",h.hitch(this,this._calcMoreVisible))),this._signals.push(q(l.doc,"scroll",h.hitch(this,this._calcMoreVisible)))):
(n.add(this.moreNode,this.baseClass+"Hide"),c.forEach(this._signals,function(a){a.remove()}),this._signals=[]),this._set("more",a))},moreVisible:!1,_signals:null,_morePos:null,constructor:function(){this._signals=[]},startup:function(){this.inherited(arguments);this.own(this.on("results",h.hitch(this,this._onResults)));this.own(this.on("visible",h.hitch(this,this._onVisible)))},addTopic:function(a){a=h.mixin(a,{id:this.id+"_topic"+this.getChildren().length});this.addChild(new s(a))},empty:function(){this.set("more",
!1);this.set("start",0);this.destroyDescendants()},_onResults:function(a){if(a&&a.items){var b=this;this._morePos=null;a.items.forEach(function(a){b.addChild(new s({id:b.id+"_topic"+b.getChildren().length,voter:b.user,topicList:b,item:a}))});this.total&&this.total>this.getChildren().length?this.set("more",!0):this.set("more",!1)}},_calcMoreVisible:function(){var b=this._morePos=this._morePos||a.position(this.moreNode,!0),c=t.getBox(),f=b.y>c.t&&b.y<=c.h+c.t&&b.x>c.l&&b.x<=c.w+c.l;f!==this.moreVisible&&
(f&&!this.moreVisible&&this.emit("visible",{node:this.moreNode,position:{node:b,win:c}}),this.set("moreVisible",f))},_setLoading:function(a){a?(p.set(this.moreButtonNode,"disabled","disabled"),this.moreButtonNode.innerHTML=this.loadingLabel):(p.remove(this.moreButtonNode,"disabled"),this.moreButtonNode.innerHTML=this.moreLabel)},_onVisible:function(a){a.node===this.moreNode&&this.start<this.maxCount&&(this._setLoading(!0),this.fetch().then(h.hitch(this,this._setLoading)))},_onMoreClick:function(a){a&&
a.preventDefault();this._setLoading(!0);this.fetch().then(h.hitch(this,this._setLoading))}})})},"dote-client/_StoreMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/when"],function(d,g,e,c){return g(null,{store:null,_setStoreAttr:function(b){this._set("store",b);this.dirty={}},query:null,_setQueryAttr:function(b){this._set("query",void 0!==b?b:this.query);this.started&&(this.start=0)},_getQueryAttr:function(){return"object"==typeof this.query&&null!==this.query?
e.delegate(this.query,{}):this.query},queryOptions:null,_setQueryOptionsAttr:function(b){this._set("queryOptions",b||this.queryOptions)},_getQueryOptionsAttr:function(){return e.delegate(this.queryOptions,{})},start:0,count:10,maxCount:Infinity,total:null,getBeforePut:!0,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this.sort=[];this._updating={}},_results:null,_querying:!1,_doQuery:function(){this._qeurying=!0;var b=e.mixin({start:this.start,
count:this.count},this.queryOptions||{}),d=this._results=this.store.query(this.query,b),g=this;return c(d.total,function(b){g._set("total",b);return c(d,function(b){g.emit("results",{items:b});g._querying=!1;return b})})},fetch:function(){if(!this._querying){var b=this;return this._doQuery().then(function(c){b._set("start",b.start+c.length)})}},refresh:function(){if(!this._querying)return this._doQuery()}})})},"dote-client/_TopicMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-style dojo/on dijit/_CssStateMixin dijit/_OnDijitClickMixin dijit/form/Select dijit/form/TextBox moment/moment".split(" "),
function(d,g,e,c,b,h,l,p,n,a,m,q){var t=["open","reopened"],k=[{value:"open",label:"Open"},{value:"reopened",label:"Reopened"},{value:"accepted",label:"Accepted"},{value:"rejected",label:"Rejected"}];return g([p,n],{cssStateNodes:{voteUpNode:"doteTopicItemVoteUp",voteNeutralNode:"doteTopicItemVoteNeutral",voteDownNode:"doteTopicItemVoteDown"},title:"",_setTitleAttr:{node:"titleNode",type:"innerHTML"},description:"",_setDescriptionAttr:{node:"descriptionNode",type:"innerHTML"},summary:"",_setSummaryAttr:{node:"summaryNode",
type:"innerHTML"},votes:0,_setVotesAttr:{node:"votesNode",type:"innerHTML"},voter:"",voters:[],_setVotersAttr:function(a){var b=0;a instanceof Array?this._set("voters",a):this._set("voters",JSON.parse(a));d.forEach(this.voters,function(a){a.vote&&(b+=a.vote)});this.set("votes",b);this._started&&(this._displayVoters(),this._displayVote(),this._displaySpark())},itemWidgets:{},actionSelect:null,action:"",_setActionAttr:function(a){this.actionSelect?this.actionSelect.set("value",a):this.actionStatusNode.innerHTML=
a;this._set("action",a);this._started&&this._displayStatus()},owner:"",_setOwnerAttr:function(c){c===(this.user&&this.user.id||this.topicList&&this.topicList.user&&this.topicList.user.id||"")?this.actionSelect||(this.actionSelect=new a({id:this.id+"_actionSelect",name:"action",options:k,value:this.action}),b.empty(this.actionStatusNode),this.actionSelect.placeAt(this.actionStatusNode),this.actionSelect.startup(),this.own(this.actionSelect.on("change",e.hitch(this,this._onActionChange)))):(this.actionSelect&&
this.actionSelect.destroy(),b.empty(this.actionStatusNode),this.actionStatusNode.innerHTML=this.action);this.ownerNode.innerHTML=c;this._set("owner",c)},author:"",actioned:"",_setActionedAttr:function(a){a instanceof Date||a instanceof Array?a=q(a).fromNow():parseFloat(a)==parseInt(a,10)&&!isNaN(a)&&(a=q.unix(a).fromNow());this.actionedStatusNode.innerHTML=a?"Actioned "+a:"";this._set("actionTime",a)},created:"",_setCreatedAttr:function(a){a instanceof Date||a instanceof Array?a=q(a).fromNow():parseFloat(a)==
parseInt(a,10)&&!isNaN(a)&&(a=q.unix(a).fromNow());this.postedStatusNode.innerHTML=(a?"Posted "+a:"")+(this.author?"\x3cbr\x3eby "+this.author:"");this._set("created",a)},watchers:[],_setWatchersAttr:function(a){a instanceof Array?this._set("watchers",a):this._set("watchers",JSON.parse(a));this.set("watched",~d.indexOf(this.watchers,this.voter))},watched:!1,_setWatchedAttr:function(a){a?(c.add(this.watchNode,"icon-star"),c.remove(this.watchNode,"icon-star-empty")):(c.remove(this.watchNode,"icon-star"),
c.add(this.watchNode,"icon-star-empty"));this._set("watched",a)},commentsCount:0,_setCommentsCountAttr:{node:"commentsCountNode",type:"innerHTML"},tagsEditable:!1,addTagNode:null,addTagListener:null,constructor:function(){this.voters=[];this.tags=[];this.itemWidgets={}},postCreate:function(){this.inherited(arguments);this._displayTags();this._displayVoters();this._displayVote();this._displaySpark();this._displayStatus()},_displayVoters:function(){b.empty(this.votersNode);d.forEach(this.voters,function(a){b.create("li",
{innerHTML:a.user.id+(a.user.committer?' \x3ci class\x3d"icon-certificate"\x3e\x3c/i\x3e':""),"class":0<a.vote?this.baseClass+"VoterPlus":0>a.vote?this.baseClass+"VoterMinus":this.baseClass+"VoterNeutral"},this.votersNode)},this)},_displayTags:function(){this.addTagListener&&this.addTagListener.remove();b.empty(this.tagsNode);d.forEach(this.tags,function(a){b.create("li",{innerHTML:a},this.tagsNode)},this);this.tagsEditable&&(this.addTagNode=b.create("a",{href:"/editTags",innerHTML:'\x3ci class\x3d"icon-edit icon-large"\x3e\x3c/i\x3e\x3cspan class\x3d"a11yLabel"\x3eAdd Tag\x3c/span\x3e'},
this.tagsNode),this.addTagListener=l(this.addTagNode,"click",e.hitch(this,this._editTags)))},_editTags:function(a){function c(a){if(!a||a&&13==a.charOrCode)a=d.get("value"),d.destroy(),this.set("tags",a)}a&&a.preventDefault();this.addTagListener.remove();b.empty(this.tagsNode);var d=new m({id:this.id+"_editTags",name:"editTags",value:this.get("tags").join(", "),style:{width:"550px"}});d.on("blur",e.hitch(this,c));d.on("keypress",e.hitch(this,c));d.placeAt(this.tagsNode);d.startup()},_displayVote:function(){var a=
this.baseClass+"VoteSelected";d.some(this.voters,function(b){if(b.user.id===this.voter.id){switch(b.vote){case -1:c.remove(this.voteUpNode,a);c.remove(this.voteNeutralNode,a);c.add(this.voteDownNode,a);break;case 1:c.add(this.voteUpNode,a);c.remove(this.voteNeutralNode,a);c.remove(this.voteDownNode,a);break;case 0:c.remove(this.voteUpNode,a),c.add(this.voteNeutralNode,a),c.remove(this.voteDownNode,a)}return!0}return!1},this)},_displaySpark:function(){if(this.voters.length){var a=0,b=0,c=0;d.forEach(this.voters,
function(d){switch(d.vote){case -1:b++;break;case 1:a++;break;default:c++}});var a=Math.round(100*(a/this.voters.length)),b=Math.round(100*(b/this.voters.length)),c=Math.round(100*(c/this.voters.length)),e=100-a-b-c;a?a+=e:b?b+=e:c+=e;h.set(this.sparkPlusNode,"width",a+"%");h.set(this.sparkNeutralNode,"width",c+"%");h.set(this.sparkMinusNode,"width",b+"%")}},_displayStatus:function(){~t.indexOf(this.action)?c.add(this.statusContainerNode,this.baseClass+"StatusActive"):c.remove(this.statusContainerNode,
this.baseClass+"StatusActive")},_onActionChange:function(a){this.set("action",a)},_onUpClick:function(a){a&&a.preventDefault();this.set("vote",1)},_onNeutralClick:function(a){a&&a.preventDefault();this.set("vote",0)},_onDownClick:function(a){a&&a.preventDefault();this.set("vote",-1)},_onWatchClick:function(a){a&&a.preventDefault();a=this.watchers.slice(0);var b=d.indexOf(a,this.voter);0<=b?a.splice(b,1):a.push(this.voter);this.set("watchers",a)}})})},"moment/moment":function(){define([],function(){function d(a,
b,c,d){var f=c.lang();return f[a].call?f[a](c,d):f[a][b]}function g(a,b){return function(c){return l(a.call(this,c),b)}}function e(a){return function(b){b=a.call(this,b);return b+this.lang().ordinal(b)}}function c(a,b,c){this._d=a;this._isUTC=!!b;this._a=a._a||null;this._lang=c||!1}function b(a){var b=this._data={},c=a.years||a.y||0,d=a.months||a.M||0,f=a.weeks||a.w||0,e=a.days||a.d||0,g=a.hours||a.h||0,k=a.minutes||a.m||0,m=a.seconds||a.s||0;a=a.milliseconds||a.ms||0;this._milliseconds=a+1E3*m+6E4*
k+36E5*g;this._days=e+7*f;this._months=d+12*c;b.milliseconds=a%1E3;m+=h(a/1E3);b.seconds=m%60;k+=h(m/60);b.minutes=k%60;g+=h(k/60);b.hours=g%24;e+=h(g/24);e+=7*f;b.days=e%30;d+=h(e/30);b.months=d%12;c+=h(d/12);b.years=c;this._lang=!1}function h(a){return 0>a?Math.ceil(a):Math.floor(a)}function l(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function p(a,b,c){var d=b._milliseconds,f=b._days;b=b._months;d&&a._d.setTime(+a+d*c);f&&a.date(a.date()+f*c);b&&(d=a.date(),a.date(1).month(a.month()+b*c).date(Math.min(d,
a.daysInMonth())))}function n(a){return"[object Array]"===Object.prototype.toString.call(a)}function a(a,b){var c=Math.min(a.length,b.length),d=Math.abs(a.length-b.length),f=0,e;for(e=0;e<c;e++)~~a[e]!==~~b[e]&&f++;return f+d}function m(a,b,c,d){var f,e=[];for(f=0;7>f;f++)e[f]=a[f]=null==a[f]?2===f?1:0:a[f];a[7]=e[7]=b;null!=a[8]&&(e[8]=a[8]);a[3]+=c||0;a[4]+=d||0;c=new Date(0);b?(c.setUTCFullYear(a[0],a[1],a[2]),c.setUTCHours(a[3],a[4],a[5],a[6])):(c.setFullYear(a[0],a[1],a[2]),c.setHours(a[3],a[4],
a[5],a[6]));c._a=e;return c}function q(a,b){var c,d,f=[];!b&&C&&(b=require("./lang/"+a));for(c=0;c<E.length;c++)b[E[c]]=b[E[c]]||B.en[E[c]];for(c=0;12>c;c++)d=s([2E3,c]),f[c]=RegExp("^"+(b.months[c]||b.months(d,""))+"|^"+(b.monthsShort[c]||b.monthsShort(d,"")).replace(".",""),"i");b.monthsParse=b.monthsParse||f;return B[a]=b}function t(a){return(a="string"===typeof a&&a||a&&a._lang||null)?B[a]||q(a):s}function k(a){var b=a.match(K),c,d;c=0;for(d=b.length;c<d;c++)b[c]=D[b[c]]?D[b[c]]:b[c].match(/\[.*\]/)?
b[c].replace(/^\[|\]$/g,""):b[c].replace(/\\/g,"");return function(f){var e="";for(c=0;c<d;c++)e+="function"===typeof b[c].call?b[c].call(f,a):b[c];return e}}function f(a,b){function c(b){return a.lang().longDateFormat[b]||b}for(var d=5;d--&&L.test(b);)b=b.replace(L,c);F[b]||(F[b]=k(b));return F[b](a)}function u(a){switch(a){case "DDDD":return Q;case "YYYY":return R;case "S":case "SS":case "SSS":case "DDD":return S;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":case "a":case "A":return T;
case "Z":case "ZZ":return G;case "T":return U;case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return V;default:return RegExp(a.replace("\\",""))}}function x(a,b){var c=[0,0,1,0,0,0,0],d={tzh:0,tzm:0},f=b.match(K),e,g;for(e=0;e<f.length;e++)if((g=(u(f[e]).exec(a)||[])[0])&&(a=a.slice(a.indexOf(g)+g.length)),D[f[e]]){var h=c,k=d,l=void 0,n=void 0;switch(f[e]){case "M":case "MM":h[1]=null==g?0:~~g-1;break;case "MMM":case "MMMM":for(l=
0;12>l;l++)if(t().monthsParse[l].test(g)){h[1]=l;n=!0;break}n||(h[8]=!1);break;case "D":case "DD":case "DDD":case "DDDD":null!=g&&(h[2]=~~g);break;case "YY":h[0]=~~g+(70<~~g?1900:2E3);break;case "YYYY":h[0]=~~Math.abs(g);break;case "a":case "A":k.isPm="pm"===(g+"").toLowerCase();break;case "H":case "HH":case "h":case "hh":h[3]=~~g;break;case "m":case "mm":h[4]=~~g;break;case "s":case "ss":h[5]=~~g;break;case "S":case "SS":case "SSS":h[6]=~~(1E3*("0."+g));break;case "Z":case "ZZ":k.isUTC=!0;if((l=
(g+"").match(W))&&l[1])k.tzh=~~l[1];l&&l[2]&&(k.tzm=~~l[2]);l&&"+"===l[0]&&(k.tzh=-k.tzh,k.tzm=-k.tzm)}null==g&&(h[8]=!1)}d.isPm&&12>c[3]&&(c[3]+=12);!1===d.isPm&&12===c[3]&&(c[3]=0);return m(c,d.isUTC,d.tzh,d.tzm)}function r(a,b,c,d,f){f=f.relativeTime[a];return"function"===typeof f?f(b||1,!!c,a,d):f.replace(/%d/i,b||1)}function A(a,b){s.fn[a]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),this):this._d["get"+c+b]()}}function y(a){s.duration.fn[a]=function(){return this._data[a]}}
function v(a,b){s.duration.fn["as"+a]=function(){return+this/b}}for(var s,w=Math.round,z,B={},J="en",C="undefined"!==typeof module&&module.exports,E="months monthsShort weekdays weekdaysShort weekdaysMin longDateFormat calendar relativeTime ordinal meridiem".split(" "),X=/^\/?Date\((\-?\d+)/i,K=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?)/g,M=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,
V=/\d\d?/,S=/\d{1,3}/,Q=/\d{3}/,R=/\d{1,4}/,T=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,G=/Z|[\+\-]\d\d:?\d\d/i,U=/T/i,Y=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,N=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],W=/([\+\-]|\d\d)/gi,H="Month Date Hours Minutes Seconds Milliseconds".split(" "),I={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},
F={},O=["DDD","w","M","D","d"],P="MDHhmsw".split(""),D={M:function(){return this.month()+1},MMM:function(a){return d("monthsShort",this.month(),this,a)},MMMM:function(a){return d("months",this.month(),this,a)},D:function(){return this.date()},DDD:function(){var a=new Date(this.year(),this.month(),this.date()),b=new Date(this.year(),0,1);return~~((a-b)/864E5+1.5)},d:function(){return this.day()},dd:function(a){return d("weekdaysMin",this.day(),this,a)},ddd:function(a){return d("weekdaysShort",this.day(),
this,a)},dddd:function(a){return d("weekdays",this.day(),this,a)},w:function(){var a=new Date(this.year(),this.month(),this.date()-this.day()+5),b=new Date(a.getFullYear(),0,4);return~~((a-b)/864E5/7+1.5)},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%
12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return l(~~(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+l(~~(a/60),2)+":"+l(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+l(~~(10*a/6),4)}};O.length;)z=O.pop(),D[z+"o"]=e(D[z]);for(;P.length;)z=P.pop(),D[z+z]=g(D[z],2);D.DDDD=g(D.DDD,
3);s=function(b,d){if(null===b||""===b)return null;var e;if(s.isMoment(b))return new c(new Date(+b._d),b._isUTC,b._lang);if(d)if(n(d)){var g=b.match(M)||[],h,k=99,l,q;for(l=0;l<d.length;l++)q=x(b,d[l]),h=f(new c(q),d[l]).match(M)||[],h=a(g,h),h<k&&(k=h,e=q)}else e=x(b,d);else if(e=X.exec(b),void 0===b)e=new Date;else if(e)e=new Date(+e[1]);else if(b instanceof Date)e=b;else if(n(b))e=m(b);else if("string"===typeof b)if(e="YYYY-MM-DDT",Y.exec(b)){for(g=0;4>g;g++)if(N[g][1].exec(b)){e+=N[g][0];break}e=
G.exec(b)?x(b,e+" Z"):x(b,e)}else e=new Date(b);else e=new Date(b);return new c(e)};s.utc=function(a,b){if(n(a))return new c(m(a,!0),!0);"string"===typeof a&&!G.exec(a)&&(a+=" +0000",b&&(b+=" Z"));return s(a,b).utc()};s.unix=function(a){return s(1E3*a)};s.duration=function(a,c){var d=s.isDuration(a),e="number"===typeof a,f=d?a._data:e?{}:a;e&&(c?f[c]=a:f.milliseconds=a);e=new b(f);d&&(e._lang=a._lang);return e};s.humanizeDuration=function(a,b,c){return s.duration(a,!0===b?null:b).humanize(!0===b?
!0:c)};s.version="1.7.2";s.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";s.lang=function(a,b){var c;if(!a)return J;(b||!B[a])&&q(a,b);if(B[a]){for(c=0;c<E.length;c++)s[E[c]]=B[a][E[c]];s.monthsParse=B[a].monthsParse;J=a}};s.langData=t;s.isMoment=function(a){return a instanceof c};s.isDuration=function(a){return a instanceof b};s.lang("en",{months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},
relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"}});s.fn=c.prototype={clone:function(){return s(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1E3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},
toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?null!=this._a[8]?!!this._a[8]:!a(this._a,(this._a[7]?s.utc(this._a):s(this._a)).toArray()):!isNaN(this._d.getTime())},utc:function(){this._isUTC=!0;return this},local:function(){this._isUTC=!1;return this},format:function(a){return f(this,a?a:s.defaultFormat)},add:function(a,b){var c=b?s.duration(+b,a):s.duration(a);p(this,
c,1);return this},subtract:function(a,b){var c=b?s.duration(+b,a):s.duration(a);p(this,c,-1);return this},diff:function(a,b,c){a=this._isUTC?s(a).utc():s(a).local();var d=6E4*(this.zone()-a.zone()),d=this._d-a._d-d,e=this.year()-a.year(),f=this.month()-a.month();a=this.date()-a.date();b="months"===b?12*e+f+a/30:"years"===b?e+(f+a/30)/12:"seconds"===b?d/1E3:"minutes"===b?d/6E4:"hours"===b?d/36E5:"days"===b?d/864E5:"weeks"===b?d/6048E5:d;return c?b:w(b)},from:function(a,b){return s.duration(this.diff(a)).lang(this._lang).humanize(!b)},
fromNow:function(a){return this.from(s(),a)},calendar:function(){var a=this.diff(s().sod(),"days",!0),b=this.lang().calendar,c=b.sameElse,a=-6>a?c:-1>a?b.lastWeek:0>a?b.lastDay:1>a?b.sameDay:2>a?b.nextDay:7>a?b.nextWeek:c;return this.format("function"===typeof a?a.apply(this):a)},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<s([this.year()]).zone()||this.zone()<s([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():
this._d.getDay();return null==a?b:this.add({d:a-b})},startOf:function(a){switch(a.replace(/s$/,"")){case "year":this.month(0);case "month":this.date(1);case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return this},endOf:function(a){return this.startOf(a).add(a.replace(/s?$/,"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this._isUTC?
0:this._d.getTimezoneOffset()},daysInMonth:function(){return s.utc([this.year(),this.month()+1,0]).date()},lang:function(a){if(void 0===a)return t(this);this._lang=a;return this}};for(z=0;z<H.length;z++)A(H[z].toLowerCase(),H[z]);A("year","FullYear");s.duration.fn=b.prototype={weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*this._months},humanize:function(a){var b=+this,c=this.lang().relativeTime,d;d=!a;var e=this.lang(),f=w(Math.abs(b)/
1E3),g=w(f/60),h=w(g/60),k=w(h/24),l=w(k/365),f=45>f&&["s",f]||1===g&&["m"]||45>g&&["mm",g]||1===h&&["h"]||22>h&&["hh",h]||1===k&&["d"]||25>=k&&["dd",k]||45>=k&&["M"]||345>k&&["MM",w(k/30)]||1===l&&["y"]||["yy",l];f[2]=d;f[3]=0<b;f[4]=e;d=r.apply({},f);b=0>=b?c.past:c.future;a&&(d="function"===typeof b?b(d):b.replace(/%s/i,d));return d},lang:s.fn.lang};for(z in I)I.hasOwnProperty(z)&&(v(z,I[z]),y(z.toLowerCase()));v("Weeks",6048E5);return s})},"dote-client/fade":function(){define(["dojo/_base/fx",
"dojo/dom","dojo/dom-style"],function(d,g,e){return{show:function(c,b,h){"string"===typeof c&&(c=g.byId(c));e.set(c,"opacity","0");e.set(c,"display","block");d.fadeIn({node:c,duration:b||500}).play();h&&h.focus()}}})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),function(d,g,e,c,b,h,l,p,n){return h("dijit.layout._LayoutWidget",[g,e,c],{baseClass:"dijitLayoutContainer",
isLayoutContainer:!0,buildRendering:function(){this.inherited(arguments);l.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();if(!a||!a.isLayoutContainer)this.resize(),this.own(b.on("resize",d.hitch(this,"resize")))}},resize:function(a,b){var c=this.domNode;a&&p.setMarginBox(c,a);var e=b||{};d.mixin(e,a||{});if(!("h"in e)||!("w"in e))e=d.mixin(p.getMarginBox(c),e);var g=n.getComputedStyle(c),f=p.getMarginExtents(c,
g),h=p.getBorderExtents(c,g),e=this._borderBox={w:e.w-(f.w+h.w),h:e.h-(f.h+h.h)},f=p.getPadExtents(c,g);this._contentBox={l:n.toPixelValue(c,g.paddingLeft),t:n.toPixelValue(c,g.paddingTop),w:e.w-f.w,h:e.h-f.h};this.layout()},layout:function(){},_setupChild:function(a){l.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,b){this.inherited(arguments);this._started&&this._setupChild(a)},removeChild:function(a){l.remove(a.domNode,this.baseClass+
"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:_onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\ttabIndex\x3d"-1" role\x3d"presentation" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n',
"url:dijit/form/templates/CheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cinput\n\t \t${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" aria-checked\x3d"false" ${checkedAttrSetting}\n\t\tclass\x3d"dijitReset dijitCheckBoxInput"\n\t\tdata-dojo-attach-point\x3d"focusNode"\n\t \tdata-dojo-attach-event\x3d"onclick:_onClick"\n/\x3e\x3c/div\x3e\n',"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\n\t   data-dojo-attach-event\x3d"onkeypress:_onKeyPress" cellspacing\x3d"0"\x3e\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\n\x3c/table\x3e\n',
"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset dijitMenuItem" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cimg src\x3d"${_blankGif}" alt\x3d"" class\x3d"dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"/\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\n\t\t\t\x3cimg src\x3d"${_blankGif}" alt\x3d"" class\x3d"dijitMenuExpand"/\x3e\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/templates/MenuSeparator.html":'\x3ctr class\x3d"dijitMenuSeparator"\x3e\n\t\x3ctd class\x3d"dijitMenuSeparatorIconCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\t\x3ctd colspan\x3d"3" class\x3d"dijitMenuSeparatorLabelCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop dijitMenuSeparatorLabel"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e',
"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip"\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:dijit/form/templates/Select.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tdata-dojo-attach-point\x3d"_buttonNode,tableNode,focusNode" cellspacing\x3d\'0\' cellpadding\x3d\'0\'\n\trole\x3d"listbox" aria-haspopup\x3d"true"\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonContents" role\x3d"presentation"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point\x3d"containerNode,_popupStateNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitValidationContainer"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t/\x3e\x3c/div\n\t\t\t\x3e\x3cinput type\x3d"hidden" ${!nameAttrSetting} data-dojo-attach-point\x3d"valueNode" value\x3d"${value}" aria-hidden\x3d"true"\n\t\t/\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\n\t\t\tdata-dojo-attach-point\x3d"titleNode" role\x3d"presentation"\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/\x3e\x3c/td\n\t\x3e\x3c/tr\x3e\x3c/tbody\n\x3e\x3c/table\x3e\n',
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:dijit/templates/TitlePane.html":'\x3cdiv\x3e\n\t\x3cdiv data-dojo-attach-event\x3d"onclick:_onTitleClick, onkeydown:_onTitleKey"\n\t\t\tclass\x3d"dijitTitlePaneTitle" data-dojo-attach-point\x3d"titleBarNode" id\x3d"${id}_titleBarNode"\x3e\n\t\t\x3cdiv class\x3d"dijitTitlePaneTitleFocus" data-dojo-attach-point\x3d"focusNode"\x3e\n\t\t\t\x3cimg src\x3d"${_blankGif}" alt\x3d"" data-dojo-attach-point\x3d"arrowNode" class\x3d"dijitArrowNode" role\x3d"presentation"\n\t\t\t/\x3e\x3cspan data-dojo-attach-point\x3d"arrowNodeInner" class\x3d"dijitArrowNodeInner"\x3e\x3c/span\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitTitlePaneTextNode"\x3e\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTitlePaneContentOuter" data-dojo-attach-point\x3d"hideNode" role\x3d"presentation"\x3e\n\t\t\x3cdiv class\x3d"dijitReset" data-dojo-attach-point\x3d"wipeNode" role\x3d"presentation"\x3e\n\t\t\t\x3cdiv class\x3d"dijitTitlePaneContentInner" data-dojo-attach-point\x3d"containerNode" role\x3d"region" id\x3d"${id}_pane" aria-labelledby\x3d"${id}_titleBarNode"\x3e\n\t\t\t\t\x3c!-- nested divs because wipeIn()/wipeOut() doesn\'t work right on node w/padding etc.  Put padding on inner div. --\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dote-client/resources/_TopicListItem.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"${baseClass}VoteContainer"\x3e\n\t\t\x3cdiv class\x3d"${baseClass}VoteInner"\x3e\n\t\t\t\x3cdiv class\x3d"${baseClass}Votes" data-dojo-attach-point\x3d"votesNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"${baseClass}Spark"\x3e\n\t\t\t\t\x3ctable\x3e\n\t\t\t\t\t\x3ccol class\x3d"${baseClass}SparkPlus" data-dojo-attach-point\x3d"sparkPlusNode"\x3e\n\t\t\t\t\t\x3ccol class\x3d"${baseClass}SparkNeutral" data-dojo-attach-point\x3d"sparkNeutralNode"\x3e\n\t\t\t\t\t\x3ccol class\x3d"${baseClass}SparkMinus" data-dojo-attach-point\x3d"sparkMinusNode"\x3e\n\t\t\t\t\t\x3ctbody\x3e\n\t\t\t\t\t\t\x3ctd\x3e\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd\x3e\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd\x3e\x3c/td\x3e\n\t\t\t\t\t\x3c/tbody\x3e\n\t\t\t\t\x3c/table\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"${baseClass}VoteButtons"\x3e\n\t\t\t\t\x3cul\x3e\n\t\t\t\t\t\x3cli role\x3d"button"\x3e\n\t\t\t\t\t\t\x3ca href\x3d"#" class\x3d"${baseClass}VoteUp" data-dojo-attach-point\x3d"voteUpNode" data-dojo-attach-event\x3d"ondijitclick:_onUpClick"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3cspan\x3eUp\x3c/span\x3e\x3c/a\x3e\n\t\t\t\t\t\x3c/li\x3e\n\t\t\t\t\t\x3cli role\x3d"button"\x3e\n\t\t\t\t\t\t\x3ca href\x3d"#" class\x3d"${baseClass}VoteNeutral" data-dojo-attach-point\x3d"voteNeutralNode" data-dojo-attach-event\x3d"ondijitclick:_onNeutralClick"\x3e\x3ci class\x3d"icon-circle-blank"\x3e\x3c/i\x3e\x3cspan\x3eNeutral\x3c/span\x3e\x3c/a\x3e\n\t\t\t\t\t\x3c/li\x3e\n\t\t\t\t\t\x3cli role\x3d"button"\x3e\n\t\t\t\t\t\t\x3ca href\x3d"#" class\x3d"${baseClass}VoteDown" data-dojo-attach-point\x3d"voteDownNode" data-dojo-attach-event\x3d"ondijitclick:_onDownClick"\x3e\x3ci class\x3d"icon-minus"\x3e\x3c/i\x3e\x3cspan\x3eMinus\x3c/span\x3e\x3c/a\x3e\n\t\t\t\t\t\x3c/li\x3e\n\t\t\t\t\x3c/ul\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"${baseClass}ContentContainer"\x3e\n\t\t\x3cdiv class\x3d"${baseClass}Watch"\x3e\n\t\t\t\x3ca href\x3d"#" data-dojo-attach-event\x3d"ondijitclick:_onWatchClick"\x3e\n\t\t\t\t\x3ci data-dojo-attach-point\x3d"watchNode" class\x3d"icon-star-empty"\x3e\x3c/i\x3e\n\t\t\t\x3c/a\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"${baseClass}ContentInner"\x3e\n\t\t\t\x3cdiv class\x3d"${baseClass}Title" data-dojo-attach-point\x3d"titleNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"${baseClass}Status" data-dojo-attach-point\x3d"statusContainerNode"\x3e\n\t\t\t\t\x3cdiv class\x3d"${baseClass}Action" data-dojo-attach-point\x3d"actionStatusNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"${baseClass}Owner" data-dojo-attach-point\x3d"ownerNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"${baseClass}Posted" data-dojo-attach-point\x3d"postedStatusNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"${baseClass}Actioned" data-dojo-attach-point\x3d"actionedStatusNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"${baseClass}CommentCount"\x3e\x3ci class\x3d"icon-comments-alt"\x3e\x3c/i\x3e\x3cspan data-dojo-attach-point\x3d"commentsCountNode"\x3e\x3c/span\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"${baseClass}Summary" data-dojo-attach-point\x3d"summaryNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"${baseClass}TagsContainer"\x3e\n\t\t\t\t\x3ci class\x3d"icon-tags icon-large"\x3e\x3c/i\x3e\n\t\t\t\t\x3cul class\x3d"${baseClass}Tags" data-dojo-attach-point\x3d"tagsNode"\x3e\n\t\t\t\t\x3c/ul\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"${baseClass}VotersContainer"\x3e\n\t\t\t\t\x3ci class\x3d"icon-check icon-large"\x3e\x3c/i\x3e\n\t\t\t\t\x3cul class\x3d"${baseClass}Voters" data-dojo-attach-point\x3d"votersNode"\x3e\n\t\t\t\t\x3c/ul\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"${baseClass}HeightContainer"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"${baseClass}HeightContainer"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dote-client/resources/TopicList.html":'\x3cdiv class\x3d"${baseClass}" role\x3d"presentation" data-dojo-attach-point\x3d"wrapperNode"\x3e\n\t\x3cdiv class\x3d"${baseClass}Container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"${baseClass}More ${baseClass}Hide" data-dojo-attach-point\x3d"moreNode"\x3e\n\t\t\x3cbutton type\x3d"button" class\x3d"${baseClass}MoreButton" data-dojo-attach-event\x3d"ondijitclick:_onMoreClick" data-dojo-attach-point\x3d"moreButtonNode"\x3e${moreLabel}\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"*now":function(d){d(['dojo/i18n!*preload*dote-client/nls/viewTopicList*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define("dote-client/viewTopicList","dojo/_base/array dojo/dom dojo/promise/all dojo/ready dojo/store/Cache dojo/store/JsonRest dojo/store/Memory dojo/when dijit/form/Button dijit/form/CheckBox dijit/form/Select dijit/form/TextBox dijit/TitlePane ./TopicList ./userControls moment/moment ./widgetModules".split(" "),function(d,g,e,c,b,h,l,p,n,a,m,q,t,k,f,u){function x(a){var b=[],c,d;for(c in a)switch(d=a[c],c){case "filterTagTextBox":d&&b.push("in(tags,("+d.split(/\s*,\s*/).join(",")+"))");break;case "filterInactive":d&&
b.push("in(action,(open,reopened))");break;case "filterWatched":d&&b.push("in(watchers,("+(dote&&dote.username)+"))");break;case "filterAuthorSelect":d&&b.push("author\x3d"+d);break;case "filterOwnerSelect":"__undefined"===d?b.push("owner\x3dnull"):d&&b.push("owner\x3d"+d)}return"?"+b.join("\x26")}var r=b(new h({target:"/topics/"}),new l,{}),A=(new h({target:"/owners/"})).query(),y=(new h({target:"/authors/"})).query();c(function(){f.start();var b=[];new q({id:"filterTagTextBox",name:"filterTagTextBox",
placeHolder:"Comma seperated"},"filterTagTextBox");new a({id:"filterInactive",name:"filterInactive"},"filterInactive");new a({id:"filterWatched",name:"filterWatched"},"filterWatched");var c=new m({id:"filterAuthorSelect",name:"filterAuthorSelect"},"filterAuthorSelect"),h=new m({id:"filterOwnerSelect",name:"filterOwnerSelect"},"filterOwnerSelect"),l=new n({id:"filterButton",label:"Filter",type:"button"},"filterButton");l.on("click",function(a){a&&a.preventDefault();p.set("disabled",!1);u.set("title",
"Filter (Active)");var b={};d.forEach(g.byId("filterForm").elements,function(a){a.name&&"checkbox"!==a.type?b[a.name]=a.value:a.name&&(b[a.name]=a.checked)});C.set("query",x(b));C.empty();C.fetch()});var p=new n({id:"clearButton",label:"Clear",type:"button",disabled:!0},"clearButton");p.on("click",function(a){a&&a.preventDefault();p.set("disabled",!0);l.focus();u.set("title","Filter");C.set("query","");C.empty();C.fetch()});var u=new t({id:"filterPane",title:"Filter",open:!1},"filterPane");b.push(u);
var C=new k({store:r,maxCount:20,queryOptions:{sort:[{attribute:"created",descending:!0}]},user:dote&&dote.user||""},"topicList");b.push(C);e({owners:A,authors:y}).then(function(a){var e=a.owners;a=a.authors;e.unshift({label:"\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;",value:null});h.set("options",e);a.unshift({label:"\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;",value:null});c.set("options",a);d.forEach(b,
function(a){a.startup()});C.fetch()})});return{}});
//@ sourceMappingURL=viewTopicList.js.map