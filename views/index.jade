extends main

prepend head
  title = app.title + " Topic List"

block scripts
  script(type="text/javascript")
    dojoConfig = {
      async: 1,
      baseUrl: "/#{base}",
      packages: [{
        name: "dojo",
        location: "dojo"
      },{
        name: "dijit",
        location: "dijit"
      },{
        name: "dote-client",
        location: "dote-client"
      },{
        name: "moment",
        location: "moment"
      }],
      deps: ["dote-client/viewTopicList"]
    };
    dote = {
      username: "#{username}"
    };
  script(type="text/javascript", src="/#{base}/dojo/dojo.js")

block content
  .header
    .content
      .controls
        ul
          li #{username}
          li
            a(id="settings", href="/settings")
              i(class="icon-cog")
              | settings
          li 
            a(id="newTopic", href="/add")
              i(class="icon-comment-alt")
              | new
          li
            a(id="help", href="/help")
              i(class="icon-question-sign")
              | help
          li
            a(id="logout", href="/logout")
              i(class="icon-signout")
              | logout
      .title #{app.title}
      .subtitle #{app.subtitle}
      .clear
  .main
    h1 Topics
    #filterPane.hide
      form#filterForm
        span.filterItem
          label(for="filterTagTextBox") Tags:
          input#filterTagTextBox(name="filterTagTextBox")
        span.filterItem
          input#filterInactive(name="filterInactive", type="checkbox")
          label(for="filterInactive") Only Active
        span.filterItem
          label(for="filterAuthorSelect") Authored by:
          select#filterAuthorSelect(name="filterAuthorSelect")
        span.filterItem
          label(for="filterOwnerSelect") Owned by:
          select#filterOwnerSelect(name="filterOwnerSelect")
        span.filterItem
          button#filterButton(name="filterButton", type="button") Filter
          button#clearButton(name="clearButton", type="button", disabled="disabled") Clear
    #topicList

  .footer
    .content Copyright &copy; 2012 Dojo Foundation &mdash; All Rights Reserved